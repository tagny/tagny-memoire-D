!function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}}()({1:[function(e,t,n){(function(e,r,i){!function(e,r){"object"==typeof n&&void 0!==t?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(e["fontawesome-svg-core"]={})}(this,function(t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=function(){},d={},f={},p=null,h={mark:u,measure:u};try{"undefined"!=typeof window&&(d=window),"undefined"!=typeof document&&(f=document),"undefined"!=typeof MutationObserver&&(p=MutationObserver),"undefined"!=typeof performance&&(h=performance)}catch(e){}var m=(d.navigator||{}).userAgent,g=void 0===m?"":m,v=d,y=f,b=p,w=h,_=(v.document,!!y.documentElement&&!!y.head&&"function"==typeof y.addEventListener&&"function"==typeof y.createElement),x=~g.indexOf("MSIE")||~g.indexOf("Trident/"),k=16,j="fa",C="svg-inline--fa",E="data-fa-i2svg",S="data-fa-pseudo-element",T="data-fa-pseudo-element-pending",O="data-prefix",A="data-icon",P="fontawesome-i2svg",N="async",M=["HTML","HEAD","STYLE","SCRIPT"],R=function(){try{return"production"===e.env.NODE_ENV}catch(e){return!1}}(),I={fas:"solid",far:"regular",fal:"light",fad:"duotone",fab:"brands",fa:"solid"},D={solid:"fas",regular:"far",light:"fal",duotone:"fad",brands:"fab"},L="fa-layers-text",F=/Font Awesome 5 (Solid|Regular|Light|Duotone|Brands|Free|Pro)/,z={900:"fas",400:"far",normal:"far",300:"fal"},Y=[1,2,3,4,5,6,7,8,9,10],B=Y.concat([11,12,13,14,15,16,17,18,19,20]),H=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],X={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},q=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",X.GROUP,X.SWAP_OPACITY,X.PRIMARY,X.SECONDARY].concat(Y.map(function(e){return"".concat(e,"x")})).concat(B.map(function(e){return"w-".concat(e)})),U=v.FontAwesomeConfig||{};if(y&&"function"==typeof y.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=c(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=y.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=i&&(U[r]=i)})}var W=s({},{familyPrefix:j,replacementClass:C,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},U);W.autoReplaceSvg||(W.observeMutations=!1);var V=s({},W);v.FontAwesomeConfig=V;var $=v||{};$.___FONT_AWESOME___||($.___FONT_AWESOME___={}),$.___FONT_AWESOME___.styles||($.___FONT_AWESOME___.styles={}),$.___FONT_AWESOME___.hooks||($.___FONT_AWESOME___.hooks={}),$.___FONT_AWESOME___.shims||($.___FONT_AWESOME___.shims=[]);var G=$.___FONT_AWESOME___,K=[],J=!1;_&&((J=(y.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(y.readyState))||y.addEventListener("DOMContentLoaded",function e(){y.removeEventListener("DOMContentLoaded",e),J=1,K.map(function(e){return e()})}));var Q,Z="pending",ee="settled",te="fulfilled",ne="rejected",re=function(){},ie=void 0!==r&&void 0!==r.process&&"function"==typeof r.process.emit,oe=void 0===i?setTimeout:i,ae=[];function se(){for(var e=0;e<ae.length;e++)ae[e][0](ae[e][1]);ae=[],Q=!1}function ce(e,t){ae.push([e,t]),Q||(Q=!0,oe(se,0))}function le(e){var t=e.owner,n=t._state,r=t._data,i=e[n],o=e.then;if("function"==typeof i){n=te;try{r=i(r)}catch(e){pe(o,e)}}ue(o,r)||(n===te&&de(o,r),n===ne&&pe(o,r))}function ue(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===n(t))){var i=t.then;if("function"==typeof i)return i.call(t,function(n){r||(r=!0,t===n?fe(e,n):de(e,n))},function(t){r||(r=!0,pe(e,t))}),!0}}catch(t){return r||pe(e,t),!0}return!1}function de(e,t){e!==t&&ue(e,t)||fe(e,t)}function fe(e,t){e._state===Z&&(e._state=ee,e._data=t,ce(me,e))}function pe(e,t){e._state===Z&&(e._state=ee,e._data=t,ce(ge,e))}function he(e){e._then=e._then.forEach(le)}function me(e){e._state=te,he(e)}function ge(e){e._state=ne,he(e),!e._handled&&ie&&r.process.emit("unhandledRejection",e._data,e)}function ve(e){r.process.emit("rejectionHandled",e)}function ye(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof ye==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){pe(t,e)}try{e(function(e){de(t,e)},n)}catch(e){n(e)}}(e,this)}ye.prototype={constructor:ye,_state:Z,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(re),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===ne&&ie&&ce(ve,this)),this._state===te||this._state===ne?ce(le,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},ye.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new ye(function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"==typeof a.then?a.then(o(s),n):r[s]=a;i||t(r)})},ye.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new ye(function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)})},ye.resolve=function(e){return e&&"object"===n(e)&&e.constructor===ye?e:new ye(function(t){t(e)})},ye.reject=function(e){return new ye(function(t,n){n(e)})};var be="function"==typeof Promise?Promise:ye,we=k,_e={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function xe(e){if(e&&_){var t=y.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=y.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return y.head.insertBefore(t,r),e}}var ke="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function je(){for(var e=12,t="";e-- >0;)t+=ke[62*Math.random()|0];return t}function Ce(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Ee(e){return e.classList?Ce(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Se(e,t){var n,r=t.split("-"),i=r[0],o=r.slice(1).join("-");return i!==e||""===o||(n=o,~q.indexOf(n))?null:o}function Te(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Oe(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n],";")},"")}function Ae(e){return e.size!==_e.size||e.x!==_e.x||e.y!==_e.y||e.rotate!==_e.rotate||e.flipX||e.flipY}function Pe(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var Ne={x:0,y:0,width:"100%",height:"100%"};function Me(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Re(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,c=e.symbol,l=e.title,u=e.extra,d=e.watchable,f=void 0!==d&&d,p=r.found?r:n,h=p.width,m=p.height,g="fa-w-".concat(Math.ceil(h/m*16)),v=[V.replacementClass,o?"".concat(V.familyPrefix,"-").concat(o):"",g].filter(function(e){return-1===u.classes.indexOf(e)}).concat(u.classes).join(" "),y={children:[],attributes:s({},u.attributes,{"data-prefix":i,"data-icon":o,class:v,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(m)})};f&&(y.attributes[E]=""),l&&y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(je())},children:[l]});var b=s({},y,{prefix:i,iconName:o,main:n,mask:r,transform:a,symbol:c,styles:u.styles}),w=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.transform,c=i.width,l=i.icon,u=o.width,d=o.icon,f=Pe({transform:a,containerWidth:u,iconWidth:c}),p={tag:"rect",attributes:s({},Ne,{fill:"white"})},h=l.children?{children:l.children.map(Me)}:{},m={tag:"g",attributes:s({},f.inner),children:[Me(s({tag:l.tag,attributes:s({},l.attributes,f.path)},h))]},g={tag:"g",attributes:s({},f.outer),children:[m]},v="mask-".concat(je()),y="clip-".concat(je()),b={tag:"mask",attributes:s({},Ne,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:s({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},Ne)}),{children:n,attributes:r}}(b):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=Oe(e.styles);if(o.length>0&&(n.style=o),Ae(i)){var a=Pe({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:s({},a.outer),children:[{tag:"g",attributes:s({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:s({},r.icon.attributes,a.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(b),_=w.children,x=w.attributes;return b.children=_,b.attributes=x,c?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:s({},i,{id:!0===o?"".concat(t,"-").concat(V.familyPrefix,"-").concat(n):o}),children:r}]}]}(b):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(Ae(a)&&n.found&&!r.found){var c={x:n.width/n.height/2,y:.5};i.style=Oe(s({},o,{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(b)}function Ie(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,a=e.extra,c=e.watchable,l=void 0!==c&&c,u=s({},a.attributes,o?{title:o}:{},{class:a.classes.join(" ")});l&&(u[E]="");var d=s({},a.styles);Ae(i)&&(d.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?k:n,i=e.height,o=void 0===i?k:i,a=e.startCentered,s=void 0!==a&&a,c="";return c+=s&&x?"translate(".concat(t.x/we-r/2,"em, ").concat(t.y/we-o/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/we,"em), calc(-50% + ").concat(t.y/we,"em)) "):"translate(".concat(t.x/we,"em, ").concat(t.y/we,"em) "),c+="scale(".concat(t.size/we*(t.flipX?-1:1),", ").concat(t.size/we*(t.flipY?-1:1),") "),c+="rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);var f=Oe(d);f.length>0&&(u.style=f);var p=[];return p.push({tag:"span",attributes:u,children:[t]}),o&&p.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),p}var De=function(){},Le=V.measurePerformance&&w&&w.mark&&w.measure?w:{mark:De,measure:De},Fe='FA "5.10.1"',ze=function(e){Le.mark("".concat(Fe," ").concat(e," ends")),Le.measure("".concat(Fe," ").concat(e),"".concat(Fe," ").concat(e," begins"),"".concat(Fe," ").concat(e," ends"))},Ye={begin:function(e){return Le.mark("".concat(Fe," ").concat(e," begins")),function(){return ze(e)}},end:ze},Be=function(e,t,n,r){var i,o,a,s=Object.keys(e),c=s.length,l=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<c;i++)a=l(a,e[o=s[i]],o,e);return a};function He(e){for(var t="",n=0;n<e.length;n++){t+=("000"+e.charCodeAt(n).toString(16)).slice(-4)}return t}var Xe=G.styles,qe=G.shims,Ue={},We={},Ve={},$e=function(){var e=function(e){return Be(Xe,function(t,n,r){return t[r]=Be(n,e,{}),t},{})};Ue=e(function(e,t,n){return t[3]&&(e[t[3]]=n),e}),We=e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in Xe;Ve=Be(qe,function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:o},e},{})};function Ge(e,t){return(Ue[e]||{})[t]}$e();var Ke=G.styles,Je=function(){return{prefix:null,iconName:null,rest:[]}};function Qe(e){return e.reduce(function(e,t){var n=Se(V.familyPrefix,t);if(Ke[t])e.prefix=t;else if(V.autoFetchSvg&&["fas","far","fal","fad","fab","fa"].indexOf(t)>-1)e.prefix=t;else if(n){var r="fa"===e.prefix?Ve[n]||{prefix:null,iconName:null}:{};e.iconName=r.iconName||n,e.prefix=r.prefix||e.prefix}else t!==V.replacementClass&&0!==t.indexOf("fa-w-")&&e.rest.push(t);return e},Je())}function Ze(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function et(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"==typeof e?Te(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(Te(e[n]),'" ')},"").trim()}(r),">").concat(o.map(et).join(""),"</").concat(t,">")}var tt=function(){};function nt(e){return"string"==typeof(e.getAttribute?e.getAttribute(E):null)}var rt={replace:function(e){var t=e[0],n=e[1].map(function(e){return et(e)}).join("\n");if(t.parentNode&&t.outerHTML)t.outerHTML=n+(V.keepOriginalSource&&"svg"!==t.tagName.toLowerCase()?"\x3c!-- ".concat(t.outerHTML," --\x3e"):"");else if(t.parentNode){var r=document.createElement("span");t.parentNode.replaceChild(r,t),r.outerHTML=n}},nest:function(e){var t=e[0],n=e[1];if(~Ee(t).indexOf(V.replacementClass))return rt.replace(e);var r=new RegExp("".concat(V.familyPrefix,"-.*"));delete n[0].attributes.style;var i=n[0].attributes.class.split(" ").reduce(function(e,t){return t===V.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" ");var o=n.map(function(e){return et(e)}).join("\n");t.setAttribute("class",i.toNode.join(" ")),t.setAttribute(E,""),t.innerHTML=o}};function it(e){e()}function ot(e,t){var n="function"==typeof t?t:tt;if(0===e.length)n();else{var r=it;V.mutateApproach===N&&(r=v.requestAnimationFrame||it),r(function(){var t=!0===V.autoReplaceSvg?rt.replace:rt[V.autoReplaceSvg]||rt.replace,r=Ye.begin("mutate");e.map(t),r(),n()})}}var at=!1;function st(){at=!1}var ct=null;function lt(e){var t,n,r=e.getAttribute("data-prefix"),i=e.getAttribute("data-icon"),o=void 0!==e.innerText?e.innerText.trim():"",a=Qe(Ee(e));return r&&i&&(a.prefix=r,a.iconName=i),a.prefix&&o.length>1?a.iconName=(t=a.prefix,n=e.innerText,(We[t]||{})[n]):a.prefix&&1===o.length&&(a.iconName=Ge(a.prefix,He(e.innerText))),a}var ut=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},t):t};function dt(e){var t=lt(e),n=t.iconName,r=t.prefix,i=t.rest,o=function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e},{})),n}(e),a=function(e){return ut(e.getAttribute("data-fa-transform"))}(e),s=function(e){var t=e.getAttribute("data-fa-symbol");return null!==t&&(""===t||t)}(e),c=function(e){var t=Ce(e.attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{}),n=e.getAttribute("title");return V.autoA11y&&(n?t["aria-labelledby"]="".concat(V.replacementClass,"-title-").concat(je()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),l=function(e){var t=e.getAttribute("data-fa-mask");return t?Qe(t.split(" ").map(function(e){return e.trim()})):Je()}(e);return{iconName:n,title:e.getAttribute("title"),prefix:r,transform:a,symbol:s,mask:l,extra:{classes:i,styles:o,attributes:c}}}function ft(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}ft.prototype=Object.create(Error.prototype),ft.prototype.constructor=ft;var pt={fill:"currentColor"},ht={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},mt={tag:"path",attributes:s({},pt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},gt=s({},ht,{attributeName:"opacity"}),vt={tag:"g",children:[mt,{tag:"circle",attributes:s({},pt,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:s({},ht,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:s({},gt,{values:"1;0;1;1;0;1;"})}]},{tag:"path",attributes:s({},pt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:s({},gt,{values:"1;0;0;0;0;1;"})}]},{tag:"path",attributes:s({},pt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:s({},gt,{values:"0;0;1;1;0;0;"})}]}]},yt=G.styles;function bt(e){var t=e[0],n=e[1],r=c(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(V.familyPrefix,"-").concat(X.GROUP)},children:[{tag:"path",attributes:{class:"".concat(V.familyPrefix,"-").concat(X.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(V.familyPrefix,"-").concat(X.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function wt(e,t){return new be(function(n,r){var i={found:!1,width:512,height:512,icon:vt};if(e&&t&&yt[t]&&yt[t][e])return n(bt(yt[t][e]));e&&t&&!V.showMissingIcons?r(new ft("Icon is missing for prefix ".concat(t," with icon name ").concat(e))):n(i)})}var _t=G.styles;function xt(e){var t=dt(e);return~t.extra.classes.indexOf(L)?function(e,t){var n=t.title,r=t.transform,i=t.extra,o=null,a=null;if(x){var s=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();o=c.width/s,a=c.height/s}return V.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),be.resolve([e,Ie({content:e.innerHTML,width:o,height:a,transform:r,title:n,extra:i,watchable:!0})])}(e,t):function(e,t){var n=t.iconName,r=t.title,i=t.prefix,o=t.transform,a=t.symbol,s=t.mask,l=t.extra;return new be(function(t,u){be.all([wt(n,i),wt(s.iconName,s.prefix)]).then(function(s){var u=c(s,2),d=u[0],f=u[1];t([e,Re({icons:{main:d,mask:f},prefix:i,iconName:n,transform:o,symbol:a,mask:f,title:r,extra:l,watchable:!0})])})})}(e,t)}function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_){var n=y.documentElement.classList,r=function(e){return n.add("".concat(P,"-").concat(e))},i=function(e){return n.remove("".concat(P,"-").concat(e))},o=V.autoFetchSvg?Object.keys(I):Object.keys(_t),a=[".".concat(L,":not([").concat(E,"])")].concat(o.map(function(e){return".".concat(e,":not([").concat(E,"])")})).join(", ");if(0!==a.length){var s=[];try{s=Ce(e.querySelectorAll(a))}catch(e){}if(s.length>0){r("pending"),i("complete");var c=Ye.begin("onTree"),l=s.reduce(function(e,t){try{var n=xt(t);n&&e.push(n)}catch(e){R||e instanceof ft&&console.error(e)}return e},[]);return new be(function(e,n){be.all(l).then(function(n){ot(n,function(){r("active"),r("complete"),i("pending"),"function"==typeof t&&t(),c(),e()})}).catch(function(){c(),n()})})}}}}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;xt(e).then(function(e){e&&ot([e],t)})}function Ct(e,t){var n="".concat(T).concat(t.replace(":","-"));return new be(function(r,i){if(null!==e.getAttribute(n))return r();var o=Ce(e.children).filter(function(e){return e.getAttribute(S)===t})[0],a=v.getComputedStyle(e,t),c=a.getPropertyValue("font-family").match(F),l=a.getPropertyValue("font-weight");if(o&&!c)return e.removeChild(o),r();if(c){var u=a.getPropertyValue("content"),d=~["Solid","Regular","Light","Duotone","Brands"].indexOf(c[1])?D[c[1].toLowerCase()]:z[l],f=He(3===u.length?u.substr(1,1):u),p=Ge(d,f),h=p;if(!p||o&&o.getAttribute(O)===d&&o.getAttribute(A)===h)r();else{e.setAttribute(n,h),o&&e.removeChild(o);var m={iconName:null,title:null,prefix:null,transform:_e,symbol:!1,mask:null,extra:{classes:[],styles:{},attributes:{}}},g=m.extra;g.attributes[S]=t,wt(p,d).then(function(i){var o=Re(s({},m,{icons:{main:i,mask:Je()},prefix:d,iconName:h,extra:g,watchable:!0})),a=y.createElement("svg");":before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map(function(e){return et(e)}).join("\n"),e.removeAttribute(n),r()}).catch(i)}}else r()})}function Et(e){return be.all([Ct(e,":before"),Ct(e,":after")])}function St(e){return!(e.parentNode===document.head||~M.indexOf(e.tagName.toUpperCase())||e.getAttribute(S)||e.parentNode&&"svg"===e.parentNode.tagName)}function Tt(e){if(_)return new be(function(t,n){var r=Ce(e.querySelectorAll("*")).filter(St).map(Et),i=Ye.begin("searchPseudoElements");at=!0,be.all(r).then(function(){i(),st(),t()}).catch(function(){i(),st(),n()})})}var Ot='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function At(){var e=j,t=C,n=V.familyPrefix,r=V.replacementClass,i=Ot;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}function Pt(){V.autoAddCss&&!Lt&&(xe(At()),Lt=!0)}function Nt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return et(e)})}}),Object.defineProperty(e,"node",{get:function(){if(_){var t=y.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Mt(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return Ze(It.definitions,n,r)||Ze(G.styles,n,r)}var Rt,It=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=s({},e.definitions[t]||{},i[t]),function e(t,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,o=Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{});"function"!=typeof G.hooks.addPack||i?G.styles[t]=s({},G.styles[t]||{},o):G.hooks.addPack(t,o),"fas"===t&&e("fa",n)}(t,i[t]),$e()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][o]=a}),e}}])&&o(t.prototype,n),r&&o(t,r),e}()),Dt=function(){V.autoReplaceSvg=!1,V.observeMutations=!1,ct&&ct.disconnect()},Lt=!1,Ft={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_){Pt();var t=e.node,n=void 0===t?y:t,r=e.callback,i=void 0===r?function(){}:r;return V.searchPseudoElements&&Tt(n),kt(n,i)}return be.reject("Operation requires a DOM of some kind.")},css:At,insertCss:function(){Lt||(xe(At()),Lt=!0)},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot,r=t.observeMutationsRoot;!1===V.autoReplaceSvg&&(V.autoReplaceSvg=!0),V.observeMutations=!0,e=function(){Ut({autoReplaceSvgRoot:n}),function(e){if(b&&V.observeMutations){var t=e.treeCallback,n=e.nodeCallback,r=e.pseudoElementsCallback,i=e.observeMutationsRoot,o=void 0===i?y:i;ct=new b(function(e){at||Ce(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!nt(e.addedNodes[0])&&(V.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&V.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&nt(e.target)&&~H.indexOf(e.attributeName))if("class"===e.attributeName){var i=Qe(Ee(e.target)),o=i.prefix,a=i.iconName;o&&e.target.setAttribute("data-prefix",o),a&&e.target.setAttribute("data-icon",a)}else n(e.target)})}),_&&ct.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}({treeCallback:kt,nodeCallback:jt,pseudoElementsCallback:Tt,observeMutationsRoot:r})},_&&(J?setTimeout(e,0):K.push(e))}},zt={transform:function(e){return ut(e)}},Yt=(Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?_e:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,c=void 0===a?null:a,l=t.title,u=void 0===l?null:l,d=t.classes,f=void 0===d?[]:d,p=t.attributes,h=void 0===p?{}:p,m=t.styles,g=void 0===m?{}:m;if(e){var v=e.prefix,y=e.iconName,b=e.icon;return Nt(s({type:"icon"},e),function(){return Pt(),V.autoA11y&&(u?h["aria-labelledby"]="".concat(V.replacementClass,"-title-").concat(je()):(h["aria-hidden"]="true",h.focusable="false")),Re({icons:{main:bt(b),mask:c?bt(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:y,transform:s({},_e,r),symbol:o,title:u,extra:{attributes:h,styles:g,classes:f}})})}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Mt(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Mt(r||{})),Rt(n,s({},t,{mask:r}))}),Bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?_e:n,i=t.title,o=void 0===i?null:i,a=t.classes,c=void 0===a?[]:a,u=t.attributes,d=void 0===u?{}:u,f=t.styles,p=void 0===f?{}:f;return Nt({type:"text",content:e},function(){return Pt(),Ie({content:e,transform:s({},_e,r),title:o,extra:{attributes:d,styles:p,classes:["".concat(V.familyPrefix,"-layers-text")].concat(l(c))}})})},Ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,a=t.attributes,c=void 0===a?{}:a,u=t.styles,d=void 0===u?{}:u;return Nt({type:"counter",content:e},function(){return Pt(),function(e){var t=e.content,n=e.title,r=e.extra,i=s({},r.attributes,n?{title:n}:{},{class:r.classes.join(" ")}),o=Oe(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:r,extra:{attributes:c,styles:d,classes:["".concat(V.familyPrefix,"-layers-counter")].concat(l(o))}})})},Xt=function(e){return Nt({type:"layer"},function(){Pt();var t=[];return e(function(e){Array.isArray(e)?e.map(function(e){t=t.concat(e.abstract)}):t=t.concat(e.abstract)}),[{tag:"span",attributes:{class:"".concat(V.familyPrefix,"-layers")},children:t}]})},qt=Ft,Ut=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?y:e;(Object.keys(G.styles).length>0||V.autoFetchSvg)&&_&&V.autoReplaceSvg&&qt.i2svg({node:t})};t.icon=Yt,t.noAuto=Dt,t.config=V,t.toHtml=et,t.layer=Xt,t.text=Bt,t.counter=Ht,t.library=It,t.dom=Ft,t.parse=zt,t.findIconDefinition=Mt,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{_process:406,timers:429}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 432a184 184 0 1 1 184-184 184 184 0 0 1-184 184z","M256 104v304c-83.81 0-152-68.19-152-152s68.19-152 152-152z"];n.definition={prefix:"fad",iconName:"adjust",icon:[512,512,r,"f042",i]},n.faAdjust=n.definition,n.prefix="fad",n.iconName="adjust",n.width=512,n.height=512,n.ligatures=r,n.unicode="f042",n.svgPathData=i},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm149.6 266.3l-10.9 11a24 24 0 0 1-34.3-.4L288 209.4V392a23.94 23.94 0 0 1-24 24h-16a23.94 23.94 0 0 1-24-24V209.4l-72.4 75.5a24.15 24.15 0 0 1-34.4.4l-10.9-11a23.9 23.9 0 0 1 0-33.9l132.8-132.7a23.9 23.9 0 0 1 33.9 0l132.6 132.7a23.9 23.9 0 0 1 0 33.9z","M117.2 285.3l-10.9-11a23.9 23.9 0 0 1 0-33.9l132.8-132.7a23.9 23.9 0 0 1 33.9 0l132.6 132.7a23.9 23.9 0 0 1 0 33.9l-10.9 11a24 24 0 0 1-34.3-.4L288 209.4V392a23.94 23.94 0 0 1-24 24h-16a23.94 23.94 0 0 1-24-24V209.4l-72.4 75.5a24.15 24.15 0 0 1-34.4.4z"];n.definition={prefix:"fad",iconName:"arrow-circle-up",icon:[512,512,r,"f0aa",i]},n.faArrowCircleUp=n.definition,n.prefix="fad",n.iconName="arrow-circle-up",n.width=512,n.height=512,n.ligatures=r,n.unicode="f0aa",n.svgPathData=i},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M220 116a12 12 0 0 1 12-12h48a12 12 0 0 1 12 12v137.7l63.5 46.2a12 12 0 0 1 2.6 16.8l-28.2 38.8a12.08 12.08 0 0 1-16.8 2.6L224.9 294a12.08 12.08 0 0 1-4.9-9.7z","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm102.1 308.7l-28.2 38.8a12.08 12.08 0 0 1-16.8 2.6L224.9 294a12.08 12.08 0 0 1-4.9-9.7V116a12 12 0 0 1 12-12h48a12 12 0 0 1 12 12v137.7l63.5 46.2a12 12 0 0 1 2.6 16.8z"];n.definition={prefix:"fad",iconName:"clock",icon:[512,512,r,"f017",i]},n.faClock=n.definition,n.prefix="fad",n.iconName="clock",n.width=512,n.height=512,n.ligatures=r,n.unicode="f017",n.svgPathData=i},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M224 136V0H24A23.94 23.94 0 0 0 0 24v464a23.94 23.94 0 0 0 24 24h336a23.94 23.94 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24zm64 236a12 12 0 0 1-12 12H108a12 12 0 0 1-12-12v-8a12 12 0 0 1 12-12h168a12 12 0 0 1 12 12zm0-64a12 12 0 0 1-12 12H108a12 12 0 0 1-12-12v-8a12 12 0 0 1 12-12h168a12 12 0 0 1 12 12zm0-72v8a12 12 0 0 1-12 12H108a12 12 0 0 1-12-12v-8a12 12 0 0 1 12-12h168a12 12 0 0 1 12 12zm96-114.1v6.1H256V0h6.1a24 24 0 0 1 17 7l97.9 98a23.92 23.92 0 0 1 7 16.9z","M276 352H108a12 12 0 0 0-12 12v8a12 12 0 0 0 12 12h168a12 12 0 0 0 12-12v-8a12 12 0 0 0-12-12zm0-64H108a12 12 0 0 0-12 12v8a12 12 0 0 0 12 12h168a12 12 0 0 0 12-12v-8a12 12 0 0 0-12-12zm0-64H108a12 12 0 0 0-12 12v8a12 12 0 0 0 12 12h168a12 12 0 0 0 12-12v-8a12 12 0 0 0-12-12z"];n.definition={prefix:"fad",iconName:"file-alt",icon:[384,512,r,"f15c",i]},n.faFileAlt=n.definition,n.prefix="fad",n.iconName="file-alt",n.width=384,n.height=512,n.ligatures=r,n.unicode="f15c",n.svgPathData=i},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M224 136V0H24A23.94 23.94 0 0 0 0 24v464a23.94 23.94 0 0 0 24 24h336a23.94 23.94 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24zm-64 268a12 12 0 0 1-20.5 8.5L104 376H76a12 12 0 0 1-12-12v-56a12 12 0 0 1 12-12h28l35.5-36.5A12 12 0 0 1 160 268zm33.2-47.6a23.84 23.84 0 0 0 0-33.4c-22.1-22.8 12.2-56.2 34.4-33.5a72 72 0 0 1 0 100.4c-21.8 22.3-56.9-10.4-34.4-33.5zm86-117.1a143.93 143.93 0 0 1 0 200.8c-21.8 22.4-57-10.3-34.4-33.5a95.9 95.9 0 0 0 0-133.8c-22.1-22.8 12.3-56.3 34.4-33.5zM384 121.9v6.1H256V0h6.1a24 24 0 0 1 17 7l97.9 98a23.92 23.92 0 0 1 7 16.9z","M139.5 259.5L104 296H76a12 12 0 0 0-12 12v56a12 12 0 0 0 12 12h28l35.5 36.5A12 12 0 0 0 160 404V268a12 12 0 0 0-20.5-8.5zm139.7-20.2c-22.1-22.8-56.5 10.7-34.4 33.5a95.9 95.9 0 0 1 0 133.8c-22.6 23.2 12.6 55.9 34.4 33.5a143.93 143.93 0 0 0 0-200.8zm-51.6 50.2c-22.2-22.7-56.5 10.7-34.4 33.5a23.84 23.84 0 0 1 0 33.4c-22.5 23.1 12.6 55.8 34.4 33.5a72 72 0 0 0 0-100.4z"];n.definition={prefix:"fad",iconName:"file-audio",icon:[384,512,r,"f1c7",i]},n.faFileAudio=n.definition,n.prefix="fad",n.iconName="file-audio",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c7",n.svgPathData=i},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M224 136V0H24A24 24 0 0 0 0 24v464a24 24 0 0 0 24 24h336a24 24 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24zm-66.21 246.62l-19.58 20.88a5.4 5.4 0 0 1-7.64.25l-64.86-60.81a5.39 5.39 0 0 1-.25-7.63l.25-.25 64.86-60.81a5.41 5.41 0 0 1 7.64.24l19.58 20.89a5.41 5.41 0 0 1-.25 7.63l-.13.12L116.65 339l40.76 35.87a5.41 5.41 0 0 1 .49 7.63zm100.42-87.24l19.58-20.89a5.41 5.41 0 0 1 7.64-.24l64.86 60.81a5.39 5.39 0 0 1 .25 7.63l-.25.25-64.86 60.81a5.41 5.41 0 0 1-7.64-.24l-19.58-20.88a5.39 5.39 0 0 1 .25-7.63l.13-.12L299.35 339l-40.76-35.87a5.41 5.41 0 0 1-.49-7.63zm-.58-56.7L196.19 450.3a5.4 5.4 0 0 1-6.68 3.69l-27.45-8a5.39 5.39 0 0 1-3.68-6.69l61.43-211.6a5.38 5.38 0 0 1 6.69-3.7l27.5 8a5.41 5.41 0 0 1 3.63 6.68zM384 121.94V128H256V0h6.06a24 24 0 0 1 17 7L377 105a24 24 0 0 1 7 16.94z","M350.29 335.06l-64.86-60.81a5.41 5.41 0 0 0-7.64.24l-19.58 20.89-.11.12a5.41 5.41 0 0 0 .49 7.63L299.35 339l-40.76 35.87-.13.12a5.39 5.39 0 0 0-.25 7.63l19.58 20.88a5.41 5.41 0 0 0 7.64.24l64.86-60.81.25-.25a5.39 5.39 0 0 0-.25-7.62zm-92.66-96.38A5.41 5.41 0 0 0 254 232l-27.45-8a5.38 5.38 0 0 0-6.69 3.68l-61.49 211.64a5.39 5.39 0 0 0 3.68 6.69l27.45 8a5.4 5.4 0 0 0 6.68-3.69l61.44-211.62zM157.41 374.87L116.65 339l40.76-35.87.13-.12a5.41 5.41 0 0 0 .25-7.63l-19.58-20.89a5.41 5.41 0 0 0-7.64-.24l-64.86 60.81-.25.25a5.39 5.39 0 0 0 .25 7.63l64.86 60.81a5.4 5.4 0 0 0 7.64-.25l19.58-20.88.11-.12a5.41 5.41 0 0 0-.49-7.63z"];n.definition={prefix:"fad",iconName:"file-code",icon:[384,512,r,"f1c9",i]},n.faFileCode=n.definition,n.prefix="fad",n.iconName="file-code",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c9",n.svgPathData=i},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M377 105L279.1 7a24 24 0 0 0-17-7H256v128h128v-6.1a23.92 23.92 0 0 0-7-16.9zm-153 31V0H24A23.94 23.94 0 0 0 0 24v464a23.94 23.94 0 0 0 24 24h336a23.94 23.94 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24z","M110 224.1h34.8a12 12 0 0 1 10.6 6.3c26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5a12 12 0 0 1 10.6-6.3H274a11.93 11.93 0 0 1 10.1 18.4L224 336l60.1 93.5A12 12 0 0 1 274 448h-34.9a12 12 0 0 1-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8a11.89 11.89 0 0 1-10.5 6.3H110a12 12 0 0 1-10.1-18.5l60.3-93.5-60.3-93.5a12 12 0 0 1 10.1-18.5z"];n.definition={prefix:"fad",iconName:"file-excel",icon:[384,512,r,"f1c3",i]},n.faFileExcel=n.definition,n.prefix="fad",n.iconName="file-excel",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c3",n.svgPathData=i},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M224 136V0H24A23.94 23.94 0 0 0 0 24v464a23.94 23.94 0 0 0 24 24h336a23.94 23.94 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24zm153-31L279.1 7a24 24 0 0 0-17-7H256v128h128v-6.1a23.92 23.92 0 0 0-7-16.9z","M160 332.8a12 12 0 0 0 12 11.2h40a12 12 0 0 0 12-11.2l7.2-112a12 12 0 0 0-12-12.8h-54.4a12 12 0 0 0-12 12.8zm32 27.2a40 40 0 1 0 40 40 40 40 0 0 0-40-40z"];n.definition={prefix:"fad",iconName:"file-exclamation",icon:[384,512,r,"f31a",i]},n.faFileExclamation=n.definition,n.prefix="fad",n.iconName="file-exclamation",n.width=384,n.height=512,n.ligatures=r,n.unicode="f31a",n.svgPathData=i},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M224 136V0H24A24 24 0 0 0 0 24v464a24 24 0 0 0 24 24h336a24 24 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24zm-111.46 40a48 48 0 1 1-48 48 48 48 0 0 1 48-48zM281 264.48L320.54 304v112h-256l.46-48.48L104.54 328c4.69-4.69 11.8-4.2 16.49.48L160.54 368l103.52-103.52a12 12 0 0 1 16.94 0zm103-142.54V128H256V0h6.06a24 24 0 0 1 17 7L377 105a24 24 0 0 1 7 16.94z","M112.54 272a48 48 0 1 0-48-48 48 48 0 0 0 48 48zM281 264.48a12 12 0 0 0-17 0L160.54 368 121 328.48c-4.69-4.68-11.8-5.17-16.49-.48L65 367.52 64.54 416h256V304z"];n.definition={prefix:"fad",iconName:"file-image",icon:[384,512,r,"f1c5",i]},n.faFileImage=n.definition,n.prefix="fad",n.iconName="file-image",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c5",n.svgPathData=i},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M377 105L279 7a24 24 0 0 0-17-7h-6v128h128v-6.1a23.92 23.92 0 0 0-7-16.9zm-153 31V0H24A23.94 23.94 0 0 0 0 24v464a23.94 23.94 0 0 0 24 24h336a23.94 23.94 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24z","M313.6 339c-13.9-13.6-54.3-9.7-73.6-7.2-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4zM86.1 428.1c5.8-15.7 28.2-33.9 34.9-40.2-21.7 34.8-34.9 41-34.9 40.2zm93.8-218.9c8.4 0 7.6 36.9 2 46.9-5-16-4.9-46.9-2-46.9zM151.8 366c11.1-19.4 20.7-42.5 28.4-62.7 9.6 17.4 21.8 31.2 34.5 40.8-23.9 4.7-44.6 14.9-62.9 21.9zm151.1-5.7s-5.7 6.8-42.8-9c40.3-2.9 46.9 6.3 42.8 9z"];n.definition={prefix:"fad",iconName:"file-pdf",icon:[384,512,r,"f1c1",i]},n.faFilePdf=n.definition,n.prefix="fad",n.iconName="file-pdf",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c1",n.svgPathData=i},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M224 136V0H24A23.94 23.94 0 0 0 0 24v464a23.94 23.94 0 0 0 24 24h336a23.94 23.94 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24zm53 165.2c0 90.3-88.8 77.6-111.1 77.6V436a12 12 0 0 1-12 12h-30.8a12 12 0 0 1-12-12V236.2a12 12 0 0 1 12-12h81c44.5 0 72.9 32.8 72.9 77zm-83.3-30c8.8 0 15.5 2.7 20.3 8.1 9.6 10.9 9.8 32.7-.2 44.1-4.9 5.6-11.9 8.5-21.1 8.5h-26.9v-60.7zM384 121.9v6.1H256V0h6a24 24 0 0 1 17 7l98 98a23.92 23.92 0 0 1 7 16.9z","M204.1 224.2h-81a12 12 0 0 0-12 12V436a12 12 0 0 0 12 12h30.8a12 12 0 0 0 12-12v-57.2c22.3 0 111.1 12.7 111.1-77.6 0-44.2-28.4-77-72.9-77zm9.7 99.2c-4.9 5.6-11.9 8.5-21.1 8.5h-26.9v-60.7h27.9c8.8 0 15.5 2.7 20.3 8.1 9.6 10.9 9.8 32.7-.2 44.1z"];n.definition={prefix:"fad",iconName:"file-powerpoint",icon:[384,512,r,"f1c4",i]},n.faFilePowerpoint=n.definition,n.prefix="fad",n.iconName="file-powerpoint",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c4",n.svgPathData=i},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M216 336h-48v-48h48zm80 32h-48v48h48zm-80 0h-48v48h48zm80-80h-48v48h48zm81-183L279.1 7a24 24 0 0 0-17-7H256v128h128v-6.1a23.92 23.92 0 0 0-7-16.9zm-129 55h136v328a23.94 23.94 0 0 1-24 24H24a23.94 23.94 0 0 1-24-24V24A23.94 23.94 0 0 1 24 0h200v136a24.07 24.07 0 0 0 24 24zm64 64H72a16 16 0 0 0-16 16v192a16 16 0 0 0 16 16h240a16 16 0 0 0 16-16V240a16 16 0 0 0-16-16zm-176 64H88v48h48zm0 80H88v48h48z","M312 224H72a16 16 0 0 0-16 16v192a16 16 0 0 0 16 16h240a16 16 0 0 0 16-16V240a16 16 0 0 0-16-16zM136 416H88v-48h48zm0-80H88v-48h48zm80 80h-48v-48h48zm0-80h-48v-48h48zm80 80h-48v-48h48zm0-80h-48v-48h48z"];n.definition={prefix:"fad",iconName:"file-spreadsheet",icon:[384,512,r,"f65b",i]},n.faFileSpreadsheet=n.definition,n.prefix="fad",n.iconName="file-spreadsheet",n.width=384,n.height=512,n.ligatures=r,n.unicode="f65b",n.svgPathData=i},{}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M224 136V0H24A24 24 0 0 0 0 24v464a24 24 0 0 0 24 24h336a24 24 0 0 0 24-24V160H248a24.07 24.07 0 0 1-24-24zm96 144v112c0 21.44-25.94 32-41 17l-55-55v38a24 24 0 0 1-24 24H88a24 24 0 0 1-24-24V280a24 24 0 0 1 24-24h112a24 24 0 0 1 24 24v38.06l55-55c15-15.06 41-4.5 41 16.94zm64-158.08V128H256V0h6.06a24 24 0 0 1 17 7L377 105a24 24 0 0 1 7 16.94z","M320 280v112c0 21.44-25.94 32-41 17l-55-55v38a24 24 0 0 1-24 24H88a24 24 0 0 1-24-24V280a24 24 0 0 1 24-24h112a24 24 0 0 1 24 24v38.06l55-55c15-15.06 41-4.5 41 16.94z"];n.definition={prefix:"fad",iconName:"file-video",icon:[384,512,r,"f1c8",i]},n.faFileVideo=n.definition,n.prefix="fad",n.iconName="file-video",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c8",n.svgPathData=i},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M384 121.9v6.1H256V0h6.1a24 24 0 0 1 17 7l97.9 98a23.92 23.92 0 0 1 7 16.9zM248 160h136v328a23.94 23.94 0 0 1-24 24H24a23.94 23.94 0 0 1-24-24V24A23.94 23.94 0 0 1 24 0h200v136a24.07 24.07 0 0 0 24 24zm21.6 105.5c-24.2 111.4-21.8 118-21.6 129.2-.8-5.4-5.6-29-29.6-129.4a12 12 0 0 0-11.7-9.2h-29.1a11.9 11.9 0 0 0-11.7 9.1c-22.1 90-27.8 112.5-29.4 122.7-.9-12.7-5.4-44.2-21-122.2a12 12 0 0 0-11.8-9.7H79.2a12 12 0 0 0-11.7 14.6l37.8 168A12 12 0 0 0 117 448h37.1a12 12 0 0 0 11.6-9.1c23.2-93.1 24.5-96.2 25.6-110.5h.5c4.8 29.3-.2 7 25.6 110.5A12 12 0 0 0 229 448h38a11.89 11.89 0 0 0 11.7-9.3l38-168A12 12 0 0 0 305 256h-23.9a11.59 11.59 0 0 0-11.5 9.5z","M316.7 270.7l-38 168A11.89 11.89 0 0 1 267 448h-38a12 12 0 0 1-11.6-9.1c-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5a12 12 0 0 1-11.6 9.1H117a12 12 0 0 1-11.7-9.4l-37.8-168A12 12 0 0 1 79.2 256h24.5a12 12 0 0 1 11.8 9.7c15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7a11.9 11.9 0 0 1 11.7-9.1h29.1a12 12 0 0 1 11.7 9.2c24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2a11.59 11.59 0 0 1 11.5-9.5H305a12 12 0 0 1 11.7 14.7z"];n.definition={prefix:"fad",iconName:"file-word",icon:[384,512,r,"f1c2",i]},n.faFileWord=n.definition,n.prefix="fad",n.iconName="file-word",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c2",n.svgPathData=i},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M256 8C119 8 8 119.08 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 110a42 42 0 1 1-42 42 42 42 0 0 1 42-42zm56 254a12 12 0 0 1-12 12h-88a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h12v-64h-12a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h64a12 12 0 0 1 12 12v100h12a12 12 0 0 1 12 12z","M256 202a42 42 0 1 0-42-42 42 42 0 0 0 42 42zm44 134h-12V236a12 12 0 0 0-12-12h-64a12 12 0 0 0-12 12v24a12 12 0 0 0 12 12h12v64h-12a12 12 0 0 0-12 12v24a12 12 0 0 0 12 12h88a12 12 0 0 0 12-12v-24a12 12 0 0 0-12-12z"];n.definition={prefix:"fad",iconName:"info-circle",icon:[512,512,r,"f05a",i]},n.faInfoCircle=n.definition,n.prefix="fad",n.iconName="info-circle",n.width=512,n.height=512,n.ligatures=r,n.unicode="f05a",n.svgPathData=i},{}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M152 225H72v-72C72 69.2 140.2 1 224 1s152 68.2 152 152v72h-80v-72a72 72 0 0 0-144 0z","M400 225H48a48 48 0 0 0-48 48v192a48 48 0 0 0 48 48h352a48 48 0 0 0 48-48V273a48 48 0 0 0-48-48zM264 392a40 40 0 0 1-80 0v-48a40 40 0 0 1 80 0z"];n.definition={prefix:"fad",iconName:"lock-alt",icon:[448,512,r,"f30d",i]},n.faLockAlt=n.definition,n.prefix="fad",n.iconName="lock-alt",n.width=448,n.height=512,n.ligatures=r,n.unicode="f30d",n.svgPathData=i},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M576 152v80a23.94 23.94 0 0 1-24 24h-32a23.94 23.94 0 0 1-24-24v-80a72.11 72.11 0 0 0-72.7-72c-39.6.4-71.3 33.3-71.3 72.9V224h-80v-70.5C272 69.5 339.5.3 423.5 0S576 68 576 152z","M400 224H48a48 48 0 0 0-48 48v192a48 48 0 0 0 48 48h352a48 48 0 0 0 48-48V272a48 48 0 0 0-48-48zM264 392a40 40 0 0 1-80 0v-48a40 40 0 0 1 80 0z"];n.definition={prefix:"fad",iconName:"lock-open-alt",icon:[576,512,r,"f3c2",i]},n.faLockOpenAlt=n.definition,n.prefix="fad",n.iconName="lock-open-alt",n.width=576,n.height=512,n.ligatures=r,n.unicode="f3c2",n.svgPathData=i},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248z","M371.7 280l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"];n.definition={prefix:"fad",iconName:"play-circle",icon:[512,512,r,"f144",i]},n.faPlayCircle=n.definition,n.prefix="fad",n.iconName="play-circle",n.width=512,n.height=512,n.ligatures=r,n.unicode="f144",n.svgPathData=i},{}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M0 328V184a24 24 0 0 1 24-24h102.06l89-88.95c15-15 41-4.49 41 17V424c0 21.44-25.94 32-41 17l-89-88.95H24A24 24 0 0 1 0 328z","M338.23 179.13a24 24 0 1 0-23.16 42.06 39.42 39.42 0 0 1 0 69.62 24 24 0 1 0 23.16 42.06 87.43 87.43 0 0 0 0-153.74zM480 256a184.64 184.64 0 0 0-85.77-156.24 23.9 23.9 0 0 0-33.12 7.46 24.29 24.29 0 0 0 7.41 33.36 136.67 136.67 0 0 1 0 230.84 24.28 24.28 0 0 0-7.41 33.36 23.94 23.94 0 0 0 33.12 7.46A184.62 184.62 0 0 0 480 256zM448.35 20a24.2 24.2 0 1 0-26.56 40.46 233.65 233.65 0 0 1 0 391.16A24.2 24.2 0 1 0 448.35 492a282 282 0 0 0 0-472.07z"];n.definition={prefix:"fad",iconName:"volume-up",icon:[576,512,r,"f028",i]},n.faVolumeUp=n.definition,n.prefix="fad",n.iconName="volume-up",n.width=576,n.height=512,n.ligatures=r,n.unicode="f028",n.svgPathData=i},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i=["M466.74 326.35a222.2 222.2 0 0 0-36.69-25.75L291.29 193.36c81.8-7.62 166.15 17.36 231.38 75.05a15.81 15.81 0 0 1 .56 23.15l-34.44 34a16.31 16.31 0 0 1-22.05.79zM207.6 128.68c126.08-38.46 268.25-10.63 371 83.53a16.25 16.25 0 0 0 22.4-.38l34.24-34a15.9 15.9 0 0 0-.36-23C496.4 26.77 297.77-1.12 133.06 71.06zM256 416a63.88 63.88 0 0 0 127 10l-88.7-68.56A64 64 0 0 0 256 416zM5.09 154.87a15.88 15.88 0 0 0-.35 23L39 211.8a16.25 16.25 0 0 0 22.4.38c7-6.4 14.31-12.22 21.65-18L18.07 144c-4.3 3.67-8.79 7-12.98 10.87zm113.22 113.52a15.9 15.9 0 0 0-.57 23.17l34.28 34a16.17 16.17 0 0 0 21.94.8c13.35-11.6 28-20.66 43.15-28.55L148.75 245a299.77 299.77 0 0 0-30.44 23.39z","M636.64 480.55L617 505.82a16 16 0 0 1-22.46 2.81L6.18 53.9a16 16 0 0 1-2.81-22.45L23 6.18a16 16 0 0 1 22.47-2.81L633.83 458.1a16 16 0 0 1 2.81 22.45z"];n.definition={prefix:"fad",iconName:"wifi-slash",icon:[640,512,r,"f6ac",i]},n.faWifiSlash=n.definition,n.prefix="fad",n.iconName="wifi-slash",n.width=640,n.height=512,n.ligatures=r,n.unicode="f6ac",n.svgPathData=i},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z";n.definition={prefix:"fal",iconName:"angle-left",icon:[192,512,r,"f104",i]},n.faAngleLeft=n.definition,n.prefix="fal",n.iconName="angle-left",n.width=192,n.height=512,n.ligatures=r,n.unicode="f104",n.svgPathData=i},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z";n.definition={prefix:"fal",iconName:"angle-right",icon:[192,512,r,"f105",i]},n.faAngleRight=n.definition,n.prefix="fal",n.iconName="angle-right",n.width=192,n.height=512,n.ligatures=r,n.unicode="f105",n.svgPathData=i},{}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M231.536 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L60.113 273H436c6.627 0 12-5.373 12-12v-10c0-6.627-5.373-12-12-12H60.113L238.607 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L3.515 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z";n.definition={prefix:"fal",iconName:"arrow-left",icon:[448,512,r,"f060",i]},n.faArrowLeft=n.definition,n.prefix="fal",n.iconName="arrow-left",n.width=448,n.height=512,n.ligatures=r,n.unicode="f060",n.svgPathData=i},{}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M442 114H6a6 6 0 0 1-6-6V84a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6zm0 160H6a6 6 0 0 1-6-6v-24a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6zm0 160H6a6 6 0 0 1-6-6v-24a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6z";n.definition={prefix:"fal",iconName:"bars",icon:[448,512,r,"f0c9",i]},n.faBars=n.definition,n.prefix="fal",n.iconName="bars",n.width=448,n.height=512,n.ligatures=r,n.unicode="f0c9",n.svgPathData=i},{}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M504 416H32V72c0-4.42-3.58-8-8-8H8c-4.42 0-8 3.58-8 8v360c0 8.84 7.16 16 16 16h488c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM98.34 263.03c-3.12 3.12-3.12 8.19 0 11.31l11.31 11.31c3.12 3.12 8.19 3.12 11.31 0l72.69-72.01 84.69 84.69c6.25 6.25 16.38 6.25 22.63 0l93.53-93.53 44.04 44.04c4.95 4.95 11.03 7.16 17 7.16 12.48 0 24.46-9.7 24.46-24.34V112.19c0-8.94-7.25-16.19-16.19-16.19H344.34c-21.64 0-32.47 26.16-17.17 41.46l44.71 44.71-82.22 82.22-84.63-84.63c-6.23-6.23-16.32-6.25-22.57-.05l-84.12 83.32zM362.96 128H448v85.04L362.96 128z";n.definition={prefix:"fal",iconName:"chart-line",icon:[512,512,r,"f201",i]},n.faChartLine=n.definition,n.prefix="fal",n.iconName="chart-line",n.width=512,n.height=512,n.ligatures=r,n.unicode="f201",n.svgPathData=i},{}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm216 248c0 118.7-96.1 216-216 216-118.7 0-216-96.1-216-216 0-118.7 96.1-216 216-216 118.7 0 216 96.1 216 216zm-207.5 86.6l115-115.1c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L256 303l-99.5-99.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l115 115.1c4.8 4.6 12.4 4.6 17.1-.1z";n.definition={prefix:"fal",iconName:"chevron-circle-down",icon:[512,512,r,"f13a",i]},n.faChevronCircleDown=n.definition,n.prefix="fal",n.iconName="chevron-circle-down",n.width=512,n.height=512,n.ligatures=r,n.unicode="f13a",n.svgPathData=i},{}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm216 248c0 118.7-96.1 216-216 216-118.7 0-216-96.1-216-216 0-118.7 96.1-216 216-216 118.7 0 216 96.1 216 216z";n.definition={prefix:"fal",iconName:"circle",icon:[512,512,r,"f111",i]},n.faCircle=n.definition,n.prefix="fal",n.iconName="circle",n.width=512,n.height=512,n.ligatures=r,n.unicode="f111",n.svgPathData=i},{}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 39.2 28.2 71.8 65.5 78.7-.8 17.2-5 30.4-12.7 40-17.5 21.8-53.1 25.2-90.7 28.7-28.2 2.6-57.4 5.4-80.4 16.9-3.4 1.7-6.7 3.6-9.7 5.7V158.4c36.5-7.4 64-39.7 64-78.4 0-44.2-35.8-80-80-80S0 35.8 0 80c0 38.7 27.5 71 64 78.4v195.2C27.5 361 0 393.3 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-36.9-24.9-67.9-58.9-77.2 5-9.6 12.3-14.6 19-18 17.5-8.8 42.5-11.2 68.9-13.7 42.6-4 86.7-8.1 112.7-40.5 12.4-15.5 19-35.5 19.8-60.7C357.3 214 384 182.1 384 144zM32 80c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48zm96 352c0 26.5-21.5 48-48 48s-48-21.5-48-48c0-26.4 21.4-47.9 47.8-48h.6c26.3.2 47.6 21.7 47.6 48zm187.8-241.5L304 192c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48c0 22.4-15.4 41.2-36.2 46.5z";n.definition={prefix:"fal",iconName:"code-branch",icon:[384,512,r,"f126",i]},n.faCodeBranch=n.definition,n.prefix="fal",n.iconName="code-branch",n.width=384,n.height=512,n.ligatures=r,n.unicode="f126",n.svgPathData=i},{}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v116h116c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-8c-6.6 0-12 5.4-12 12v116H12c-6.6 0-12 5.4-12 12v8c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v8c0 6.6 5.4 12 12 12h116v116c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12zm160 0V352h116c6.6 0 12-5.4 12-12v-8c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12z";n.definition={prefix:"fal",iconName:"compress",icon:[448,512,r,"f066",i]},n.faCompress=n.definition,n.prefix="fal",n.iconName="compress",n.width=448,n.height=512,n.ligatures=r,n.unicode="f066",n.svgPathData=i},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M417.8 315.5l20-20c3.8-3.8 10.2-1.1 10.2 4.2V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h292.3c5.3 0 8 6.5 4.2 10.2l-20 20c-1.1 1.1-2.7 1.8-4.2 1.8H48c-8.8 0-16 7.2-16 16v352c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V319.7c0-1.6.6-3.1 1.8-4.2zm145.9-191.2L251.2 436.8l-99.9 11.1c-13.4 1.5-24.7-9.8-23.2-23.2l11.1-99.9L451.7 12.3c16.4-16.4 43-16.4 59.4 0l52.6 52.6c16.4 16.4 16.4 43 0 59.4zm-93.6 48.4L403.4 106 169.8 339.5l-8.3 75.1 75.1-8.3 233.5-233.6zm71-85.2l-52.6-52.6c-3.8-3.8-10.2-4-14.1 0L426 83.3l66.7 66.7 48.4-48.4c3.9-3.8 3.9-10.2 0-14.1z";n.definition={prefix:"fal",iconName:"edit",icon:[576,512,r,"f044",i]},n.faEdit=n.definition,n.prefix="fal",n.iconName="edit",n.width=576,n.height=512,n.ligatures=r,n.unicode="f044",n.svgPathData=i},{}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H32v116c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zM300 32h124c13.3 0 24 10.7 24 24v124c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12V64H300c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12zm148 300v124c0 13.3-10.7 24-24 24H300c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h116V332c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12zM148 480H24c-13.3 0-24-10.7-24-24V332c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v116h116c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12z";n.definition={prefix:"fal",iconName:"expand",icon:[448,512,r,"f065",i]},n.faExpand=n.definition,n.prefix="fal",n.iconName="expand",n.width=448,n.height=512,n.ligatures=r,n.unicode="f065",n.svgPathData=i},{}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm16 400c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V80c0-8.822 7.178-16 16-16h352c8.822 0 16 7.178 16 16v352zM99.515 374.828c-4.686-4.686-4.686-12.284 0-16.971l195.15-195.15-.707-.707-89.958.342c-6.627 0-12-5.373-12-12v-9.999c0-6.628 5.372-12 12-12L340 128c6.627 0 12 5.372 12 12l-.343 136c0 6.627-5.373 12-12 12h-9.999c-6.627 0-12-5.373-12-12l.342-89.958-.707-.707-195.15 195.15c-4.686 4.686-12.284 4.686-16.971 0l-5.657-5.657z";n.definition={prefix:"fal",iconName:"external-link-square",icon:[448,512,r,"f14c",i]},n.faExternalLinkSquare=n.definition,n.prefix="fal",n.iconName="external-link-square",n.width=448,n.height=512,n.ligatures=r,n.unicode="f14c",n.svgPathData=i},{}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M196.66 363.33l-13.88-41.62c-3.28-9.81-12.44-16.41-22.78-16.41s-19.5 6.59-22.78 16.41L119 376.36c-1.5 4.58-5.78 7.64-10.59 7.64H96c-8.84 0-16 7.16-16 16s7.16 16 16 16h12.41c18.62 0 35.09-11.88 40.97-29.53L160 354.58l16.81 50.48a15.994 15.994 0 0 0 14.06 10.89c.38.03.75.05 1.12.05 6.03 0 11.59-3.41 14.31-8.86l7.66-15.33c2.78-5.59 7.94-6.19 10.03-6.19s7.25.59 10.19 6.53c7.38 14.7 22.19 23.84 38.62 23.84H288c8.84 0 16-7.16 16-16s-7.16-16-16-16h-15.19c-4.28 0-8.12-2.38-10.16-6.5-11.96-23.85-46.24-30.33-65.99-14.16zM72 96h112c4.42 0 8-3.58 8-8V72c0-4.42-3.58-8-8-8H72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8zm120 56v-16c0-4.42-3.58-8-8-8H72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h112c4.42 0 8-3.58 8-8zm177.9-54.02L286.02 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h288.02c26.49 0 47.99-21.5 47.99-47.99V131.97c0-12.69-5.1-24.99-14.1-33.99zM256.03 32.59c2.8.7 5.3 2.1 7.4 4.2l83.88 83.88c2.1 2.1 3.5 4.6 4.2 7.4h-95.48V32.59zm95.98 431.42c0 8.8-7.2 16-16 16H47.99c-8.8 0-16-7.2-16-16V48.09c0-8.8 7.2-16.09 16-16.09h176.04v104.07c0 13.3 10.7 23.93 24 23.93h103.98v304.01z";n.definition={prefix:"fal",iconName:"file-contract",icon:[384,512,r,"f56c",i]},n.faFileContract=n.definition,n.prefix="fal",n.iconName="file-contract",n.width=384,n.height=512,n.ligatures=r,n.unicode="f56c",n.svgPathData=i},{}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M369.9 97.98L286.02 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h288.02c26.49 0 47.99-21.5 47.99-47.99V131.97c0-12.69-5.1-24.99-14.1-33.99zM256.03 32.59c2.8.7 5.3 2.1 7.4 4.2l83.88 83.88c2.1 2.1 3.5 4.6 4.2 7.4h-95.48V32.59zm95.98 431.42c0 8.8-7.2 16-16 16H47.99c-8.8 0-16-7.2-16-16V48.09c0-8.8 7.2-16.09 16-16.09h176.04v104.07c0 13.3 10.7 23.93 24 23.93h103.98v304.01zM208 216c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v88.02h-52.66c-11 0-20.59 6.41-25 16.72-4.5 10.52-2.38 22.62 5.44 30.81l68.12 71.78c5.34 5.59 12.47 8.69 20.09 8.69s14.75-3.09 20.09-8.7l68.12-71.75c7.81-8.2 9.94-20.31 5.44-30.83-4.41-10.31-14-16.72-25-16.72H208V216zm42.84 120.02l-58.84 62-58.84-62h117.68z";n.definition={prefix:"fal",iconName:"file-download",icon:[384,512,r,"f56d",i]},n.faFileDownload=n.definition,n.prefix="fal",n.iconName="file-download",n.width=384,n.height=512,n.ligatures=r,n.unicode="f56d",n.svgPathData=i},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M567.31 283.89l-71.78-68.16c-8.28-7.8-20.41-9.88-30.84-5.38-10.31 4.42-16.69 13.98-16.69 24.97V288h-64V131.97c0-12.7-5.1-25-14.1-33.99L286.02 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h288.02c26.49 0 47.99-21.5 47.99-47.99V352h-31.99v112.01c0 8.8-7.2 16-16 16H47.99c-8.8 0-16-7.2-16-16V48.09c0-8.8 7.2-16.09 16-16.09h176.04v104.07c0 13.3 10.7 23.93 24 23.93h103.98v128H168c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h280v52.67c0 10.98 6.38 20.55 16.69 24.97 14.93 6.45 26.88-1.61 30.88-5.39l71.72-68.12c5.62-5.33 8.72-12.48 8.72-20.12s-3.1-14.81-8.7-20.12zM256.03 128.07V32.59c2.8.7 5.3 2.1 7.4 4.2l83.88 83.88c2.1 2.1 3.5 4.6 4.2 7.4h-95.48zM480 362.88V245.12L542 304l-62 58.88z";n.definition={prefix:"fal",iconName:"file-export",icon:[576,512,r,"f56e",i]},n.faFileExport=n.definition,n.prefix="fal",n.iconName="file-export",n.width=576,n.height=512,n.ligatures=r,n.unicode="f56e",n.svgPathData=i},{}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M605.65 487.05l-88.89-88.88c16.86-21.68 27.31-48.58 27.31-78.17a128 128 0 1 0-128 128c29.55 0 56.43-10.42 78.1-27.24l88.9 88.89a8 8 0 0 0 11.32 0l11.31-11.31a8 8 0 0 0-.05-11.29zM416.05 416a96 96 0 1 1 96-96 96.12 96.12 0 0 1-96 96zM368 480H80a16 16 0 0 1-16-16V48.09a16 16 0 0 1 16-16h176v104a23.93 23.93 0 0 0 24 24l136-.09v-28a48.23 48.23 0 0 0-14.1-34L318 14.1A48 48 0 0 0 284.08 0H80a48.16 48.16 0 0 0-48 48.09V464a48 48 0 0 0 48 48h288a47.87 47.87 0 0 0 45.15-32.29 159.9 159.9 0 0 1-33.92-4.36A15.91 15.91 0 0 1 368 480zM288 32.59a15.73 15.73 0 0 1 7.4 4.2l83.9 83.89a15.75 15.75 0 0 1 4.2 7.39H288z";n.definition={prefix:"fal",iconName:"file-search",icon:[640,512,r,"f865",i]},n.faFileSearch=n.definition,n.prefix="fal",n.iconName="file-search",n.width=640,n.height=512,n.ligatures=r,n.unicode="f865",n.svgPathData=i},{}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M369.9 97.98L286.02 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h288.02c26.49 0 47.99-21.5 47.99-47.99V131.97c0-12.69-5.1-24.99-14.1-33.99zM256.03 32.59c2.8.7 5.3 2.1 7.4 4.2l83.88 83.88c2.1 2.1 3.5 4.6 4.2 7.4h-95.48V32.59zm95.98 431.42c0 8.8-7.2 16-16 16H47.99c-8.8 0-16-7.2-16-16V48.09c0-8.8 7.2-16.09 16-16.09h176.04v104.07c0 13.3 10.7 23.93 24 23.93h103.98v304.01zm-180.1-247.32l-68.12 71.75c-7.81 8.2-9.94 20.31-5.44 30.83 4.41 10.31 14 16.72 25 16.72H176V424c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-88.02h52.66c11 0 20.59-6.41 25-16.72 4.5-10.52 2.38-22.62-5.44-30.81l-68.12-71.78c-10.69-11.19-29.51-11.2-40.19.02zm-38.75 87.29l58.84-62 58.84 62H133.16z";n.definition={prefix:"fal",iconName:"file-upload",icon:[384,512,r,"f574",i]},n.faFileUpload=n.definition,n.prefix="fal",n.iconName="file-upload",n.width=384,n.height=512,n.ligatures=r,n.unicode="f574",n.svgPathData=i},{}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-53.6-246.5c-6.8 32.8-32.5 139.7-33.4 150.3-5.8-29.1-.7 1.6-41.8-150.9-1.4-5.2-6.2-8.9-11.6-8.9h-6.4c-5.4 0-10.2 3.6-11.6 8.9-38.3 142.3-37.4 140.6-39.4 154.7-4.1-23.9 2.1-2.9-34.4-154.4-1.3-5.4-6.1-9.2-11.7-9.2h-7.2c-7.8 0-13.5 7.3-11.6 14.9 9.5 38 34.5 137.4 42.2 168 1.3 5.3 6.1 9.1 11.6 9.1h17c5.4 0 10.2-3.7 11.6-8.9 34.2-127.7 33.5-123.4 36.7-142.9 6.5 31.1.2 7 36.7 142.9 1.4 5.2 6.2 8.9 11.6 8.9h14c5.5 0 13.7-3.7 15.1-9l42.8-168c1.9-7.6-3.8-15-11.6-15h-6.8c-5.7 0-10.6 4-11.8 9.5z";n.definition={prefix:"fal",iconName:"file-word",icon:[384,512,r,"f1c2",i]},n.faFileWord=n.definition,n.prefix="fal",n.iconName="file-word",n.width=384,n.height=512,n.ligatures=r,n.unicode="f1c2",n.svgPathData=i},{}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M344.348 74.667C287.742 74.667 242.446 40 172.522 40c-28.487 0-53.675 5.322-76.965 14.449C99.553 24.713 75.808-1.127 46.071.038 21.532.999 1.433 20.75.076 45.271-1.146 67.34 12.553 86.382 32 93.258V500c0 6.627 5.373 12 12 12h8c6.627 0 12-5.373 12-12V378.398c31.423-14.539 72.066-29.064 135.652-29.064 56.606 0 101.902 34.667 171.826 34.667 51.31 0 91.933-17.238 130.008-42.953 6.589-4.45 10.514-11.909 10.514-19.86V59.521c0-17.549-18.206-29.152-34.122-21.76-36.78 17.084-86.263 36.906-133.53 36.906zM48 28c11.028 0 20 8.972 20 20s-8.972 20-20 20-20-8.972-20-20 8.972-20 20-20zm432 289.333C456.883 334.03 415.452 352 371.478 352c-63.615 0-108.247-34.667-171.826-34.667-46.016 0-102.279 10.186-135.652 26V106.667C87.117 89.971 128.548 72 172.522 72c63.615 0 108.247 34.667 171.826 34.667 45.92 0 102.217-18.813 135.652-34.667v245.333z";n.definition={prefix:"fal",iconName:"flag",icon:[512,512,r,"f024",i]},n.faFlag=n.definition,n.prefix="fal",n.iconName="flag",n.width=512,n.height=512,n.ligatures=r,n.unicode="f024",n.svgPathData=i},{}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M104 32H24C10.78 32 0 42.77 0 56v80c0 13.23 10.78 24 24 24h80c13.22 0 24-10.77 24-24V56c0-13.23-10.78-24-24-24zm-8 96H32V64h64v64zm8 64H24c-13.22 0-24 10.77-24 24v80c0 13.23 10.78 24 24 24h80c13.22 0 24-10.77 24-24v-80c0-13.23-10.78-24-24-24zm-8 96H32v-64h64v64zm8 64H24c-13.22 0-24 10.77-24 24v80c0 13.23 10.78 24 24 24h80c13.22 0 24-10.77 24-24v-80c0-13.23-10.78-24-24-24zm-8 96H32v-64h64v64zM296 32h-80c-13.22 0-24 10.77-24 24v80c0 13.23 10.78 24 24 24h80c13.22 0 24-10.77 24-24V56c0-13.23-10.78-24-24-24zm-8 96h-64V64h64v64zm8 64h-80c-13.22 0-24 10.77-24 24v80c0 13.23 10.78 24 24 24h80c13.22 0 24-10.77 24-24v-80c0-13.23-10.78-24-24-24zm-8 96h-64v-64h64v64zm8 64h-80c-13.22 0-24 10.77-24 24v80c0 13.23 10.78 24 24 24h80c13.22 0 24-10.77 24-24v-80c0-13.23-10.78-24-24-24zm-8 96h-64v-64h64v64z";n.definition={prefix:"fal",iconName:"grip-vertical",icon:[320,512,r,"f58e",i]},n.faGripVertical=n.definition,n.prefix="fal",n.iconName="grip-vertical",n.width=320,n.height=512,n.ligatures=r,n.unicode="f58e",n.svgPathData=i},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M528.61 75.91l-60.49-60.52C457.91 5.16 444.45 0 430.98 0a52.38 52.38 0 0 0-34.75 13.15L110.59 261.8c-10.29 9.08-14.33 23.35-10.33 36.49l12.49 41.02-36.54 36.56c-6.74 6.75-6.74 17.68 0 24.43l.25.26L0 479.98 99.88 512l43.99-44.01.02.02c6.75 6.75 17.69 6.75 24.44 0l36.46-36.47 40.91 12.53c18.01 5.51 31.41-4.54 36.51-10.32l248.65-285.9c18.35-20.82 17.37-52.32-2.25-71.94zM91.05 475.55l-32.21-10.33 40.26-42.03 22.14 22.15-30.19 30.21zm167.16-62.99c-.63.72-1.4.94-2.32.94-.26 0-.54-.02-.83-.05l-40.91-12.53-18.39-5.63-39.65 39.67-46.85-46.88 39.71-39.72-5.6-18.38-12.49-41.02c-.34-1.13.01-2.36.73-3l44.97-39.15 120.74 120.8-39.11 44.95zm248.51-285.73L318.36 343.4l-117.6-117.66L417.4 37.15c4.5-3.97 17.55-9.68 28.1.88l60.48 60.52c7.65 7.65 8.04 20 .74 28.28z";n.definition={prefix:"fal",iconName:"highlighter",icon:[544,512,r,"f591",i]},n.faHighlighter=n.definition,n.prefix="fal",n.iconName="highlighter",n.width=544,n.height=512,n.ligatures=r,n.unicode="f591",n.svgPathData=i},{}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V112c0-8.822 7.178-16 16-16h416c8.822 0 16 7.178 16 16v288zM112 232c30.928 0 56-25.072 56-56s-25.072-56-56-56-56 25.072-56 56 25.072 56 56 56zm0-80c13.234 0 24 10.766 24 24s-10.766 24-24 24-24-10.766-24-24 10.766-24 24-24zm207.029 23.029L224 270.059l-31.029-31.029c-9.373-9.373-24.569-9.373-33.941 0l-88 88A23.998 23.998 0 0 0 64 344v28c0 6.627 5.373 12 12 12h360c6.627 0 12-5.373 12-12v-92c0-6.365-2.529-12.47-7.029-16.971l-88-88c-9.373-9.372-24.569-9.372-33.942 0zM416 352H96v-4.686l80-80 48 48 112-112 80 80V352z";n.definition={prefix:"fal",iconName:"image",icon:[512,512,r,"f03e",i]},n.faImage=n.definition,n.prefix="fal",n.iconName="image",n.width=512,n.height=512,n.ligatures=r,n.unicode="f03e",n.svgPathData=i},{}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-36 344h12V232h-12c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h48c6.627 0 12 5.373 12 12v140h12c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12h-72c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12zm36-240c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z";n.definition={prefix:"fal",iconName:"info-circle",icon:[512,512,r,"f05a",i]},n.faInfoCircle=n.definition,n.prefix="fal",n.iconName="info-circle",n.width=512,n.height=512,n.ligatures=r,n.unicode="f05a",n.svgPathData=i},{}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M301.148 394.702l-79.2 79.19c-50.778 50.799-133.037 50.824-183.84 0-50.799-50.778-50.824-133.037 0-183.84l79.19-79.2a132.833 132.833 0 0 1 3.532-3.403c7.55-7.005 19.795-2.004 20.208 8.286.193 4.807.598 9.607 1.216 14.384.481 3.717-.746 7.447-3.397 10.096-16.48 16.469-75.142 75.128-75.3 75.286-36.738 36.759-36.731 96.188 0 132.94 36.759 36.738 96.188 36.731 132.94 0l79.2-79.2.36-.36c36.301-36.672 36.14-96.07-.37-132.58-8.214-8.214-17.577-14.58-27.585-19.109-4.566-2.066-7.426-6.667-7.134-11.67a62.197 62.197 0 0 1 2.826-15.259c2.103-6.601 9.531-9.961 15.919-7.28 15.073 6.324 29.187 15.62 41.435 27.868 50.688 50.689 50.679 133.17 0 183.851zm-90.296-93.554c12.248 12.248 26.362 21.544 41.435 27.868 6.388 2.68 13.816-.68 15.919-7.28a62.197 62.197 0 0 0 2.826-15.259c.292-5.003-2.569-9.604-7.134-11.67-10.008-4.528-19.371-10.894-27.585-19.109-36.51-36.51-36.671-95.908-.37-132.58l.36-.36 79.2-79.2c36.752-36.731 96.181-36.738 132.94 0 36.731 36.752 36.738 96.181 0 132.94-.157.157-58.819 58.817-75.3 75.286-2.651 2.65-3.878 6.379-3.397 10.096a163.156 163.156 0 0 1 1.216 14.384c.413 10.291 12.659 15.291 20.208 8.286a131.324 131.324 0 0 0 3.532-3.403l79.19-79.2c50.824-50.803 50.799-133.062 0-183.84-50.802-50.824-133.062-50.799-183.84 0l-79.2 79.19c-50.679 50.682-50.688 133.163 0 183.851z";n.definition={prefix:"fal",iconName:"link",icon:[512,512,r,"f0c1",i]},n.faLink=n.definition,n.prefix="fal",n.iconName="link",n.width=512,n.height=512,n.ligatures=r,n.unicode="f0c1",n.svgPathData=i},{}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M464 64c8.823 0 16 7.178 16 16v352c0 8.822-7.177 16-16 16H48c-8.823 0-16-7.178-16-16V80c0-8.822 7.177-16 16-16h416m0-32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-336 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm288-148v-24a6 6 0 0 0-6-6H198a6 6 0 0 0-6 6v24a6 6 0 0 0 6 6h212a6 6 0 0 0 6-6zm0 96v-24a6 6 0 0 0-6-6H198a6 6 0 0 0-6 6v24a6 6 0 0 0 6 6h212a6 6 0 0 0 6-6zm0 96v-24a6 6 0 0 0-6-6H198a6 6 0 0 0-6 6v24a6 6 0 0 0 6 6h212a6 6 0 0 0 6-6z";n.definition={prefix:"fal",iconName:"list-alt",icon:[512,512,r,"f022",i]},n.faListAlt=n.definition,n.prefix="fal",n.iconName="list-alt",n.width=512,n.height=512,n.ligatures=r,n.unicode="f022",n.svgPathData=i},{}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M376 232H8c-4.42 0-8 3.58-8 8v32c0 4.42 3.58 8 8 8h368c4.42 0 8-3.58 8-8v-32c0-4.42-3.58-8-8-8z";n.definition={prefix:"fal",iconName:"minus",icon:[384,512,r,"f068",i]},n.faMinus=n.definition,n.prefix="fal",n.iconName="minus",n.width=384,n.height=512,n.ligatures=r,n.unicode="f068",n.svgPathData=i},{}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M376 232H216V72c0-4.42-3.58-8-8-8h-32c-4.42 0-8 3.58-8 8v160H8c-4.42 0-8 3.58-8 8v32c0 4.42 3.58 8 8 8h160v160c0 4.42 3.58 8 8 8h32c4.42 0 8-3.58 8-8V280h160c4.42 0 8-3.58 8-8v-32c0-4.42-3.58-8-8-8z";n.definition={prefix:"fal",iconName:"plus",icon:[384,512,r,"f067",i]},n.faPlus=n.definition,n.prefix="fal",n.iconName="plus",n.width=384,n.height=512,n.ligatures=r,n.unicode="f067",n.svgPathData=i},{}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M432 192h-16v-82.75c0-8.49-3.37-16.62-9.37-22.63L329.37 9.37c-6-6-14.14-9.37-22.63-9.37H126.48C109.64 0 96 14.33 96 32v160H80c-44.18 0-80 35.82-80 80v96c0 8.84 7.16 16 16 16h80v112c0 8.84 7.16 16 16 16h288c8.84 0 16-7.16 16-16V384h80c8.84 0 16-7.16 16-16v-96c0-44.18-35.82-80-80-80zM320 45.25L370.75 96H320V45.25zM128.12 32H288v64c0 17.67 14.33 32 32 32h64v64H128.02l.1-160zM384 480H128v-96h256v96zm96-128H32v-80c0-26.47 21.53-48 48-48h352c26.47 0 48 21.53 48 48v80zm-80-88c-13.25 0-24 10.74-24 24 0 13.25 10.75 24 24 24s24-10.75 24-24c0-13.26-10.75-24-24-24z";n.definition={prefix:"fal",iconName:"print",icon:[512,512,r,"f02f",i]},n.faPrint=n.definition,n.prefix="fal",n.iconName="print",n.width=512,n.height=512,n.ligatures=r,n.unicode="f02f",n.svgPathData=i},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M457.4 9.4l-50.1 50.1C365.4 27.2 312.8 8 255.8 8 119.2 8.1 7.7 119.8 8 256.5S119.2 504 256 504c63.9 0 122.2-24.2 166.2-63.9 5.1-4.6 5.4-12.6.5-17.4l-7.1-7.1c-4.5-4.5-11.7-4.7-16.5-.5-39 35.1-89.4 54.9-143.1 54.9-118 0-214-95.6-214-214 0-118 95.6-214 214-214 46.5 0 90.7 14.9 127 41.7l-53.6 53.6c-20.1 20.1-5.9 54.6 22.6 54.6h128c17.7 0 32-14.3 32-32V32c0-28.5-34.6-42.7-54.6-22.6zM480 160H352L480 32z";n.definition={prefix:"fal",iconName:"redo-alt",icon:[512,512,r,"f2f9",i]},n.faRedoAlt=n.definition,n.prefix="fal",n.iconName="redo-alt",n.width=512,n.height=512,n.ligatures=r,n.unicode="f2f9",n.svgPathData=i},{}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395 312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5 0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17 0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208 32s176 78.7 176 176-78.7 176-176 176z";n.definition={prefix:"fal",iconName:"search",icon:[512,512,r,"f002",i]},n.faSearch=n.definition,n.prefix="fal",n.iconName="search",n.width=512,n.height=512,n.ligatures=r,n.unicode="f002",n.svgPathData=i},{}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M352 320c-28.6 0-54.2 12.5-71.8 32.3l-95.5-59.7c9.6-23.4 9.7-49.8 0-73.2l95.5-59.7c17.6 19.8 43.2 32.3 71.8 32.3 53 0 96-43 96-96S405 0 352 0s-96 43-96 96c0 13 2.6 25.3 7.2 36.6l-95.5 59.7C150.2 172.5 124.6 160 96 160c-53 0-96 43-96 96s43 96 96 96c28.6 0 54.2-12.5 71.8-32.3l95.5 59.7c-4.7 11.3-7.2 23.6-7.2 36.6 0 53 43 96 96 96s96-43 96-96c-.1-53-43.1-96-96.1-96zm0-288c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM96 320c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zm256 160c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z";n.definition={prefix:"fal",iconName:"share-alt",icon:[448,512,r,"f1e0",i]},n.faShareAlt=n.definition,n.prefix="fal",n.iconName="share-alt",n.width=448,n.height=512,n.ligatures=r,n.unicode="f1e0",n.svgPathData=i},{}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M48 64h132c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H48c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h132c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48zm279 19.5l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l132 131.4H172c-6.6 0-12 5.4-12 12v10c0 6.6 5.4 12 12 12h279.9L320 404.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l164.5-164c4.7-4.7 4.7-12.3 0-17L344 83.5c-4.7-4.7-12.3-4.7-17 0z";n.definition={prefix:"fal",iconName:"sign-out",icon:[512,512,r,"f08b",i]},n.faSignOut=n.definition,n.prefix="fal",n.iconName="sign-out",n.width=512,n.height=512,n.ligatures=r,n.unicode="f08b",n.svgPathData=i},{}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM405.8 317.9l27.8 162L288 403.5 142.5 480l27.8-162L52.5 203.1l162.7-23.6L288 32l72.8 147.5 162.7 23.6-117.7 114.8z";n.definition={prefix:"fal",iconName:"star",icon:[576,512,r,"f005",i]},n.faStar=n.definition,n.prefix="fal",n.iconName="star",n.width=576,n.height=512,n.ligatures=r,n.unicode="f005",n.svgPathData=i},{}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M448 348.106V80c0-26.51-21.49-48-48-48H48C21.49 32 0 53.49 0 80v351.988c0 26.51 21.49 48 48 48h268.118a48 48 0 0 0 33.941-14.059l83.882-83.882A48 48 0 0 0 448 348.106zm-120.569 95.196a15.89 15.89 0 0 1-7.431 4.195v-95.509h95.509a15.88 15.88 0 0 1-4.195 7.431l-83.883 83.883zM416 80v239.988H312c-13.255 0-24 10.745-24 24v104H48c-8.837 0-16-7.163-16-16V80c0-8.837 7.163-16 16-16h352c8.837 0 16 7.163 16 16z";n.definition={prefix:"fal",iconName:"sticky-note",icon:[448,512,r,"f249",i]},n.faStickyNote=n.definition,n.prefix="fal",n.iconName="sticky-note",n.width=448,n.height=512,n.ligatures=r,n.unicode="f249",n.svgPathData=i},{}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M8 128h432c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8H8c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8zm496 112H72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h432c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm-64 144H8c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h432c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8z";n.definition={prefix:"fal",iconName:"stream",icon:[512,512,r,"f550",i]},n.faStream=n.definition,n.prefix="fal",n.iconName="stream",n.width=512,n.height=512,n.ligatures=r,n.unicode="f550",n.svgPathData=i},{}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z";n.definition={prefix:"fal",iconName:"times",icon:[320,512,r,"f00d",i]},n.faTimes=n.definition,n.prefix="fal",n.iconName="times",n.width=320,n.height=512,n.ligatures=r,n.unicode="f00d",n.svgPathData=i},{}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M502.6 389.5L378.2 265c-15.6-15.6-36.1-23.4-56.6-23.4-15.4 0-30.8 4.4-44.1 13.3L192 169.4V96L64 0 0 64l96 128h73.4l85.5 85.5c-20.6 31.1-17.2 73.3 10.2 100.7l124.5 124.5c6.2 6.2 14.4 9.4 22.6 9.4 8.2 0 16.4-3.1 22.6-9.4l67.9-67.9c12.4-12.6 12.4-32.8-.1-45.3zM160 158.1v1.9h-48L42.3 67 67 42.3l93 69.7v46.1zM412.1 480L287.7 355.5c-9.1-9.1-14.1-21.1-14.1-33.9 0-12.8 5-24.9 14.1-33.9 9.1-9.1 21.1-14.1 33.9-14.1 12.8 0 24.9 5 33.9 14.1L480 412.1 412.1 480zM64 432c0 8.8 7.2 16 16 16s16-7.2 16-16-7.2-16-16-16-16 7.2-16 16zM276.8 66.9C299.5 44.2 329.4 32 360.6 32c6.9 0 13.8.6 20.7 1.8L312 103.2l13.8 83 83.1 13.8 69.3-69.3c6.7 38.2-5.3 76.8-33.1 104.5-8.9 8.9-19.1 16-30 21.5l23.6 23.6c10.4-6.2 20.2-13.6 29-22.5 37.8-37.8 52.7-91.4 39.7-143.3-2.3-9.5-9.7-17-19.1-19.6-9.5-2.6-19.7 0-26.7 7l-63.9 63.9-44.2-7.4-7.4-44.2L410 50.3c6.9-6.9 9.6-17.1 7-26.5-2.6-9.5-10.2-16.8-19.7-19.2C345.6-8.3 292 6.5 254.1 44.3c-12.9 12.9-22.9 27.9-30.1 44v67.8l22.1 22.1c-9.6-40.4 1.6-82.2 30.7-111.3zM107 467.1c-16.6 16.6-45.6 16.6-62.2 0-17.1-17.1-17.1-45.1 0-62.2l146.1-146.1-22.6-22.6L22.2 382.3c-29.6 29.6-29.6 77.8 0 107.5C36.5 504.1 55.6 512 75.9 512c20.3 0 39.4-7.9 53.7-22.3L231.4 388c-6.7-9.2-11.8-19.3-15.5-29.8L107 467.1z";n.definition={prefix:"fal",iconName:"tools",icon:[512,512,r,"f7d9",i]},n.faTools=n.definition,n.prefix="fal",n.iconName="tools",n.width=512,n.height=512,n.ligatures=r,n.unicode="f7d9",n.svgPathData=i},{}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M296 432h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zm-160 0h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zM440 64H336l-33.6-44.8A48 48 0 0 0 264 0h-80a48 48 0 0 0-38.4 19.2L112 64H8a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v368a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V96h24a8 8 0 0 0 8-8V72a8 8 0 0 0-8-8zM171.2 38.4A16.1 16.1 0 0 1 184 32h80a16.1 16.1 0 0 1 12.8 6.4L296 64H152zM384 464a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V96h320zm-168-32h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8z";n.definition={prefix:"fal",iconName:"trash-alt",icon:[448,512,r,"f2ed",i]},n.faTrashAlt=n.definition,n.prefix="fal",n.iconName="trash-alt",n.width=448,n.height=512,n.ligatures=r,n.unicode="f2ed",n.svgPathData=i},{}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z";n.definition={prefix:"fal",iconName:"undo",icon:[512,512,r,"f0e2",i]},n.faUndo=n.definition,n.prefix="fal",n.iconName="undo",n.width=512,n.height=512,n.ligatures=r,n.unicode="f0e2",n.svgPathData=i},{}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M496 448h-16v-40c0-13.255-10.745-24-24-24h-40V208h-32v176h-64V208h-32v176h-64V208h-32v176h-64V208H96v176H56c-13.255 0-24 10.745-24 24v40H16c-8.837 0-16 7.163-16 16v8a8 8 0 0 0 8 8h496a8 8 0 0 0 8-8v-8c0-8.837-7.163-16-16-16zM64 416h384v32H64v-32zm440.267-280L271.179 34.463a48.004 48.004 0 0 0-30.358 0L7.733 136A11.999 11.999 0 0 0 0 147.216V156c0 6.627 5.373 12 12 12h20v12c0 6.627 5.373 12 12 12h424c6.627 0 12-5.373 12-12v-12h20c6.627 0 12-5.373 12-12v-8.784c0-4.982-3.077-9.445-7.733-11.216zM448 160H64v-13.606l187.943-81.871a16.004 16.004 0 0 1 8.114 0L448 146.394V160z";n.definition={prefix:"fal",iconName:"university",icon:[512,512,r,"f19c",i]},n.faUniversity=n.definition,n.prefix="fal",n.iconName="university",n.width=512,n.height=512,n.ligatures=r,n.unicode="f19c",n.svgPathData=i},{}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm128 421.6c-35.9 26.5-80.1 42.4-128 42.4s-92.1-15.9-128-42.4V416c0-35.3 28.7-64 64-64 11.1 0 27.5 11.4 64 11.4 36.6 0 52.8-11.4 64-11.4 35.3 0 64 28.7 64 64v13.6zm30.6-27.5c-6.8-46.4-46.3-82.1-94.6-82.1-20.5 0-30.4 11.4-64 11.4S204.6 320 184 320c-48.3 0-87.8 35.7-94.6 82.1C53.9 363.6 32 312.4 32 256c0-119.1 96.9-216 216-216s216 96.9 216 216c0 56.4-21.9 107.6-57.4 146.1zM248 120c-48.6 0-88 39.4-88 88s39.4 88 88 88 88-39.4 88-88-39.4-88-88-88zm0 144c-30.9 0-56-25.1-56-56s25.1-56 56-56 56 25.1 56 56-25.1 56-56 56z";n.definition={prefix:"fal",iconName:"user-circle",icon:[496,512,r,"f2bd",i]},n.faUserCircle=n.definition,n.prefix="fal",n.iconName="user-circle",n.width=496,n.height=512,n.ligatures=r,n.unicode="f2bd",n.svgPathData=i},{}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M320 352h-4.7c-12.16 0-24 2.9-35.5 6.8a173.76 173.76 0 0 1-111.64 0c-11.48-3.9-23.29-6.78-35.42-6.78H128A128 128 0 0 0 0 480a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32 128 128 0 0 0-128-128zM32 480a96.1 96.1 0 0 1 96-96h4.74c6.92 0 14.92 1.62 25.16 5.09a205.75 205.75 0 0 0 132.16 0c10.31-3.49 18.33-5.11 25.24-5.11h4.7a96.1 96.1 0 0 1 96 96zm16-256a16 16 0 0 0 16-16v-16c0-88.22 71.78-160 160-160s160 71.78 160 160v16a80.09 80.09 0 0 1-80 80h-32a32 32 0 0 0-32-32h-32a32 32 0 0 0 0 64h96a112.14 112.14 0 0 0 112-112v-16C416 86.12 329.88 0 224 0S32 86.12 32 192v16a16 16 0 0 0 16 16zM224 96a95.57 95.57 0 0 1 71.23 159.76c0 .09.13.15.18.24H304a47.89 47.89 0 0 0 40.55-22.58C349 220.36 352 206.58 352 192a128 128 0 0 0-256 0c0 40.42 19.1 76 48.35 99.47-.06-1.17-.35-2.28-.35-3.47a63.25 63.25 0 0 1 8.93-32A95.58 95.58 0 0 1 224 96z";n.definition={prefix:"fal",iconName:"user-headset",icon:[448,512,r,"f82d",i]},n.faUserHeadset=n.definition,n.prefix="fal",n.iconName="user-headset",n.width=448,n.height=512,n.ligatures=r,n.unicode="f82d",n.svgPathData=i},{}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M151.5 347.8L3.5 201c-4.7-4.7-4.7-12.3 0-17l19.8-19.8c4.7-4.7 12.3-4.7 17 0L160 282.7l119.7-118.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17l-148 146.8c-4.7 4.7-12.3 4.7-17 0z";n.definition={prefix:"far",iconName:"angle-down",icon:[320,512,r,"f107",i]},n.faAngleDown=n.definition,n.prefix="far",n.iconName="angle-down",n.width=320,n.height=512,n.ligatures=r,n.unicode="f107",n.svgPathData=i},{}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M395.5 267.5l-99-99c-4.7-4.7-12.3-4.7-17 0l-99 99c-7.6 7.6-2.2 20.5 8.5 20.5h67v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-84h67c10.7 0 16.1-12.9 8.5-20.5zm148.2-67.4C539.7 142.1 491.4 96 432 96c-7.6 0-15.1.8-22.4 2.3C377.7 58.3 328.1 32 272 32c-84.6 0-155.5 59.7-172.3 139.8C39.9 196.1 0 254.4 0 320c0 88.4 71.6 160 160 160h336c79.5 0 144-64.5 144-144 0-61.8-39.2-115.8-96.3-135.9zM496 432H160c-61.9 0-112-50.1-112-112 0-56.4 41.7-103.1 96-110.9V208c0-70.7 57.3-128 128-128 53.5 0 99.3 32.8 118.4 79.4 11.2-9.6 25.7-15.4 41.6-15.4 35.3 0 64 28.7 64 64 0 11.8-3.2 22.9-8.8 32.4 2.9-.3 5.9-.4 8.8-.4 53 0 96 43 96 96s-43 96-96 96z";n.definition={prefix:"far",iconName:"cloud-upload-alt",icon:[640,512,r,"f382",i]},n.faCloudUploadAlt=n.definition,n.prefix="far",n.iconName="cloud-upload-alt",n.width=640,n.height=512,n.ligatures=r,n.unicode="f382",n.svgPathData=i},{}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M0 479.98L99.88 512l35.56-35.58-67.01-67.04L0 479.98zM527.93 79.27l-63.17-63.2C454.09 5.39 440.04 0 425.97 0c-12.93 0-25.88 4.55-36.28 13.73L124.8 239.96a36.598 36.598 0 0 0-10.79 38.1l13.05 42.83-33.95 33.97c-9.37 9.37-9.37 24.56 0 33.93l62.26 62.29c9.37 9.38 24.58 9.38 33.95 0l33.86-33.88 42.72 13.08a36.54 36.54 0 0 0 10.7 1.61 36.57 36.57 0 0 0 27.43-12.38l226.25-265.13c19.16-21.72 18.14-54.61-2.35-75.11zM272.78 382.18l-35.55-10.89-27.59-8.45-20.4 20.41-16.89 16.9-28.31-28.32 16.97-16.98 20.37-20.38-8.4-27.57-10.86-35.66 38.23-32.65 105.18 105.23-32.75 38.36zm220.99-258.97L326.36 319.39l-101.6-101.65 196.68-168c1.29-1.14 2.82-1.72 4.53-1.72 1.3 0 3.2.35 4.86 2.01l63.17 63.2c2.54 2.56 2.67 6.68-.23 9.98z";n.definition={prefix:"far",iconName:"highlighter",icon:[544,512,r,"f591",i]},n.faHighlighter=n.definition,n.prefix="far",n.iconName="highlighter",n.width=544,n.height=512,n.ligatures=r,n.unicode="f591",n.svgPathData=i},{}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M128 224c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.4-32-32-32zM418.6 58.1C359.2 9.3 281.3-10 204.6 5 104.9 24.4 24.7 104.2 5.1 203.7c-16.7 84.2 8.1 168.3 67.8 230.6 47.3 49.4 109.7 77.8 167.9 77.8 8.8 0 17.5-.6 26.1-2 24.2-3.7 44.6-18.7 56.1-41.1 12.3-24 12.3-52.7.2-76.6-6.1-12-5.5-26.2 1.8-38 7-11.8 18.7-18.4 32-18.4h72.2c46.4 0 82.8-35.7 82.8-81.3-.2-76.4-34.3-148.1-93.4-196.6zM429.2 288H357c-29.9 0-57.2 15.4-73 41.3-16 26.1-17.3 57.8-3.6 84.9 5.1 10.1 5.1 22.7-.2 32.9-2.6 5-8.7 13.7-20.6 15.6-49.3 7.7-108.9-16.6-152-61.6-48.8-50.9-69-119.4-55.4-188 15.9-80.6 80.8-145.3 161.6-161 62.6-12.3 126.1 3.5 174.3 43.1 48.1 39.5 75.7 97.6 75.9 159.6 0 18.6-15.3 33.2-34.8 33.2zM160 128c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.4-32-32-32zm96-32.1c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32c0-17.6-14.3-32-32-32zm96 32.1c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z";n.definition={prefix:"far",iconName:"palette",icon:[512,512,r,"f53f",i]},n.faPalette=n.definition,n.prefix="far",n.iconName="palette",n.width=512,n.height=512,n.ligatures=r,n.unicode="f53f",n.svgPathData=i},{}],68:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M352 320c-25.6 0-48.9 10-66.1 26.4l-98.3-61.5c5.9-18.8 5.9-39.1 0-57.8l98.3-61.5C303.1 182 326.4 192 352 192c53 0 96-43 96-96S405 0 352 0s-96 43-96 96c0 9.8 1.5 19.6 4.4 28.9l-98.3 61.5C144.9 170 121.6 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.6 0 48.9-10 66.1-26.4l98.3 61.5c-2.9 9.4-4.4 19.1-4.4 28.9 0 53 43 96 96 96s96-43 96-96-43-96-96-96zm0-272c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM96 304c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm256 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z";n.definition={prefix:"far",iconName:"share-alt",icon:[448,512,r,"f1e0",i]},n.faShareAlt=n.definition,n.prefix="far",n.iconName="share-alt",n.width=448,n.height=512,n.ligatures=r,n.unicode="f1e0",n.svgPathData=i},{}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M637.2 199.8c-.9-.9-3-2.5-5.7-2.2-36.2 2.4-84.6 29.9-123.4 51.9-16 9.1-29.8 16.9-41.1 22-30.7 14-57.1 26.2-81.4 26.2-10.6 0-18.5-3-23.8-9.3-9.5-11-9.3-29.7-6.1-54.3 3.7-28.4.1-50.5-9.7-61.3-6-6.5-14.5-9.3-25.5-8.6-27.8 1.6-76.6 39-168.7 129.1l-27.4 26.9L181 175.9c13.2-33.5 4-70.1-23.3-93.1-21.8-18.4-58.8-29.2-97.7-4L4 117.1c-4 2.6-5.1 7.8-2.7 11.6L18.9 157c1.2 1.9 3 3.2 5.2 3.7 2.1.4 4.3.1 6.2-1.1L89.6 119c5.4-3.4 11.2-5.1 17-5.1 7 0 13.9 2.5 19.7 7.4 10.6 9 14.2 23.1 9.1 36.1L34.6 413.6c-2.9 7.3-1.7 17.3 3 24.3 3.1 4.6 9 10.1 19.9 10.1 6.6 0 12.8-2.6 17.4-7.3 43.5-44.2 158.5-157.2 217.3-205l14.8-12-1.5 19.2c-2.1 27.9-2.5 57.2 19 81.2 14.1 15.7 34.7 23.7 61.2 23.7 34.8 0 67.2-14.9 101.6-30.6 10.5-4.8 25-13.4 40.3-22.5 35.2-20.9 75.1-44.5 104.4-47 4.7-.4 8.1-3.8 8.1-8.2V206c-.1-2.3-1.1-4.6-2.9-6.2z";n.definition={prefix:"far",iconName:"signature",icon:[640,512,r,"f5b7",i]},n.faSignature=n.definition,n.prefix="far",n.iconName="signature",n.width=640,n.height=512,n.ligatures=r,n.unicode="f5b7",n.svgPathData=i},{}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M448 348.106V80c0-26.51-21.49-48-48-48H48C21.49 32 0 53.49 0 80v351.988c0 26.51 21.49 48 48 48h268.118a48 48 0 0 0 33.941-14.059l83.882-83.882A48 48 0 0 0 448 348.106zm-128 80v-76.118h76.118L320 428.106zM400 80v223.988H296c-13.255 0-24 10.745-24 24v104H48V80h352z";n.definition={prefix:"far",iconName:"sticky-note",icon:[448,512,r,"f249",i]},n.faStickyNote=n.definition,n.prefix="far",n.iconName="sticky-note",n.width=448,n.height=512,n.ligatures=r,n.unicode="f249",n.svgPathData=i},{}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M150.39 208h113.17l-46.31-23.16a45.65 45.65 0 0 1 0-81.68A67.93 67.93 0 0 1 247.56 96H310a45.59 45.59 0 0 1 36.49 18.25l15.09 20.13a16 16 0 0 0 22.4 3.21l25.62-19.19a16 16 0 0 0 3.21-22.4L397.7 75.84A109.44 109.44 0 0 0 310.1 32h-62.54a132.49 132.49 0 0 0-58.94 13.91c-40.35 20.17-64.19 62.31-60.18 108 1.76 20.09 10.02 38.37 21.95 54.09zM496 240H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm-92.5 80h-91.07l14.32 7.16a45.65 45.65 0 0 1 0 81.68 67.93 67.93 0 0 1-30.31 7.16H234a45.59 45.59 0 0 1-36.49-18.25l-15.09-20.13a16 16 0 0 0-22.4-3.21L134.4 393.6a16 16 0 0 0-3.21 22.4l15.11 20.17A109.44 109.44 0 0 0 233.9 480h62.54a132.42 132.42 0 0 0 58.93-13.91c40.36-20.17 64.2-62.31 60.19-108-1.19-13.69-5.89-26.27-12.06-38.09z";n.definition={prefix:"far",iconName:"strikethrough",icon:[512,512,r,"f0cc",i]},n.faStrikethrough=n.definition,n.prefix="far",n.iconName="strikethrough",n.width=512,n.height=512,n.ligatures=r,n.unicode="f0cc",n.svgPathData=i},{}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M32 48h32v208c0 88.22 71.78 160 160 160s160-71.78 160-160V48h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H288a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h32v208a96 96 0 0 1-192 0V48h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16zm400 416H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z";n.definition={prefix:"far",iconName:"underline",icon:[448,512,r,"f0cd",i]},n.faUnderline=n.definition,n.prefix="far",n.iconName="underline",n.width=448,n.height=512,n.ligatures=r,n.unicode="f0cd",n.svgPathData=i},{}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M628.41 261.07L613 256.63a15.88 15.88 0 0 0-19.55 10.16C572.85 329.76 511.64 432 464 432c-52.09 0-87.41-93.77-121.53-184.45C302.56 141.58 261.31 32 176 32 87.15 32 17.77 178.46.78 230.69a16 16 0 0 0 10.81 20.23L27 255.36a15.87 15.87 0 0 0 19.55-10.15C67.15 182.24 128.36 80 176 80c52.09 0 87.41 93.77 121.53 184.45C337.44 370.42 378.69 480 464 480c88.85 0 158.23-146.46 175.22-198.7a16 16 0 0 0-10.81-20.23z";n.definition={prefix:"far",iconName:"wave-sine",icon:[640,512,r,"f899",i]},n.faWaveSine=n.definition,n.prefix="far",n.iconName="wave-sine",n.width=640,n.height=512,n.ligatures=r,n.unicode="f899",n.svgPathData=i},{}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z";n.definition={prefix:"fas",iconName:"circle",icon:[512,512,r,"f111",i]},n.faCircle=n.definition,n.prefix="fas",n.iconName="circle",n.width=512,n.height=512,n.ligatures=r,n.unicode="f111",n.svgPathData=i},{}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z";n.definition={prefix:"fas",iconName:"flag",icon:[512,512,r,"f024",i]},n.faFlag=n.definition,n.prefix="fas",n.iconName="flag",n.width=512,n.height=512,n.ligatures=r,n.unicode="f024",n.svgPathData=i},{}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z";n.definition={prefix:"fas",iconName:"grip-vertical",icon:[320,512,r,"f58e",i]},n.faGripVertical=n.definition,n.prefix="fas",n.iconName="grip-vertical",n.width=320,n.height=512,n.ligatures=r,n.unicode="f58e",n.svgPathData=i},{}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M623.2 192c-51.8 3.5-125.7 54.7-163.1 71.5-29.1 13.1-54.2 24.4-76.1 24.4-22.6 0-26-16.2-21.3-51.9 1.1-8 11.7-79.2-42.7-76.1-25.1 1.5-64.3 24.8-169.5 126L192 182.2c30.4-75.9-53.2-151.5-129.7-102.8L7.4 116.3C0 121-2.2 130.9 2.5 138.4l17.2 27c4.7 7.5 14.6 9.7 22.1 4.9l58-38.9c18.4-11.7 40.7 7.2 32.7 27.1L34.3 404.1C27.5 421 37 448 64 448c8.3 0 16.5-3.2 22.6-9.4 42.2-42.2 154.7-150.7 211.2-195.8-2.2 28.5-2.1 58.9 20.6 83.8 15.3 16.8 37.3 25.3 65.5 25.3 35.6 0 68-14.6 102.3-30 33-14.8 99-62.6 138.4-65.8 8.5-.7 15.2-7.3 15.2-15.8v-32.1c.2-9.1-7.5-16.8-16.6-16.2z";n.definition={prefix:"fas",iconName:"signature",icon:[640,512,r,"f5b7",i]},n.faSignature=n.definition,n.prefix="fas",n.iconName="signature",n.width=640,n.height=512,n.ligatures=r,n.unicode="f5b7",n.svgPathData=i},{}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M456.433 371.72l-27.79-16.045c-7.192-4.152-10.052-13.136-6.487-20.636 25.82-54.328 23.566-118.602-6.768-171.03-30.265-52.529-84.802-86.621-144.76-91.424C262.35 71.922 256 64.953 256 56.649V24.56c0-9.31 7.916-16.609 17.204-15.96 81.795 5.717 156.412 51.902 197.611 123.408 41.301 71.385 43.99 159.096 8.042 232.792-4.082 8.369-14.361 11.575-22.424 6.92z";n.definition={prefix:"fas",iconName:"spinner-third",icon:[512,512,r,"f3f4",i]},n.faSpinnerThird=n.definition,n.prefix="fas",n.iconName="spinner-third",n.width=512,n.height=512,n.ligatures=r,n.unicode="f3f4",n.svgPathData=i},{}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z";n.definition={prefix:"fas",iconName:"star",icon:[576,512,r,"f005",i]},n.faStar=n.definition,n.prefix="fas",n.iconName="star",n.width=576,n.height=512,n.ligatures=r,n.unicode="f005",n.svgPathData=i},{}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[],i="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z";n.definition={prefix:"fas",iconName:"user",icon:[448,512,r,"f007",i]},n.faUser=n.definition,n.prefix="fas",n.iconName="user",n.width=448,n.height=512,n.ligatures=r,n.unicode="f007",n.svgPathData=i},{}],81:[function(e,t,n){"use strict";e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.string.iterator"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.assign"),e("whatwg-fetch");var r=e("underscore"),i=e("query-string"),o=e("fetch-jsonp"),a=e("faye"),s={mode:"cors",cache:"no-cache",credentials:"include"},c={},l={production:{push:"https://push.readcube.com/bayeux",institution:"https://api-gateway.readcube.com/institution"},staging:{push:"https://push-staging.readcube.com/bayeux",institution:"https://api-gateway.readcube.com/institution-staging"}};function u(e){this._result=null,this._promise=null,this._subscription=null,this._canceled=!1,e=Object.assign({env:"production",jsonp:!1},e),e=r.pick(e,"env","jsonp","doi","user_id","organization_id"),Object.assign(this,e)}u.prototype={get _channel(){return"/".concat(this.env,"/organizations/").concat(this.organization_id,"/").concat(this.user_id)},get _fetch(){return(this.jsonp?o:fetch).bind(window)},get _faye(){return c[this.env]||(c[this.env]=new a.Client(l[this.env].push)),c[this.env]},get result(){return this._result},pdf:function(){var e=this,t="".concat(l[this.env].institution,"/pdf"),n=i.stringify({doi:this.doi,t:r.now()});return new Promise(function(r){e._fetch("".concat(t,"?").concat(n),s).then(function(e){return r(e.json())}).catch(function(e){return console.warn(e)})})},available:function(){return this._promise||(this._result=null,this._canceled=!1,this._promise=this._verify()),this._promise},cancel:function(){this._promise=null,this._canceled=!0,this._subscription&&this._subscription.cancel()},_verify:function(){var e=this;return this._canceled?this._denied("canceled"):(this._attempt||(this._attempt=0,this._webSocketWait=this._verifyWebSocket()),++this._attempt>11?this._denied("timeout"):this._checkAvailable().then(function(t){return e._canceled?e._denied("canceled"):"true"===t.status?e._granted("polling"):"n/a"===t.status?e._attempt>1?e._verifyDelayed():Promise.race([e._webSocketWait,e._verifyDelayed()]):e._denied("polling")}))},_verifyDelayed:function(){var e=this;return new Promise(function(t,n){setTimeout(function(){return e._verify().then(t,n)},3e3)})},_checkAvailable:function(){var e=this,t="".concat(l[this.env].institution,"/available"),n=i.stringify({doi:this.doi,t:r.now()});return new Promise(function(r){e._fetch("".concat(t,"?").concat(n),s).then(function(e){return r(e.json())}).catch(function(e){return console.warn(e)})})},_verifyWebSocket:function(){var e=this;return this.user_id&&this.organization_id?new Promise(function(t,n){var i=r.once(function(r){e._result=e._getData(r.access,"web-socket"),r.access?t(e._result):n(e._result)});e._subscription=e._faye.subscribe(e._channel,function(t){e._subscription.cancel(),e._subscription=null,e._result||(e._canceled?(e._result=e._getData(!1,"canceled"),n(e._result)):t.doi==e.doi&&i(t))})}):new Promise(function(){})},_granted:function(e){return this._result=this._getData(!0,e),Promise.resolve(this._result)},_denied:function(e){return this._result=this._getData(!1,e),Promise.reject(this._result)},_getData:function(e,t){return{access:e,method:t,doi:this.doi}}},t.exports=u},{"core-js/modules/es6.array.iterator":148,"core-js/modules/es6.object.assign":149,"core-js/modules/es6.object.to-string":150,"core-js/modules/es6.promise":151,"core-js/modules/es6.string.iterator":152,"core-js/modules/web.dom.iterable":153,faye:351,"fetch-jsonp":386,"query-string":154,underscore:432,"whatwg-fetch":433}],82:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],83:[function(e,t,n){var r=e("./_wks")("unscopables"),i=Array.prototype;null==i[r]&&e("./_hide")(i,r,{}),t.exports=function(e){i[r][e]=!0}},{"./_hide":101,"./_wks":146}],84:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],85:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":107}],86:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_to-length"),o=e("./_to-absolute-index");t.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},{"./_to-absolute-index":138,"./_to-iobject":140,"./_to-length":141}],87:[function(e,t,n){var r=e("./_cof"),i=e("./_wks")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":88,"./_wks":146}],88:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],89:[function(e,t,n){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},{}],90:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":82}],91:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],92:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":96}],93:[function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":99,"./_is-object":107}],94:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],95:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_hide"),a=e("./_redefine"),s=e("./_ctx"),c=function(e,t,n){var l,u,d,f,p=e&c.F,h=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,y=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),w=b.prototype||(b.prototype={});for(l in h&&(n=t),n)d=((u=!p&&y&&void 0!==y[l])?y:n)[l],f=v&&u?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,y&&a(y,l,d,e&c.U),b[l]!=d&&o(b,l,f),g&&w[l]!=d&&(w[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":89,"./_ctx":90,"./_global":99,"./_hide":101,"./_redefine":130}],96:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],97:[function(e,t,n){var r=e("./_ctx"),i=e("./_iter-call"),o=e("./_is-array-iter"),a=e("./_an-object"),s=e("./_to-length"),c=e("./core.get-iterator-method"),l={},u={};(n=t.exports=function(e,t,n,d,f){var p,h,m,g,v=f?function(){return e}:c(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>b;b++)if((g=t?y(a(h=e[b])[0],h[1]):y(e[b]))===l||g===u)return g}else for(m=v.call(e);!(h=m.next()).done;)if((g=i(m,y,h.value,t))===l||g===u)return g}).BREAK=l,n.RETURN=u},{"./_an-object":85,"./_ctx":90,"./_is-array-iter":106,"./_iter-call":108,"./_to-length":141,"./core.get-iterator-method":147}],98:[function(e,t,n){t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":134}],99:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],100:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],101:[function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":92,"./_object-dp":119,"./_property-desc":128}],102:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":99}],103:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":92,"./_dom-create":93,"./_fails":96}],104:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],105:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":88}],106:[function(e,t,n){var r=e("./_iterators"),i=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{"./_iterators":113,"./_wks":146}],107:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],108:[function(e,t,n){var r=e("./_an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},{"./_an-object":85}],109:[function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./_hide":101,"./_object-create":118,"./_property-desc":128,"./_set-to-string-tag":132,"./_wks":146}],110:[function(e,t,n){"use strict";var r=e("./_library"),i=e("./_export"),o=e("./_redefine"),a=e("./_hide"),s=e("./_iterators"),c=e("./_iter-create"),l=e("./_set-to-string-tag"),u=e("./_object-gpo"),d=e("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,n,h,m,g,v){c(n,t,h);var y,b,w,_=function(e){if(!f&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k="values"==m,j=!1,C=e.prototype,E=C[d]||C["@@iterator"]||m&&C[m],S=E||_(m),T=m?k?_("entries"):S:void 0,O="Array"==t&&C.entries||E;if(O&&(w=u(O.call(new e)))!==Object.prototype&&w.next&&(l(w,x,!0),r||"function"==typeof w[d]||a(w,d,p)),k&&E&&"values"!==E.name&&(j=!0,S=function(){return E.call(this)}),r&&!v||!f&&!j&&C[d]||a(C,d,S),s[t]=S,s[x]=p,m)if(y={values:k?S:_("values"),keys:g?S:_("keys"),entries:T},v)for(b in y)b in C||o(C,b,y[b]);else i(i.P+i.F*(f||j),t,y);return y}},{"./_export":95,"./_hide":101,"./_iter-create":109,"./_iterators":113,"./_library":114,"./_object-gpo":122,"./_redefine":130,"./_set-to-string-tag":132,"./_wks":146}],111:[function(e,t,n){var r=e("./_wks")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},{"./_wks":146}],112:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],113:[function(e,t,n){t.exports={}},{}],114:[function(e,t,n){t.exports=!1},{}],115:[function(e,t,n){var r=e("./_global"),i=e("./_task").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==e("./_cof")(a);t.exports=function(){var e,t,n,l=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var d=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},{"./_cof":88,"./_global":99,"./_task":137}],116:[function(e,t,n){"use strict";var r=e("./_a-function");function i(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}t.exports.f=function(e){return new i(e)}},{"./_a-function":82}],117:[function(e,t,n){"use strict";var r=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie"),a=e("./_to-object"),s=e("./_iobject"),c=Object.assign;t.exports=!c||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=a(e),c=arguments.length,l=1,u=i.f,d=o.f;c>l;)for(var f,p=s(arguments[l++]),h=u?r(p).concat(u(p)):r(p),m=h.length,g=0;m>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:c},{"./_fails":96,"./_iobject":105,"./_object-gops":121,"./_object-keys":124,"./_object-pie":125,"./_to-object":142}],118:[function(e,t,n){var r=e("./_an-object"),i=e("./_object-dps"),o=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},c=function(){var t,n=e("./_dom-create")("iframe"),r=o.length;for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},{"./_an-object":85,"./_dom-create":93,"./_enum-bug-keys":94,"./_html":102,"./_object-dps":120,"./_shared-key":133}],119:[function(e,t,n){var r=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":85,"./_descriptors":92,"./_ie8-dom-define":103,"./_to-primitive":143}],120:[function(e,t,n){var r=e("./_object-dp"),i=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},{"./_an-object":85,"./_descriptors":92,"./_object-dp":119,"./_object-keys":124}],121:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],122:[function(e,t,n){var r=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":100,"./_shared-key":133,"./_to-object":142}],123:[function(e,t,n){var r=e("./_has"),i=e("./_to-iobject"),o=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},{"./_array-includes":86,"./_has":100,"./_shared-key":133,"./_to-iobject":140}],124:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":94,"./_object-keys-internal":123}],125:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],126:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],127:[function(e,t,n){var r=e("./_an-object"),i=e("./_is-object"),o=e("./_new-promise-capability");t.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},{"./_an-object":85,"./_is-object":107,"./_new-promise-capability":116}],128:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],129:[function(e,t,n){var r=e("./_redefine");t.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},{"./_redefine":130}],130:[function(e,t,n){var r=e("./_global"),i=e("./_hide"),o=e("./_has"),a=e("./_uid")("src"),s=e("./_function-to-string"),c=(""+s).split("toString");e("./_core").inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},{"./_core":89,"./_function-to-string":98,"./_global":99,"./_has":100,"./_hide":101,"./_uid":144}],131:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_object-dp"),o=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":92,"./_global":99,"./_object-dp":119,"./_wks":146}],132:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./_has":100,"./_object-dp":119,"./_wks":146}],133:[function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":134,"./_uid":144}],134:[function(e,t,n){var r=e("./_core"),i=e("./_global"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":89,"./_global":99,"./_library":114}],135:[function(e,t,n){var r=e("./_an-object"),i=e("./_a-function"),o=e("./_wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},{"./_a-function":82,"./_an-object":85,"./_wks":146}],136:[function(e,t,n){var r=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},{"./_defined":91,"./_to-integer":139}],137:[function(e,t,n){var r,i,o,a=e("./_ctx"),s=e("./_invoke"),c=e("./_html"),l=e("./_dom-create"),u=e("./_global"),d=u.process,f=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==e("./_cof")(d)?r=function(e){d.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:f,clear:p}},{"./_cof":88,"./_ctx":90,"./_dom-create":93,"./_global":99,"./_html":102,"./_invoke":104}],138:[function(e,t,n){var r=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{"./_to-integer":139}],139:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],140:[function(e,t,n){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":91,"./_iobject":105}],141:[function(e,t,n){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./_to-integer":139}],142:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":91}],143:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":107}],144:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],145:[function(e,t,n){var r=e("./_global").navigator;t.exports=r&&r.userAgent||""},{"./_global":99}],146:[function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o;(t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},{"./_global":99,"./_shared":134,"./_uid":144}],147:[function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{"./_classof":87,"./_core":89,"./_iterators":113,"./_wks":146}],148:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":83,"./_iter-define":110,"./_iter-step":112,"./_iterators":113,"./_to-iobject":140}],149:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":95,"./_object-assign":117}],150:[function(e,t,n){"use strict";var r=e("./_classof"),i={};i[e("./_wks")("toStringTag")]="z",i+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},{"./_classof":87,"./_redefine":130,"./_wks":146}],151:[function(e,t,n){"use strict";var r,i,o,a,s=e("./_library"),c=e("./_global"),l=e("./_ctx"),u=e("./_classof"),d=e("./_export"),f=e("./_is-object"),p=e("./_a-function"),h=e("./_an-instance"),m=e("./_for-of"),g=e("./_species-constructor"),v=e("./_task").set,y=e("./_microtask")(),b=e("./_new-promise-capability"),w=e("./_perform"),_=e("./_user-agent"),x=e("./_promise-resolve"),k=c.TypeError,j=c.process,C=j&&j.versions,E=C&&C.v8||"",S=c.Promise,T="process"==u(j),O=function(){},A=i=b.f,P=!!function(){try{var t=S.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(O,O)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof n&&0!==E.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&D(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?l(k("Promise-chain cycle")):(o=N(n))?o.call(n,c,l):c(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){v.call(c,function(){var t,n,r,i=e._v,o=I(e);if(o&&(t=w(function(){T?j.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=T||I(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},I=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){v.call(c,function(){var t;T?j.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=N(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,M(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};P||(S=function(e){h(this,S,"Promise","_h"),p(e),r.call(this);try{e(l(F,this,1),l(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e("./_redefine-all")(S.prototype,{then:function(e,t){var n=A(g(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?j.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(L,e,1)},b.f=A=function(e){return e===S||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!P,{Promise:S}),e("./_set-to-string-tag")(S,"Promise"),e("./_set-species")("Promise"),a=e("./_core").Promise,d(d.S+d.F*!P,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!P),"Promise",{resolve:function(e){return x(s&&this===a?S:this,e)}}),d(d.S+d.F*!(P&&e("./_iter-detect")(function(e){S.all(e).catch(O)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;m(e,!1,function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,i=w(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},{"./_a-function":82,"./_an-instance":84,"./_classof":87,"./_core":89,"./_ctx":90,"./_export":95,"./_for-of":97,"./_global":99,"./_is-object":107,"./_iter-detect":111,"./_library":114,"./_microtask":115,"./_new-promise-capability":116,"./_perform":126,"./_promise-resolve":127,"./_redefine-all":129,"./_set-species":131,"./_set-to-string-tag":132,"./_species-constructor":135,"./_task":137,"./_user-agent":145,"./_wks":146}],152:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":110,"./_string-at":136}],153:[function(e,t,n){for(var r=e("./es6.array.iterator"),i=e("./_object-keys"),o=e("./_redefine"),a=e("./_global"),s=e("./_hide"),c=e("./_iterators"),l=e("./_wks"),u=l("iterator"),d=l("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var g,v=h[m],y=p[v],b=a[v],w=b&&b.prototype;if(w&&(w[u]||s(w,u,f),w[d]||s(w,d,v),c[v]=f,y))for(g in r)w[g]||o(w,g,r[g],!0)}},{"./_global":99,"./_hide":101,"./_iterators":113,"./_object-keys":124,"./_redefine":130,"./_wks":146,"./es6.array.iterator":148}],154:[function(e,t,n){"use strict";var r=e("strict-uri-encode"),i=e("object-assign"),o=e("decode-uri-component");function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}n.extract=s,n.parse=c,n.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return a(r,t)+"="+a(i,t)}).filter(function(e){return e.length>0}).join("&"):""},n.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(s(e),t)}}},{"decode-uri-component":323,"object-assign":402,"strict-uri-encode":428}],155:[function(e,t,n){"use strict";var r=e("./raw"),i=[],o=[],a=r.makeRequestCallFromTimer(function(){if(o.length)throw o.shift()});function s(e){var t;(t=i.length?i.pop():new c).task=e,r(t)}function c(){this.task=null}t.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,i[i.length]=this}}},{"./raw":156}],156:[function(e,t,n){(function(e){"use strict";function n(e){i.length||(r(),!0),i[i.length]=e}t.exports=n;var r,i=[],o=0,a=1024;function s(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>a){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var c,l,u,d=void 0!==e?e:self,f=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof f?(c=1,l=new f(s),u=document.createTextNode(""),l.observe(u,{characterData:!0}),r=function(){c=-c,u.data=c}):r=p(s),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],157:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if((0,o.isAsync)(e))return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop(),o=e.apply(this,n);return s(o,i)};return(0,r.default)(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}if(r&&"function"==typeof r.then)return s(r,n);n(null,r)})};var r=a(e("./internal/initialParams")),i=a(e("./internal/setImmediate")),o=e("./internal/wrapAsync");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return e.then(function(e){c(t,null,e)},function(e){c(t,e&&e.message?e:new Error(e))})}function c(e,t,n){try{e(t,n)}catch(e){(0,i.default)(function(e){throw e},e)}}t.exports=n.default},{"./internal/initialParams":159,"./internal/setImmediate":162,"./internal/wrapAsync":163}],158:[function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=this.tail=null,this.length=0}var t,n,o;return t=e,(n=[{key:"removeLink",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}},{key:"empty",value:function(){for(;this.head;)this.shift();return this}},{key:"insertAfter",value:function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}},{key:"insertBefore",value:function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}},{key:"unshift",value:function(e){this.head?this.insertBefore(this.head,e):a(this,e)}},{key:"push",value:function(e){this.tail?this.insertAfter(this.tail,e):a(this,e)}},{key:"shift",value:function(){return this.head&&this.removeLink(this.head)}},{key:"pop",value:function(){return this.tail&&this.removeLink(this.tail)}},{key:"toArray",value:function(){return r(this)}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.data;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})},{key:"remove",value:function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this}}])&&i(t.prototype,n),o&&i(t,o),e}();function a(e,t){e.length=1,e.head=e.tail=t}n.default=o,t.exports=n.default},{}],159:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop();return e.call(this,n,i)}},t.exports=n.default},{}],160:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}},t.exports=n.default},{}],161:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var c;if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var l=(0,s.default)(e),u=0,d=[],f={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function p(e,t){return e?t?void(f[e]=f[e].filter(function(e){return e!==t})):f[e]=[]:Object.keys(f).forEach(function(e){return f[e]=[]})}function h(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f[e].forEach(function(e){return e.apply(void 0,n)})}var m=!1;function g(e,t,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var i,a;function s(e){if(e)return n?a(e):i();for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(r.length<=1)return i(r[0]);i(r)}_.started=!0;var c={data:e,callback:n?s:r||s};if(t?_._tasks.unshift(c):_._tasks.push(c),m||(m=!0,(0,o.default)(function(){m=!1,_.process()})),n||!r)return new Promise(function(e,t){i=e,a=t})}function v(e){return function(t){u-=1;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=e.length;o<a;o++){var s=e[o],c=d.indexOf(s);0===c?d.shift():c>0&&d.splice(c,1),s.callback.apply(s,[t].concat(r)),null!=t&&h("error",t,s.data)}u<=_.concurrency-_.buffer&&h("unsaturated"),_.idle()&&h("drain"),_.process()}}function y(e){return!(0!==e.length||!_.idle())&&((0,o.default)(function(){return h("drain")}),!0)}var b=function(e){return function(t){if(!t)return new Promise(function(t,n){var r,i;i=function(e,r){if(e)return n(e);t(r)},f[r=e].push(function e(){p(r,e),i.apply(void 0,arguments)})});p(e),function(e,t){f[e].push(t)}(e,t)}},w=!1,_=(r(c={_tasks:new a.default},Symbol.iterator,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(_._tasks[Symbol.iterator](),"t0",1);case 1:case"end":return e.stop()}},e)})),r(c,"concurrency",t),r(c,"payload",n),r(c,"buffer",t/4),r(c,"started",!1),r(c,"paused",!1),r(c,"push",function(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(function(e){return g(e,!1,!1,t)})}return g(e,!1,!1,t)}),r(c,"pushAsync",function(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(function(e){return g(e,!1,!0,t)})}return g(e,!1,!0,t)}),r(c,"kill",function(){p(),_._tasks.empty()}),r(c,"unshift",function(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(function(e){return g(e,!0,!1,t)})}return g(e,!0,!1,t)}),r(c,"unshiftAsync",function(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(function(e){return g(e,!0,!0,t)})}return g(e,!0,!0,t)}),r(c,"remove",function(e){_._tasks.remove(e)}),r(c,"process",function(){if(!w){for(w=!0;!_.paused&&u<_.concurrency&&_._tasks.length;){var e=[],t=[],n=_._tasks.length;_.payload&&(n=Math.min(n,_.payload));for(var r=0;r<n;r++){var o=_._tasks.shift();e.push(o),d.push(o),t.push(o.data)}u+=1,0===_._tasks.length&&h("empty"),u===_.concurrency&&h("saturated");var a=(0,i.default)(v(e));l(t,a)}w=!1}}),r(c,"length",function(){return _._tasks.length}),r(c,"running",function(){return u}),r(c,"workersList",function(){return d}),r(c,"idle",function(){return _._tasks.length+u===0}),r(c,"pause",function(){_.paused=!0}),r(c,"resume",function(){!1!==_.paused&&(_.paused=!1,(0,o.default)(_.process))}),c);return Object.defineProperties(_,{saturated:{writable:!1,value:b("saturated")},unsaturated:{writable:!1,value:b("unsaturated")},empty:{writable:!1,value:b("empty")},drain:{writable:!1,value:b("drain")},error:{writable:!1,value:b("error")}}),_};var i=c(e("./onlyOnce")),o=c(e("./setImmediate")),a=c(e("./DoublyLinkedList")),s=c(e("./wrapAsync"));function c(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./DoublyLinkedList":158,"./onlyOnce":160,"./setImmediate":162,"./wrapAsync":163}],162:[function(e,t,n){(function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.fallback=s,n.wrap=c;var i,o=n.hasSetImmediate="function"==typeof t&&t,a=n.hasNextTick="object"===(void 0===e?"undefined":r(e))&&"function"==typeof e.nextTick;function s(e){setTimeout(e,0)}function c(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e(function(){return t.apply(void 0,r)})}}i=o?t:a?e.nextTick:s,n.default=c(i)}).call(this,e("_process"),e("timers").setImmediate)},{_process:406,timers:429}],163:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isAsyncIterable=n.isAsyncGenerator=n.isAsync=void 0;var r,i=e("../asyncify"),o=(r=i)&&r.__esModule?r:{default:r};function a(e){return"AsyncFunction"===e[Symbol.toStringTag]}n.default=function(e){if("function"!=typeof e)throw new Error("expected a function");return a(e)?(0,o.default)(e):e},n.isAsync=a,n.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag]},n.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator]}},{"../asyncify":157}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,i.default)(e);return(0,r.default)(function(e,t){n(e[0],t)},t,1)};var r=o(e("./internal/queue")),i=o(e("./internal/wrapAsync"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default},{"./internal/queue":161,"./internal/wrapAsync":163}],165:[function(e,t,n){!function(e,r){if("function"==typeof define&&define.amd)define(["module","exports"],r);else if(void 0!==n)r(t,n);else{var i={exports:{}};r(i,i.exports),e.autosize=i.exports}}(this,function(e,t){"use strict";var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var t,n=null,r=null,a=null,s=function(){e.clientWidth!==r&&d()},c=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:c,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),d()}function l(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),i=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+n+"px",r=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),i&&(document.documentElement.scrollTop=i)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?"hidden"===n.overflowY&&(l("scroll"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(l("hidden"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==r){a=r;var i=o("autosize:resized");try{e.dispatchEvent(i)}catch(e){}}}}function s(e){var t=i.get(e);t&&t.destroy()}function c(e){var t=i.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return a(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.default=l,e.exports=t.default})},{}],166:[function(e,t,n){"use strict";function r(e,t,n,r,i){var o=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],i),r("P","c(x,y)"+e+"0",t,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},{}],167:[function(e,t,n){!function(e){"use strict";function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(c=o)|s>>>32-c,r);var s,c}function i(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function o(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function c(e,t){var r,c,l,u,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,p=-271733879,h=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)c=f,l=p,u=h,d=m,f=i(f,p,h,m,e[r],7,-680876936),m=i(m,f,p,h,e[r+1],12,-389564586),h=i(h,m,f,p,e[r+2],17,606105819),p=i(p,h,m,f,e[r+3],22,-1044525330),f=i(f,p,h,m,e[r+4],7,-176418897),m=i(m,f,p,h,e[r+5],12,1200080426),h=i(h,m,f,p,e[r+6],17,-1473231341),p=i(p,h,m,f,e[r+7],22,-45705983),f=i(f,p,h,m,e[r+8],7,1770035416),m=i(m,f,p,h,e[r+9],12,-1958414417),h=i(h,m,f,p,e[r+10],17,-42063),p=i(p,h,m,f,e[r+11],22,-1990404162),f=i(f,p,h,m,e[r+12],7,1804603682),m=i(m,f,p,h,e[r+13],12,-40341101),h=i(h,m,f,p,e[r+14],17,-1502002290),f=o(f,p=i(p,h,m,f,e[r+15],22,1236535329),h,m,e[r+1],5,-165796510),m=o(m,f,p,h,e[r+6],9,-1069501632),h=o(h,m,f,p,e[r+11],14,643717713),p=o(p,h,m,f,e[r],20,-373897302),f=o(f,p,h,m,e[r+5],5,-701558691),m=o(m,f,p,h,e[r+10],9,38016083),h=o(h,m,f,p,e[r+15],14,-660478335),p=o(p,h,m,f,e[r+4],20,-405537848),f=o(f,p,h,m,e[r+9],5,568446438),m=o(m,f,p,h,e[r+14],9,-1019803690),h=o(h,m,f,p,e[r+3],14,-187363961),p=o(p,h,m,f,e[r+8],20,1163531501),f=o(f,p,h,m,e[r+13],5,-1444681467),m=o(m,f,p,h,e[r+2],9,-51403784),h=o(h,m,f,p,e[r+7],14,1735328473),f=a(f,p=o(p,h,m,f,e[r+12],20,-1926607734),h,m,e[r+5],4,-378558),m=a(m,f,p,h,e[r+8],11,-2022574463),h=a(h,m,f,p,e[r+11],16,1839030562),p=a(p,h,m,f,e[r+14],23,-35309556),f=a(f,p,h,m,e[r+1],4,-1530992060),m=a(m,f,p,h,e[r+4],11,1272893353),h=a(h,m,f,p,e[r+7],16,-155497632),p=a(p,h,m,f,e[r+10],23,-1094730640),f=a(f,p,h,m,e[r+13],4,681279174),m=a(m,f,p,h,e[r],11,-358537222),h=a(h,m,f,p,e[r+3],16,-722521979),p=a(p,h,m,f,e[r+6],23,76029189),f=a(f,p,h,m,e[r+9],4,-640364487),m=a(m,f,p,h,e[r+12],11,-421815835),h=a(h,m,f,p,e[r+15],16,530742520),f=s(f,p=a(p,h,m,f,e[r+2],23,-995338651),h,m,e[r],6,-198630844),m=s(m,f,p,h,e[r+7],10,1126891415),h=s(h,m,f,p,e[r+14],15,-1416354905),p=s(p,h,m,f,e[r+5],21,-57434055),f=s(f,p,h,m,e[r+12],6,1700485571),m=s(m,f,p,h,e[r+3],10,-1894986606),h=s(h,m,f,p,e[r+10],15,-1051523),p=s(p,h,m,f,e[r+1],21,-2054922799),f=s(f,p,h,m,e[r+8],6,1873313359),m=s(m,f,p,h,e[r+15],10,-30611744),h=s(h,m,f,p,e[r+6],15,-1560198380),p=s(p,h,m,f,e[r+13],21,1309151649),f=s(f,p,h,m,e[r+4],6,-145523070),m=s(m,f,p,h,e[r+11],10,-1120210379),h=s(h,m,f,p,e[r+2],15,718787259),p=s(p,h,m,f,e[r+9],21,-343485551),f=n(f,c),p=n(p,l),h=n(h,u),m=n(m,d);return[f,p,h,m]}function l(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function f(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return l(c(u(e),8*e.length))}(f(e))}function h(e,t){return function(e,t){var n,r,i=u(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=c(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=c(o.concat(u(t)),512+8*t.length),l(c(a.concat(r),640))}(f(e),f(t))}function m(e,t,n){return t?n?h(t,e):d(h(t,e)):n?p(e):d(p(e))}"function"==typeof define&&define.amd?define(function(){return m}):"object"==typeof t&&t.exports?t.exports=m:e.md5=m}(this)},{}],168:[function(e,t,n){var r,i;r=this,i=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),a=c(n(3)),s=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===r(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return u("action",e)}},{key:"defaultTarget",value:function(e){var t=u("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return u("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();function u(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=l},function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=(r=a)&&r.__esModule?r:{default:r};var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=c},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var r=n(5),i=n(6);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(7);function i(e,t,n,i,o){var a=function(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,n,r,o)}))}},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}])},"object"==typeof n&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.ClipboardJS=i():r.ClipboardJS=i()},{}],169:[function(e,t,n){var r=e("color-name"),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var c=a[s].channels,l=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:c}),Object.defineProperty(a[s],"labels",{value:l})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),c=s-a;return s===a?t=0:r===s?t=(i-o)/c:i===s?t=2+(o-r)/c:o===s&&(t=4+(r-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?c/(s+a):c/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r=e[0],i=e[1],o=e[2],a=Math.min(r,i,o),s=Math.max(r,i,o),c=s-a;return n=0===s?0:c/s*1e3/10,s===a?t=0:r===s?t=(i-o)/c:i===s?t=2+(o-r)/c:o===s&&(t=4+(r-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,a,s=1/0;for(var c in r)if(r.hasOwnProperty(c)){var l=r[c],u=(o=e,a=l,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));u<s&&(s=u,n=c)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,c=e[2]/100;if(0===s)return[o=255*c,o,o];t=2*c-(n=c<.5?c*(1+s):c+s-c*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),c=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,c,a];case 1:return[s,r,a];case 2:return[a,r,c];case 3:return[a,s,r];case 4:return[c,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,c=e[0]/360,l=e[1]/100,u=e[2]/100,d=l+u;switch(d>1&&(l/=d,u/=d),r=6*c-(t=Math.floor(6*c)),0!=(1&t)&&(r=1-r),i=l+r*((n=1-u)-l),t){default:case 6:case 0:o=n,a=i,s=l;break;case 1:o=i,a=n,s=l;break;case 2:o=l,a=n,s=i;break;case 3:o=l,a=i,s=n;break;case 4:o=i,a=l,s=n;break;case 5:o=n,a=l,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,c=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},{"color-name":172}],170:[function(e,t,n){var r=e("./conversions"),i=e("./route"),o={};Object.keys(r).forEach(function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach(function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),t.exports=o},{"./conversions":169,"./route":171}],171:[function(e,t,n){var r=e("./conversions");function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var c=o[s],l=t[c];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(c))}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}t.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var c=r[s];null!==t[c].parent&&(n[c]=a(c,t))}return n}},{"./conversions":169}],172:[function(e,t,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],173:[function(e,t,n){var r=e("color-name"),i=e("simple-swizzle"),o={};for(var a in r)r.hasOwnProperty(a)&&(o[r[a]]=a);var s=t.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function l(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,n,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(t.slice(a,a+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=r[t[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=c(o[n],0,255);return o[3]=c(o[3],0,1),o},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return o[e.slice(0,3)]}},{"color-name":172,"simple-swizzle":425}],174:[function(e,t,n){"use strict";var r=e("color-string"),i=e("color-convert"),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach(function(e){s[o.call(i[e].labels).sort().join("")]=e});var c={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=r.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,u=i[this.model].channels,this.color=d.value.slice(0,u),this.valpha="number"==typeof d.value[u]?d.value[u]:1}else if(e.length){this.model=t||"rgb",u=i[this.model].channels;var p=o.call(e,0,u);this.color=f(p,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var h=Object.keys(e);"alpha"in e&&(h.splice(h.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=h.sort().join("");if(!(m in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[m];var g=i[this.model].labels,v=[];for(n=0;n<g.length;n++)v.push(e[g[n]]);this.color=f(v)}if(c[this.model])for(u=i[this.model].channels,n=0;n<u;n++){var y=c[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach(function(e){(c[e]||(c[e]=[]))[t]=n}),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function f(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:u("rgb",0,d(255)),green:u("rgb",1,d(255)),blue:u("rgb",2,d(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:u("hsl",1,d(100)),lightness:u("hsl",2,d(100)),saturationv:u("hsv",1,d(100)),value:u("hsv",2,d(100)),chroma:u("hcg",1,d(100)),gray:u("hcg",2,d(100)),white:u("hwb",1,d(100)),wblack:u("hwb",2,d(100)),cyan:u("cmyk",0,d(100)),magenta:u("cmyk",1,d(100)),yellow:u("cmyk",2,d(100)),black:u("cmyk",3,d(100)),x:u("xyz",0,d(100)),y:u("xyz",1,d(100)),z:u("xyz",2,d(100)),l:u("lab",0,d(100)),a:u("lab",1),b:u("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,c=1-s;return l.rgb(s*n.red()+c*r.red(),s*n.green()+c*r.green(),s*n.blue()+c*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach(function(e){if(-1===a.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var n,r="number"==typeof arguments[t]?t:this.valpha;return new l((n=i[this.model][e].raw(this.color),Array.isArray(n)?n:[n]).concat(r),e)},l[e]=function(n){return"number"==typeof n&&(n=f(o.call(arguments),t)),new l(n,e)}}}),t.exports=l},{"color-convert":170,"color-string":173}],175:[function(e,t,n){arguments[4][82][0].apply(n,arguments)},{dup:82}],176:[function(e,t,n){arguments[4][83][0].apply(n,arguments)},{"./_hide":208,"./_wks":275,dup:83}],177:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{"./_string-at":258}],178:[function(e,t,n){arguments[4][84][0].apply(n,arguments)},{dup:84}],179:[function(e,t,n){arguments[4][85][0].apply(n,arguments)},{"./_is-object":217,dup:85}],180:[function(e,t,n){arguments[4][86][0].apply(n,arguments)},{"./_to-absolute-index":264,"./_to-iobject":266,"./_to-length":267,dup:86}],181:[function(e,t,n){var r=e("./_ctx"),i=e("./_iobject"),o=e("./_to-object"),a=e("./_to-length"),s=e("./_array-species-create");t.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var m,g,v=o(t),y=i(v),b=r(s,h,3),w=a(y.length),_=0,x=n?p(t,w):c?p(t,0):void 0;w>_;_++)if((f||_ in y)&&(g=b(m=y[_],_,v),e))if(n)x[_]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:x.push(m)}else if(u)return!1;return d?-1:l||u?u:x}}},{"./_array-species-create":184,"./_ctx":192,"./_iobject":213,"./_to-length":267,"./_to-object":268}],182:[function(e,t,n){var r=e("./_a-function"),i=e("./_to-object"),o=e("./_iobject"),a=e("./_to-length");t.exports=function(e,t,n,s,c){r(t);var l=i(e),u=o(l),d=a(l.length),f=c?d-1:0,p=c?-1:1;if(n<2)for(;;){if(f in u){s=u[f],f+=p;break}if(f+=p,c?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;c?f>=0:d>f;f+=p)f in u&&(s=t(s,u[f],f,l));return s}},{"./_a-function":175,"./_iobject":213,"./_to-length":267,"./_to-object":268}],183:[function(e,t,n){var r=e("./_is-object"),i=e("./_is-array"),o=e("./_wks")("species");t.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":215,"./_is-object":217,"./_wks":275}],184:[function(e,t,n){var r=e("./_array-species-constructor");t.exports=function(e,t){return new(r(e))(t)}},{"./_array-species-constructor":183}],185:[function(e,t,n){"use strict";var r=e("./_a-function"),i=e("./_is-object"),o=e("./_invoke"),a=[].slice,s={};t.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},{"./_a-function":175,"./_invoke":212,"./_is-object":217}],186:[function(e,t,n){arguments[4][87][0].apply(n,arguments)},{"./_cof":187,"./_wks":275,dup:87}],187:[function(e,t,n){arguments[4][88][0].apply(n,arguments)},{dup:88}],188:[function(e,t,n){"use strict";var r=e("./_object-dp").f,i=e("./_object-create"),o=e("./_redefine-all"),a=e("./_ctx"),s=e("./_an-instance"),c=e("./_for-of"),l=e("./_iter-define"),u=e("./_iter-step"),d=e("./_set-species"),f=e("./_descriptors"),p=e("./_meta").fastKey,h=e("./_validate-collection"),m=f?"_s":"size",g=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,l){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&c(r,n,e[l],e)});return o(u.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=g(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(h(this,t),e)}}),f&&r(u.prototype,"size",{get:function(){return h(this,t)[m]}}),u},def:function(e,t,n){var r,i,o=g(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},{"./_an-instance":178,"./_ctx":192,"./_descriptors":195,"./_for-of":204,"./_iter-define":221,"./_iter-step":223,"./_meta":226,"./_object-create":230,"./_object-dp":231,"./_redefine-all":246,"./_set-species":252,"./_validate-collection":272}],189:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_export"),o=e("./_redefine"),a=e("./_redefine-all"),s=e("./_meta"),c=e("./_for-of"),l=e("./_an-instance"),u=e("./_is-object"),d=e("./_fails"),f=e("./_iter-detect"),p=e("./_set-to-string-tag"),h=e("./_inherit-if-required");t.exports=function(e,t,n,m,g,v){var y=r[e],b=y,w=g?"set":"add",_=b&&b.prototype,x={},k=function(e){var t=_[e];o(_,e,"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||_.forEach&&!d(function(){(new b).entries().next()}))){var j=new b,C=j[w](v?{}:-0,1)!=j,E=d(function(){j.has(1)}),S=f(function(e){new b(e)}),T=!v&&d(function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)});S||((b=t(function(t,n){l(t,b,e);var r=h(new y,t,b);return null!=n&&c(n,g,r[w],r),r})).prototype=_,_.constructor=b),(E||T)&&(k("delete"),k("has"),g&&k("get")),(T||C)&&k(w),v&&_.clear&&delete _.clear}else b=m.getConstructor(t,e,g,w),a(b.prototype,n),s.NEED=!0;return p(b,e),x[e]=b,i(i.G+i.W+i.F*(b!=y),x),v||m.setStrong(b,e,g),b}},{"./_an-instance":178,"./_export":199,"./_fails":201,"./_for-of":204,"./_global":206,"./_inherit-if-required":211,"./_is-object":217,"./_iter-detect":222,"./_meta":226,"./_redefine":247,"./_redefine-all":246,"./_set-to-string-tag":253}],190:[function(e,t,n){var r=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},{}],191:[function(e,t,n){"use strict";var r=e("./_object-dp"),i=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},{"./_object-dp":231,"./_property-desc":245}],192:[function(e,t,n){arguments[4][90][0].apply(n,arguments)},{"./_a-function":175,dup:90}],193:[function(e,t,n){"use strict";var r=e("./_fails"),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},{"./_fails":201}],194:[function(e,t,n){arguments[4][91][0].apply(n,arguments)},{dup:91}],195:[function(e,t,n){arguments[4][92][0].apply(n,arguments)},{"./_fails":201,dup:92}],196:[function(e,t,n){arguments[4][93][0].apply(n,arguments)},{"./_global":206,"./_is-object":217,dup:93}],197:[function(e,t,n){arguments[4][94][0].apply(n,arguments)},{dup:94}],198:[function(e,t,n){var r=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie");t.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},{"./_object-gops":236,"./_object-keys":239,"./_object-pie":240}],199:[function(e,t,n){arguments[4][95][0].apply(n,arguments)},{"./_core":190,"./_ctx":192,"./_global":206,"./_hide":208,"./_redefine":247,dup:95}],200:[function(e,t,n){var r=e("./_wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},{"./_wks":275}],201:[function(e,t,n){arguments[4][96][0].apply(n,arguments)},{dup:96}],202:[function(e,t,n){"use strict";e("./es6.regexp.exec");var r=e("./_redefine"),i=e("./_hide"),o=e("./_fails"),a=e("./_defined"),s=e("./_wks"),c=e("./_regexp-exec"),l=s("species"),u=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(e,t,n){var f=s(e),p=!o(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),h=p?!o(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!t}):void 0;if(!p||!h||"replace"===e&&!u||"split"===e&&!d){var m=/./[f],g=n(a,f,""[e],function(e,t,n,r,i){return t.exec===c?p&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),v=g[0],y=g[1];r(String.prototype,e,v),i(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},{"./_defined":194,"./_fails":201,"./_hide":208,"./_redefine":247,"./_regexp-exec":249,"./_wks":275,"./es6.regexp.exec":302}],203:[function(e,t,n){"use strict";var r=e("./_an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":179}],204:[function(e,t,n){arguments[4][97][0].apply(n,arguments)},{"./_an-object":179,"./_ctx":192,"./_is-array-iter":214,"./_iter-call":219,"./_to-length":267,"./core.get-iterator-method":276,dup:97}],205:[function(e,t,n){arguments[4][98][0].apply(n,arguments)},{"./_shared":255,dup:98}],206:[function(e,t,n){arguments[4][99][0].apply(n,arguments)},{dup:99}],207:[function(e,t,n){arguments[4][100][0].apply(n,arguments)},{dup:100}],208:[function(e,t,n){arguments[4][101][0].apply(n,arguments)},{"./_descriptors":195,"./_object-dp":231,"./_property-desc":245,dup:101}],209:[function(e,t,n){arguments[4][102][0].apply(n,arguments)},{"./_global":206,dup:102}],210:[function(e,t,n){arguments[4][103][0].apply(n,arguments)},{"./_descriptors":195,"./_dom-create":196,"./_fails":201,dup:103}],211:[function(e,t,n){var r=e("./_is-object"),i=e("./_set-proto").set;t.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},{"./_is-object":217,"./_set-proto":251}],212:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{dup:104}],213:[function(e,t,n){arguments[4][105][0].apply(n,arguments)},{"./_cof":187,dup:105}],214:[function(e,t,n){arguments[4][106][0].apply(n,arguments)},{"./_iterators":224,"./_wks":275,dup:106}],215:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":187}],216:[function(e,t,n){var r=e("./_is-object"),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{"./_is-object":217}],217:[function(e,t,n){arguments[4][107][0].apply(n,arguments)},{dup:107}],218:[function(e,t,n){var r=e("./_is-object"),i=e("./_cof"),o=e("./_wks")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{"./_cof":187,"./_is-object":217,"./_wks":275}],219:[function(e,t,n){arguments[4][108][0].apply(n,arguments)},{"./_an-object":179,dup:108}],220:[function(e,t,n){arguments[4][109][0].apply(n,arguments)},{"./_hide":208,"./_object-create":230,"./_property-desc":245,"./_set-to-string-tag":253,"./_wks":275,dup:109}],221:[function(e,t,n){arguments[4][110][0].apply(n,arguments)},{"./_export":199,"./_hide":208,"./_iter-create":220,"./_iterators":224,"./_library":225,"./_object-gpo":237,"./_redefine":247,"./_set-to-string-tag":253,"./_wks":275,dup:110}],222:[function(e,t,n){arguments[4][111][0].apply(n,arguments)},{"./_wks":275,dup:111}],223:[function(e,t,n){arguments[4][112][0].apply(n,arguments)},{dup:112}],224:[function(e,t,n){arguments[4][113][0].apply(n,arguments)},{dup:113}],225:[function(e,t,n){arguments[4][114][0].apply(n,arguments)},{dup:114}],226:[function(e,t,n){var r=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),a=e("./_object-dp").f,s=0,c=Object.isExtensible||function(){return!0},l=!e("./_fails")(function(){return c(Object.preventExtensions({}))}),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!o(e,r)&&u(e),e}}},{"./_fails":201,"./_has":207,"./_is-object":217,"./_object-dp":231,"./_uid":270}],227:[function(e,t,n){arguments[4][115][0].apply(n,arguments)},{"./_cof":187,"./_global":206,"./_task":263,dup:115}],228:[function(e,t,n){arguments[4][116][0].apply(n,arguments)},{"./_a-function":175,dup:116}],229:[function(e,t,n){"use strict";var r=e("./_descriptors"),i=e("./_object-keys"),o=e("./_object-gops"),a=e("./_object-pie"),s=e("./_to-object"),c=e("./_iobject"),l=Object.assign;t.exports=!l||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=o.f,f=a.f;l>u;)for(var p,h=c(arguments[u++]),m=d?i(h).concat(d(h)):i(h),g=m.length,v=0;g>v;)p=m[v++],r&&!f.call(h,p)||(n[p]=h[p]);return n}:l},{"./_descriptors":195,"./_fails":201,"./_iobject":213,"./_object-gops":236,"./_object-keys":239,"./_object-pie":240,"./_to-object":268}],230:[function(e,t,n){arguments[4][118][0].apply(n,arguments)},{"./_an-object":179,"./_dom-create":196,"./_enum-bug-keys":197,"./_html":209,"./_object-dps":232,"./_shared-key":254,dup:118}],231:[function(e,t,n){arguments[4][119][0].apply(n,arguments)},{"./_an-object":179,"./_descriptors":195,"./_ie8-dom-define":210,"./_to-primitive":269,dup:119}],232:[function(e,t,n){arguments[4][120][0].apply(n,arguments)},{"./_an-object":179,"./_descriptors":195,"./_object-dp":231,"./_object-keys":239,dup:120}],233:[function(e,t,n){var r=e("./_object-pie"),i=e("./_property-desc"),o=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),c=e("./_ie8-dom-define"),l=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},{"./_descriptors":195,"./_has":207,"./_ie8-dom-define":210,"./_object-pie":240,"./_property-desc":245,"./_to-iobject":266,"./_to-primitive":269}],234:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},{"./_object-gopn":235,"./_to-iobject":266}],235:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{"./_enum-bug-keys":197,"./_object-keys-internal":238}],236:[function(e,t,n){arguments[4][121][0].apply(n,arguments)},{dup:121}],237:[function(e,t,n){arguments[4][122][0].apply(n,arguments)},{"./_has":207,"./_shared-key":254,"./_to-object":268,dup:122}],238:[function(e,t,n){arguments[4][123][0].apply(n,arguments)},{"./_array-includes":180,"./_has":207,"./_shared-key":254,"./_to-iobject":266,dup:123}],239:[function(e,t,n){arguments[4][124][0].apply(n,arguments)},{"./_enum-bug-keys":197,"./_object-keys-internal":238,dup:124}],240:[function(e,t,n){arguments[4][125][0].apply(n,arguments)},{dup:125}],241:[function(e,t,n){var r=e("./_export"),i=e("./_core"),o=e("./_fails");t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},{"./_core":190,"./_export":199,"./_fails":201}],242:[function(e,t,n){var r=e("./_descriptors"),i=e("./_object-keys"),o=e("./_to-iobject"),a=e("./_object-pie").f;t.exports=function(e){return function(t){for(var n,s=o(t),c=i(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},{"./_descriptors":195,"./_object-keys":239,"./_object-pie":240,"./_to-iobject":266}],243:[function(e,t,n){arguments[4][126][0].apply(n,arguments)},{dup:126}],244:[function(e,t,n){arguments[4][127][0].apply(n,arguments)},{"./_an-object":179,"./_is-object":217,"./_new-promise-capability":228,dup:127}],245:[function(e,t,n){arguments[4][128][0].apply(n,arguments)},{dup:128}],246:[function(e,t,n){arguments[4][129][0].apply(n,arguments)},{"./_redefine":247,dup:129}],247:[function(e,t,n){arguments[4][130][0].apply(n,arguments)},{"./_core":190,"./_function-to-string":205,"./_global":206,"./_has":207,"./_hide":208,"./_uid":270,dup:130}],248:[function(e,t,n){"use strict";var r=e("./_classof"),i=RegExp.prototype.exec;t.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{"./_classof":186}],249:[function(e,t,n){"use strict";var r,i,o=e("./_flags"),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,n,r,i,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),l&&(t=c.lastIndex),r=a.call(c,e),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=c},{"./_flags":203}],250:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],251:[function(e,t,n){var r=e("./_is-object"),i=e("./_an-object"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},{"./_an-object":179,"./_ctx":192,"./_is-object":217,"./_object-gopd":233}],252:[function(e,t,n){arguments[4][131][0].apply(n,arguments)},{"./_descriptors":195,"./_global":206,"./_object-dp":231,"./_wks":275,dup:131}],253:[function(e,t,n){arguments[4][132][0].apply(n,arguments)},{"./_has":207,"./_object-dp":231,"./_wks":275,dup:132}],254:[function(e,t,n){arguments[4][133][0].apply(n,arguments)},{"./_shared":255,"./_uid":270,dup:133}],255:[function(e,t,n){arguments[4][134][0].apply(n,arguments)},{"./_core":190,"./_global":206,"./_library":225,dup:134}],256:[function(e,t,n){arguments[4][135][0].apply(n,arguments)},{"./_a-function":175,"./_an-object":179,"./_wks":275,dup:135}],257:[function(e,t,n){"use strict";var r=e("./_fails");t.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":201}],258:[function(e,t,n){arguments[4][136][0].apply(n,arguments)},{"./_defined":194,"./_to-integer":265,dup:136}],259:[function(e,t,n){var r=e("./_is-regexp"),i=e("./_defined");t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{"./_defined":194,"./_is-regexp":218}],260:[function(e,t,n){var r=e("./_export"),i=e("./_fails"),o=e("./_defined"),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};t.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},{"./_defined":194,"./_export":199,"./_fails":201}],261:[function(e,t,n){var r=e("./_export"),i=e("./_defined"),o=e("./_fails"),a=e("./_string-ws"),s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=o(function(){return!!a[e]()||"​"!="​"[e]()}),c=i[e]=s?t(d):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},d=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};t.exports=u},{"./_defined":194,"./_export":199,"./_fails":201,"./_string-ws":262}],262:[function(e,t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],263:[function(e,t,n){arguments[4][137][0].apply(n,arguments)},{"./_cof":187,"./_ctx":192,"./_dom-create":196,"./_global":206,"./_html":209,"./_invoke":212,dup:137}],264:[function(e,t,n){arguments[4][138][0].apply(n,arguments)},{"./_to-integer":265,dup:138}],265:[function(e,t,n){arguments[4][139][0].apply(n,arguments)},{dup:139}],266:[function(e,t,n){arguments[4][140][0].apply(n,arguments)},{"./_defined":194,"./_iobject":213,dup:140}],267:[function(e,t,n){arguments[4][141][0].apply(n,arguments)},{"./_to-integer":265,dup:141}],268:[function(e,t,n){arguments[4][142][0].apply(n,arguments)},{"./_defined":194,dup:142}],269:[function(e,t,n){arguments[4][143][0].apply(n,arguments)},{"./_is-object":217,dup:143}],270:[function(e,t,n){arguments[4][144][0].apply(n,arguments)},{dup:144}],271:[function(e,t,n){arguments[4][145][0].apply(n,arguments)},{"./_global":206,dup:145}],272:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":217}],273:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":190,"./_global":206,"./_library":225,"./_object-dp":231,"./_wks-ext":274}],274:[function(e,t,n){n.f=e("./_wks")},{"./_wks":275}],275:[function(e,t,n){arguments[4][146][0].apply(n,arguments)},{"./_global":206,"./_shared":255,"./_uid":270,dup:146}],276:[function(e,t,n){arguments[4][147][0].apply(n,arguments)},{"./_classof":186,"./_core":190,"./_iterators":224,"./_wks":275,dup:147}],277:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(2);r(r.P+r.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},{"./_array-methods":181,"./_export":199,"./_strict-method":257}],278:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(o)},{"./_add-to-unscopables":176,"./_array-methods":181,"./_export":199}],279:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("find")},{"./_add-to-unscopables":176,"./_array-methods":181,"./_export":199}],280:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(0),o=e("./_strict-method")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},{"./_array-methods":181,"./_export":199,"./_strict-method":257}],281:[function(e,t,n){"use strict";var r=e("./_ctx"),i=e("./_export"),o=e("./_to-object"),a=e("./_iter-call"),s=e("./_is-array-iter"),c=e("./_to-length"),l=e("./_create-property"),u=e("./core.get-iterator-method");i(i.S+i.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,f=o(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(f);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(t=c(f.length));t>v;v++)l(n,v,g?m(f[v],v):f[v]);else for(d=y.call(f),n=new p;!(i=d.next()).done;v++)l(n,v,g?a(d,m,[i.value,v],!0):i.value);return n.length=v,n}})},{"./_create-property":191,"./_ctx":192,"./_export":199,"./_is-array-iter":214,"./_iter-call":219,"./_iter-detect":222,"./_to-length":267,"./_to-object":268,"./core.get-iterator-method":276}],282:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-includes")(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!e("./_strict-method")(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},{"./_array-includes":180,"./_export":199,"./_strict-method":257}],283:[function(e,t,n){var r=e("./_export");r(r.S,"Array",{isArray:e("./_is-array")})},{"./_export":199,"./_is-array":215}],284:[function(e,t,n){arguments[4][148][0].apply(n,arguments)},{"./_add-to-unscopables":176,"./_iter-define":221,"./_iter-step":223,"./_iterators":224,"./_to-iobject":266,dup:148}],285:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(1);r(r.P+r.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},{"./_array-methods":181,"./_export":199,"./_strict-method":257}],286:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-reduce");r(r.P+r.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},{"./_array-reduce":182,"./_export":199,"./_strict-method":257}],287:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_a-function"),o=e("./_to-object"),a=e("./_fails"),s=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!e("./_strict-method")(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},{"./_a-function":175,"./_export":199,"./_fails":201,"./_strict-method":257,"./_to-object":268}],288:[function(e,t,n){var r=e("./_export");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":199}],289:[function(e,t,n){var r=e("./_export"),i=e("./_date-to-iso-string");r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},{"./_date-to-iso-string":193,"./_export":199}],290:[function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&e("./_redefine")(r,"toString",function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"})},{"./_redefine":247}],291:[function(e,t,n){var r=e("./_export");r(r.P,"Function",{bind:e("./_bind")})},{"./_bind":185,"./_export":199}],292:[function(e,t,n){var r=e("./_object-dp").f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||e("./_descriptors")&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},{"./_descriptors":195,"./_object-dp":231}],293:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_has"),o=e("./_cof"),a=e("./_inherit-if-required"),s=e("./_to-primitive"),c=e("./_fails"),l=e("./_object-gopn").f,u=e("./_object-gopd").f,d=e("./_object-dp").f,f=e("./_string-trim").trim,p=r.Number,h=p,m=p.prototype,g="Number"==o(e("./_object-create")(m)),v="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=v?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,c=t.slice(2),l=0,u=c.length;l<u;l++)if((a=c.charCodeAt(l))<48||a>i)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(g?c(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new h(y(t)),n,p):y(t)};for(var b,w=e("./_descriptors")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;w.length>_;_++)i(h,b=w[_])&&!i(p,b)&&d(p,b,u(h,b));p.prototype=m,m.constructor=p,e("./_redefine")(r,"Number",p)}},{"./_cof":187,"./_descriptors":195,"./_fails":201,"./_global":206,"./_has":207,"./_inherit-if-required":211,"./_object-create":230,"./_object-dp":231,"./_object-gopd":233,"./_object-gopn":235,"./_redefine":247,"./_string-trim":261,"./_to-primitive":269}],294:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":199,"./_is-integer":216}],295:[function(e,t,n){arguments[4][149][0].apply(n,arguments)},{"./_export":199,"./_object-assign":229,dup:149}],296:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":199,"./_object-create":230}],297:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":195,"./_export":199,"./_object-dp":231}],298:[function(e,t,n){var r=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(r(e))}})},{"./_object-keys":239,"./_object-sap":241,"./_to-object":268}],299:[function(e,t,n){arguments[4][150][0].apply(n,arguments)},{"./_classof":186,"./_redefine":247,"./_wks":275,dup:150}],300:[function(e,t,n){arguments[4][151][0].apply(n,arguments)},{"./_a-function":175,"./_an-instance":178,"./_classof":186,"./_core":190,"./_ctx":192,"./_export":199,"./_for-of":204,"./_global":206,"./_is-object":217,"./_iter-detect":222,"./_library":225,"./_microtask":227,"./_new-promise-capability":228,"./_perform":243,"./_promise-resolve":244,"./_redefine-all":246,"./_set-species":252,"./_set-to-string-tag":253,"./_species-constructor":256,"./_task":263,"./_user-agent":271,"./_wks":275,dup:151}],301:[function(e,t,n){var r=e("./_global"),i=e("./_inherit-if-required"),o=e("./_object-dp").f,a=e("./_object-gopn").f,s=e("./_is-regexp"),c=e("./_flags"),l=r.RegExp,u=l,d=l.prototype,f=/a/g,p=/a/g,h=new l(f)!==f;if(e("./_descriptors")&&(!h||e("./_fails")(function(){return p[e("./_wks")("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(e,t){var n=this instanceof l,r=s(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:i(h?new u(r&&!o?e.source:e,t):u((r=e instanceof l)?e.source:e,r&&o?c.call(e):t),n?this:d,l)};for(var m=function(e){e in l||o(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},g=a(u),v=0;g.length>v;)m(g[v++]);d.constructor=l,l.prototype=d,e("./_redefine")(r,"RegExp",l)}e("./_set-species")("RegExp")},{"./_descriptors":195,"./_fails":201,"./_flags":203,"./_global":206,"./_inherit-if-required":211,"./_is-regexp":218,"./_object-dp":231,"./_object-gopn":235,"./_redefine":247,"./_set-species":252,"./_wks":275}],302:[function(e,t,n){"use strict";var r=e("./_regexp-exec");e("./_export")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},{"./_export":199,"./_regexp-exec":249}],303:[function(e,t,n){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":195,"./_flags":203,"./_object-dp":231}],304:[function(e,t,n){"use strict";var r=e("./_an-object"),i=e("./_to-length"),o=e("./_advance-string-index"),a=e("./_regexp-exec-abstract");e("./_fix-re-wks")("match",1,function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var d,f=[],p=0;null!==(d=a(c,l));){var h=String(d[0]);f[p]=h,""===h&&(c.lastIndex=o(l,i(c.lastIndex),u)),p++}return 0===p?null:f}]})},{"./_advance-string-index":177,"./_an-object":179,"./_fix-re-wks":202,"./_regexp-exec-abstract":248,"./_to-length":267}],305:[function(e,t,n){"use strict";var r=e("./_an-object"),i=e("./_to-object"),o=e("./_to-length"),a=e("./_to-integer"),s=e("./_advance-string-index"),c=e("./_regexp-exec-abstract"),l=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;e("./_fix-re-wks")("replace",2,function(e,t,n,h){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=h(n,e,this,t);if(i.done)return i.value;var d=r(e),f=String(this),p="function"==typeof t;p||(t=String(t));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}for(var y=[];;){var b=c(d,f);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(d.lastIndex=s(f,o(d.lastIndex),v))}for(var w,_="",x=0,k=0;k<y.length;k++){b=y[k];for(var j=String(b[0]),C=l(u(a(b.index),f.length),0),E=[],S=1;S<b.length;S++)E.push(void 0===(w=b[S])?w:String(w));var T=b.groups;if(p){var O=[j].concat(E,C,f);void 0!==T&&O.push(T);var A=String(t.apply(void 0,O))}else A=m(j,f,C,E,T,t);C>=x&&(_+=f.slice(x,C)+A,x=C+j.length)}return _+f.slice(x)}];function m(e,t,r,o,a,s){var c=r+e.length,l=o.length,u=p;return void 0!==a&&(a=i(a),u=f),n.call(s,u,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var f=d(u/10);return 0===f?n:f<=l?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s})}})},{"./_advance-string-index":177,"./_an-object":179,"./_fix-re-wks":202,"./_regexp-exec-abstract":248,"./_to-integer":265,"./_to-length":267,"./_to-object":268}],306:[function(e,t,n){"use strict";var r=e("./_an-object"),i=e("./_same-value"),o=e("./_regexp-exec-abstract");e("./_fix-re-wks")("search",1,function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var u=o(s,c);return i(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]})},{"./_an-object":179,"./_fix-re-wks":202,"./_regexp-exec-abstract":248,"./_same-value":250}],307:[function(e,t,n){"use strict";var r=e("./_is-regexp"),i=e("./_an-object"),o=e("./_species-constructor"),a=e("./_advance-string-index"),s=e("./_to-length"),c=e("./_regexp-exec-abstract"),l=e("./_regexp-exec"),u=e("./_fails"),d=Math.min,f=[].push,p=!u(function(){RegExp(4294967295,"y")});e("./_fix-re-wks")("split",2,function(e,t,n,u){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,u+"g");(o=l.call(h,i))&&!((a=h.lastIndex)>d&&(c.push(i.slice(d,o.index)),o.length>1&&o.index<i.length&&f.apply(c,o.slice(1)),s=o[0].length,d=a,c.length>=p));)h.lastIndex===o.index&&h.lastIndex++;return d===i.length?!s&&h.test("")||c.push(""):c.push(i.slice(d)),c.length>p?c.slice(0,p):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):h.call(String(i),n,r)},function(e,t){var r=u(h,e,this,t,h!==n);if(r.done)return r.value;var l=i(e),f=String(this),m=o(l,RegExp),g=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),y=new m(p?l:"^(?:"+l.source+")",v),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===f.length)return null===c(y,f)?[f]:[];for(var w=0,_=0,x=[];_<f.length;){y.lastIndex=p?_:0;var k,j=c(y,p?f:f.slice(_));if(null===j||(k=d(s(y.lastIndex+(p?0:_)),f.length))===w)_=a(f,_,g);else{if(x.push(f.slice(w,_)),x.length===b)return x;for(var C=1;C<=j.length-1;C++)if(x.push(j[C]),x.length===b)return x;_=w=k}}return x.push(f.slice(w)),x}]})},{"./_advance-string-index":177,"./_an-object":179,"./_fails":201,"./_fix-re-wks":202,"./_is-regexp":218,"./_regexp-exec":249,"./_regexp-exec-abstract":248,"./_species-constructor":256,"./_to-length":267}],308:[function(e,t,n){"use strict";e("./es6.regexp.flags");var r=e("./_an-object"),i=e("./_flags"),o=e("./_descriptors"),a=/./.toString,s=function(t){e("./_redefine")(RegExp.prototype,"toString",t,!0)};e("./_fails")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},{"./_an-object":179,"./_descriptors":195,"./_fails":201,"./_flags":203,"./_redefine":247,"./es6.regexp.flags":303}],309:[function(e,t,n){"use strict";var r=e("./_collection-strong"),i=e("./_validate-collection");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},{"./_collection":189,"./_collection-strong":188,"./_validate-collection":272}],310:[function(e,t,n){"use strict";e("./_string-html")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{"./_string-html":260}],311:[function(e,t,n){"use strict";e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})},{"./_string-html":260}],312:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_string-context");r(r.P+r.F*e("./_fails-is-regexp")("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./_export":199,"./_fails-is-regexp":200,"./_string-context":259}],313:[function(e,t,n){arguments[4][152][0].apply(n,arguments)},{"./_iter-define":221,"./_string-at":258,dup:152}],314:[function(e,t,n){"use strict";e("./_string-html")("link",function(e){return function(t){return e(this,"a","href",t)}})},{"./_string-html":260}],315:[function(e,t,n){"use strict";e("./_string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./_string-trim":261}],316:[function(e,t,n){"use strict";var r=e("./_global"),i=e("./_has"),o=e("./_descriptors"),a=e("./_export"),s=e("./_redefine"),c=e("./_meta").KEY,l=e("./_fails"),u=e("./_shared"),d=e("./_set-to-string-tag"),f=e("./_uid"),p=e("./_wks"),h=e("./_wks-ext"),m=e("./_wks-define"),g=e("./_enum-keys"),v=e("./_is-array"),y=e("./_an-object"),b=e("./_is-object"),w=e("./_to-object"),_=e("./_to-iobject"),x=e("./_to-primitive"),k=e("./_property-desc"),j=e("./_object-create"),C=e("./_object-gopn-ext"),E=e("./_object-gopd"),S=e("./_object-gops"),T=e("./_object-dp"),O=e("./_object-keys"),A=E.f,P=T.f,N=C.f,M=r.Symbol,R=r.JSON,I=R&&R.stringify,D=p("_hidden"),L=p("toPrimitive"),F={}.propertyIsEnumerable,z=u("symbol-registry"),Y=u("symbols"),B=u("op-symbols"),H=Object.prototype,X="function"==typeof M&&!!S.f,q=r.QObject,U=!q||!q.prototype||!q.prototype.findChild,W=o&&l(function(){return 7!=j(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=A(H,t);r&&delete H[t],P(e,t,n),r&&e!==H&&P(H,t,r)}:P,V=function(e){var t=Y[e]=j(M.prototype);return t._k=e,t},$=X&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},G=function(e,t,n){return e===H&&G(B,t,n),y(e),t=x(t,!0),y(n),i(Y,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=j(n,{enumerable:k(0,!1)})):(i(e,D)||P(e,D,k(1,{})),e[D][t]=!0),W(e,t,n)):P(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=_(t)),i=0,o=r.length;o>i;)G(e,n=r[i++],t[n]);return e},J=function(e){var t=F.call(this,e=x(e,!0));return!(this===H&&i(Y,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(Y,e)||i(this,D)&&this[D][e])||t)},Q=function(e,t){if(e=_(e),t=x(t,!0),e!==H||!i(Y,t)||i(B,t)){var n=A(e,t);return!n||!i(Y,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=N(_(e)),r=[],o=0;n.length>o;)i(Y,t=n[o++])||t==D||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=N(n?B:_(e)),o=[],a=0;r.length>a;)!i(Y,t=r[a++])||n&&!i(H,t)||o.push(Y[t]);return o};X||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(B,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),W(this,e,k(1,n))};return o&&U&&W(H,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),E.f=Q,T.f=G,e("./_object-gopn").f=C.f=Z,e("./_object-pie").f=J,S.f=ee,o&&!e("./_library")&&s(H,"propertyIsEnumerable",J,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!X,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=O(p.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!X,"Symbol",{for:function(e){return i(z,e+="")?z[e]:z[e]=M(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!X,"Object",{create:function(e,t){return void 0===t?j(e):K(j(e),t)},defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var oe=l(function(){S.f(1)});a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return S.f(w(e))}}),R&&a(a.S+a.F*(!X||l(function(){var e=M();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!$(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,I.apply(R,r)}}),M.prototype[L]||e("./_hide")(M.prototype,L,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},{"./_an-object":179,"./_descriptors":195,"./_enum-keys":198,"./_export":199,"./_fails":201,"./_global":206,"./_has":207,"./_hide":208,"./_is-array":215,"./_is-object":217,"./_library":225,"./_meta":226,"./_object-create":230,"./_object-dp":231,"./_object-gopd":233,"./_object-gopn":235,"./_object-gopn-ext":234,"./_object-gops":236,"./_object-keys":239,"./_object-pie":240,"./_property-desc":245,"./_redefine":247,"./_set-to-string-tag":253,"./_shared":255,"./_to-iobject":266,"./_to-object":268,"./_to-primitive":269,"./_uid":270,"./_wks":275,"./_wks-define":273,"./_wks-ext":274}],317:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-includes")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":176,"./_array-includes":180,"./_export":199}],318:[function(e,t,n){var r=e("./_export"),i=e("./_object-to-array")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{"./_export":199,"./_object-to-array":242}],319:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_core"),o=e("./_global"),a=e("./_species-constructor"),s=e("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},{"./_core":190,"./_export":199,"./_global":206,"./_promise-resolve":244,"./_species-constructor":256}],320:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":273}],321:[function(e,t,n){arguments[4][153][0].apply(n,arguments)},{"./_global":206,"./_hide":208,"./_iterators":224,"./_object-keys":239,"./_redefine":247,"./_wks":275,"./es6.array.iterator":284,dup:153}],322:[function(e,t,n){"use strict";var r,i;r="undefined"!=typeof window?window:this,i=function(){if("undefined"==typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};function n(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function r(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function i(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})}var o=function(e,a){function s(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}function c(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new s,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var o={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},a={position:"absolute",left:"0px",top:"0px",transition:"0s"};i(e.resizeSensor,o);var c=document.createElement("div");c.className="resize-sensor-expand",i(c,o);var l=document.createElement("div");i(l,a),c.appendChild(l);var u=document.createElement("div");u.className="resize-sensor-shrink",i(u,o);var d=document.createElement("div");i(d,a),i(d,{width:"200%",height:"200%"}),u.appendChild(d),e.resizeSensor.appendChild(c),e.resizeSensor.appendChild(u),e.appendChild(e.resizeSensor);var f,p,h=window.getComputedStyle(e),m=h?h.getPropertyValue("position"):null;"absolute"!==m&&"relative"!==m&&"fixed"!==m&&(e.style.position="relative");var g=r(e),v=0,y=0,b=!0,w=0,_=function(){if(b){if(0===e.offsetWidth&&0===e.offsetHeight)return void(w||(w=t(function(){w=0,_()})));b=!1}var n,r;n=e.offsetWidth,r=e.offsetHeight,l.style.width=n+10+"px",l.style.height=r+10+"px",c.scrollLeft=n+10,c.scrollTop=r+10,u.scrollLeft=n+10,u.scrollTop=r+10};e.resizeSensor.resetSensor=_;var x=function(){p=0,f&&(v=g.width,y=g.height,e.resizedAttached&&e.resizedAttached.call(g))},k=function(){g=r(e),(f=g.width!==v||g.height!==y)&&!p&&(p=t(x)),_()},j=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};j(c,"scroll",k),j(u,"scroll",k),t(_)}}n(e,function(e){c(e,a)}),this.detach=function(t){o.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(o.reset=function(e){n(e,function(e){e.resizeSensor.resetSensor()})},o.detach=function(e,t){n(e,function(e){e&&(e.resizedAttached&&"function"==typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))})},"undefined"!=typeof MutationObserver){var a=new MutationObserver(function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,r=0;r<n.length;r++)n[r].resizeSensor&&o.reset(n[r])});document.addEventListener("DOMContentLoaded",function(e){a.observe(document.body,{childList:!0,subtree:!0})})}return o},"function"==typeof define&&define.amd?define(i):"object"==typeof n?t.exports=i():r.ResizeSensor=i()},{}],323:[function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}t.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var c=o[s];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},{}],324:[function(e,t,n){"use strict";var r=e("object-keys"),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,c=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,t,n,r){var i;t in e&&("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())||(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)l(e,o[s],t[o[s]],n[o[s]])};u.supportsDescriptors=!!c,t.exports=u},{"object-keys":326}],325:[function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=e("./isArguments"),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=l&&n;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)f.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var v in e)h&&"prototype"===v||!i.call(e,v)||f.push(String(v));if(c)for(var y=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),b=0;b<u.length;++b)y&&"constructor"===u[b]||!i.call(e,u[b])||f.push(u[b]);return f}}t.exports=r},{"./isArguments":327}],326:[function(e,t,n){"use strict";var r=Array.prototype.slice,i=e("./isArguments"),o=Object.keys,a=o?function(e){return o(e)}:e("./implementation"),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=a;return Object.keys||a},t.exports=a},{"./implementation":325,"./isArguments":327}],327:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},{}],328:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(){return function(e,t,n){this.name=e,this.version=t,this.os=n}}();n.BrowserInfo=t;var r=function(){return function(t){this.version=t,this.name="node",this.os=e.platform}}();n.NodeInfo=r;var i=function(){return function(){this.bot=!0,this.name="bot",this.version=null,this.os=null}}();n.BotInfo=i;var o=3,a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],s=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function c(e){var n=""!==e&&a.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1);if(!n)return null;var r=n[0],s=n[1];if("searchbot"===r)return new i;var c=s[1]&&s[1].split(/[._]/).slice(0,3);return c?c.length<o&&(c=c.concat(function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(o-c.length))):c=[],new t(r,c.join("."),l(e))}function l(e){for(var t=0,n=s.length;t<n;t++){var r=s[t],i=r[0];if(r[1].test(e))return i}return null}function u(){return void 0!==e&&e.version?new r(e.version.slice(1)):null}n.detect=function(e){return e?c(e):"undefined"!=typeof navigator?c(navigator.userAgent):u()},n.parseUserAgent=c,n.detectOS=l,n.getNodeVersion=u}).call(this,e("_process"))},{_process:406}],329:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r,i=e instanceof Error?e:new Error(e);if("object"==typeof t?n=t:null!=t&&(i.code=t),n)for(r in n)i[r]=n[r];return i}},{}],330:[function(e,t,n){"use strict";var r=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=Object.getPrototypeOf||function(e){return e.__proto__},a=void 0,s="undefined"==typeof Uint8Array?void 0:o(Uint8Array),c={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":i?o([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":a&&i&&Symbol.asyncIterator?a[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":i?o(o([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&i?o((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&i?o((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":i?o(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":i?Symbol:void 0,"$ %SymbolPrototype%":i?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":r,"$ %TypedArray%":s,"$ %TypedArrayPrototype%":s?s.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};t.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in c))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===c[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return c[n]}},{}],331:[function(e,t,n){"use strict";var r=e("has"),i=e("es-to-primitive/es6"),o=e("object-keys"),a=e("./GetIntrinsic"),s=a("%TypeError%"),c=a("%SyntaxError%"),l=a("%Array%"),u=a("%String%"),d=a("%Object%"),f=a("%Number%"),p=a("%Symbol%",!0),h=a("%RegExp%"),m=!!p,g=e("./helpers/assertRecord"),v=e("./helpers/isNaN"),y=e("./helpers/isFinite"),b=f.MAX_SAFE_INTEGER||Math.pow(2,53)-1,w=e("./helpers/assign"),_=e("./helpers/sign"),x=e("./helpers/mod"),k=e("./helpers/isPrimitive"),j=parseInt,C=e("function-bind"),E=C.call(Function.call,l.prototype.slice),S=C.call(Function.call,u.prototype.slice),T=C.call(Function.call,h.prototype.test,/^0b[01]+$/i),O=C.call(Function.call,h.prototype.test,/^0o[0-7]+$/i),A=C.call(Function.call,h.prototype.exec),P=new h("["+["","​","￾"].join("")+"]","g"),N=C.call(Function.call,h.prototype.test,P),M=C.call(Function.call,h.prototype.test,/^[-+]0x[0-9a-f]+$/i),R=C.call(Function.call,u.prototype.charCodeAt),I=C.call(Function.call,Object.prototype.toString),D=C.call(Function.call,a("%NumberPrototype%").valueOf),L=C.call(Function.call,a("%BooleanPrototype%").valueOf),F=C.call(Function.call,a("%StringPrototype%").valueOf),z=C.call(Function.call,a("%DatePrototype%").valueOf),Y=Math.floor,B=Math.abs,H=Object.create,X=d.getOwnPropertyDescriptor,q=d.isExtensible,U=d.defineProperty,W=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),V=new RegExp("(^["+W+"]+)|(["+W+"]+$)","g"),$=C.call(Function.call,u.prototype.replace),G=e("./es5"),K=e("is-regex"),J=w(w({},G),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new s(e+" is not a function");return e.apply(t,n)},ToPrimitive:i,ToNumber:function(e){var t=k(e)?e:i(e,f);if("symbol"==typeof t)throw new s("Cannot convert a Symbol value to a number");if("string"==typeof t){if(T(t))return this.ToNumber(j(S(t,2),2));if(O(t))return this.ToNumber(j(S(t,2),8));if(N(t)||M(t))return NaN;var n=function(e){return $(e,V,"")}(t);if(n!==t)return this.ToNumber(n)}return f(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(v(t)||0===t||!y(t))return 0;var n=_(t)*Y(B(t));return x(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(v(t)||t<=0)return 0;if(t>=255)return 255;var n=Y(e);return n+.5<t?n+1:t<n+.5?n:n%2!=0?n+1:n},ToString:function(e){if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a string");return u(e)},ToObject:function(e){return this.RequireObjectCoercible(e),d(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,u);return"symbol"==typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>b?b:t},CanonicalNumericIndexString:function(e){if("[object String]"!==I(e))throw new s("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:G.CheckObjectCoercible,IsArray:l.isArray||function(e){return"[object Array]"===I(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:Object.preventExtensions?function(e){return!k(e)&&q(e)}:function(e){return!0},IsInteger:function(e){if("number"!=typeof e||v(e)||!y(e))return!1;var t=B(e);return Y(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"==typeof e},IsRegExp:function(e){if(!e||"object"!=typeof e)return!1;if(m){var t=e[p.match];if(void 0!==t)return G.ToBoolean(t)}return K(e)},SameValueZero:function(e,t){return e===t||v(e)&&v(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(e)[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new s(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"==typeof e?"Symbol":G.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");var n=e.constructor;if(void 0===n)return t;if("Object"!==this.Type(n))throw new s("O.constructor is not an Object");var r=m&&p.species?n[p.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new s("no constructor found")},CompletePropertyDescriptor:function(e){return g(this,"Property Descriptor","Desc",e),this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");if("Boolean"!==this.Type(r))throw new s("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(e){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(m&&"symbol"==typeof p.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if(void 0!==t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");var n=E(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},GetIterator:function(e,t){if(!m)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var n=t;arguments.length<2&&(n=this.GetMethod(e,p.iterator));var r=this.Call(n,e);if("Object"!==this.Type(r))throw new s("iterator must return an object");return r},IteratorNext:function(e,t){var n=this.Invoke(e,"next",arguments.length<2?[]:[t]);if("Object"!==this.Type(n))throw new s("iterator next must return an object");return n},IteratorComplete:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(e,"done"))},IteratorValue:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.Get(e,"value")},IteratorStep:function(e){var t=this.IteratorNext(e);return!0!==this.IteratorComplete(t)&&t},IteratorClose:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(t))throw new s("Assertion failed: completion is not a thunk for a Completion Record");var n,r=t,i=this.GetMethod(e,"return");if(void 0===i)return r();try{var o=this.Call(i,e,[])}catch(e){throw n=r(),r=null,e}if(n=r(),r=null,"Object"!==this.Type(o))throw new s("iterator .return must return an object");return n},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new s("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new s("R must be an Object");if("String"!==this.Type(t))throw new s("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new s('"exec" method must return `null` or an Object')}return A(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new s("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t;if(this.IsArray(e)&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&m&&p.species&&null===(n=this.Get(n,p.species))&&(n=void 0)),void 0===n)return l(r);if(!this.IsConstructor(n))throw new s("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=X(e,t),i=r||"function"!=typeof q||q(e);return!(!(!r||r.writable&&r.configurable)||!i)&&(U(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}),!0)},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new s("unable to create data property");return r},ObjectCreate:function(e,t){if(null!==e&&"Object"!==this.Type(e))throw new s("Assertion failed: proto must be null or an object");if((arguments.length<2?[]:t).length>0)throw new c("es-abstract does not yet support internal slots");if(null===e&&!H)throw new c("native Object.create support is required to create null objects");return H(e)},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new s("S must be a String");if(!this.IsInteger(t)||t<0||t>b)throw new s("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new s("Assertion failed: unicode must be a Boolean");if(!n)return t+1;if(t+1>=e.length)return t+1;var r=R(e,t);if(r<55296||r>56319)return t+1;var i=R(e,t+1);return i<56320||i>57343?t+1:t+2},CreateMethodProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!U(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0})},DefinePropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!U(e,t,n)},DeletePropertyOrThrow:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=delete e[t];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");return o(e)},thisNumberValue:function(e){return"Number"===this.Type(e)?e:D(e)},thisBooleanValue:function(e){return"Boolean"===this.Type(e)?e:L(e)},thisStringValue:function(e){return"String"===this.Type(e)?e:F(e)},thisTimeValue:function(e){return z(e)}});delete J.CheckObjectCoercible,t.exports=J},{"./GetIntrinsic":330,"./es5":333,"./helpers/assertRecord":335,"./helpers/assign":336,"./helpers/isFinite":337,"./helpers/isNaN":338,"./helpers/isPrimitive":339,"./helpers/mod":340,"./helpers/sign":341,"es-to-primitive/es6":348,"function-bind":389,has:342,"is-regex":396,"object-keys":344}],332:[function(e,t,n){"use strict";var r=e("./es2015"),i=e("./helpers/assign"),o=i(i({},r),{SameValueNonNumber:function(e,t){if("number"==typeof e||typeof e!=typeof t)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,t)}});t.exports=o},{"./es2015":331,"./helpers/assign":336}],333:[function(e,t,n){"use strict";var r=e("./GetIntrinsic"),i=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=e("./helpers/assertRecord"),c=e("./helpers/isNaN"),l=e("./helpers/isFinite"),u=e("./helpers/sign"),d=e("./helpers/mod"),f=e("is-callable"),p=e("es-to-primitive/es5"),h=e("has"),m={ToPrimitive:p,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return c(t)?0:0!==t&&l(t)?u(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(c(t)||0===t||!l(t))return 0;var n=u(t)*Math.floor(Math.abs(t));return d(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),i(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new o(t||"Cannot call method on "+e);return e},IsCallable:f,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:c(e)&&c(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(h(e,n)&&!t[n])return!1;var r=h(e,"[[Value]]"),i=h(e,"[[Get]]")||h(e,"[[Set]]");if(r&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!h(e,"[[Get]]")&&!h(e,"[[Set]]")))},IsDataDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!h(e,"[[Value]]")&&!h(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(h(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),h(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),h(e,"value")&&(t["[[Value]]"]=e.value),h(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),h(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(h(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new o("setter must be a function");t["[[Set]]"]=r}if((h(t,"[[Get]]")||h(t,"[[Set]]"))&&(h(t,"[[Value]]")||h(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};t.exports=m},{"./GetIntrinsic":330,"./helpers/assertRecord":335,"./helpers/isFinite":337,"./helpers/isNaN":338,"./helpers/mod":340,"./helpers/sign":341,"es-to-primitive/es5":347,has:342,"is-callable":394}],334:[function(e,t,n){"use strict";t.exports=e("./es2016")},{"./es2016":332}],335:[function(e,t,n){"use strict";var r=e("../GetIntrinsic"),i=r("%TypeError%"),o=r("%SyntaxError%"),a=e("has"),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var o=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(o&&s)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(e,t,n,r){var a=s[t];if("function"!=typeof a)throw new o("unknown record type: "+t);if(!a(e,r))throw new i(n+" must be a "+t);console.log(a(e,r),r)}},{"../GetIntrinsic":330,has:342}],336:[function(e,t,n){var r=e("function-bind").call(Function.call,Object.prototype.hasOwnProperty),i=Object.assign;t.exports=function(e,t){if(i)return i(e,t);for(var n in t)r(t,n)&&(e[n]=t[n]);return e}},{"function-bind":389}],337:[function(e,t,n){var r=Number.isNaN||function(e){return e!=e};t.exports=Number.isFinite||function(e){return"number"==typeof e&&!r(e)&&e!==1/0&&e!==-1/0}},{}],338:[function(e,t,n){t.exports=Number.isNaN||function(e){return e!=e}},{}],339:[function(e,t,n){t.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},{}],340:[function(e,t,n){t.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},{}],341:[function(e,t,n){t.exports=function(e){return e>=0?1:-1}},{}],342:[function(e,t,n){"use strict";var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":389}],343:[function(e,t,n){arguments[4][325][0].apply(n,arguments)},{"./isArguments":345,dup:325}],344:[function(e,t,n){arguments[4][326][0].apply(n,arguments)},{"./implementation":343,"./isArguments":345,dup:326}],345:[function(e,t,n){arguments[4][327][0].apply(n,arguments)},{dup:327}],346:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,i=e("./helpers/isPrimitive"),o=e("is-callable"),a=e("is-date-object"),s=e("is-symbol");t.exports=function(e){if(i(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?t=function(e,t){var n=e[t];if(null!=n){if(!o(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}}(e,Symbol.toPrimitive):s(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var c=t.call(e,n);if(i(c))return c;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(e)||s(e))&&(n="string"),function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=e[s[a]],o(n)&&(r=n.call(e),i(r)))return r;throw new TypeError("No default value")}(e,"default"===n?"number":n)}},{"./helpers/isPrimitive":349,"is-callable":394,"is-date-object":395,"is-symbol":397}],347:[function(e,t,n){"use strict";var r=Object.prototype.toString,i=e("./helpers/isPrimitive"),o=e("is-callable"),a=function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number)===String||t===Number){var n,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(e[s[a]])&&(n=e[s[a]](),i(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};t.exports=function(e){return i(e)?e:arguments.length>1?a(e,arguments[1]):a(e)}},{"./helpers/isPrimitive":349,"is-callable":394}],348:[function(e,t,n){"use strict";t.exports=e("./es2015")},{"./es2015":346}],349:[function(e,t,n){arguments[4][339][0].apply(n,arguments)},{dup:339}],350:[function(e,t,n){var r,i,o,a,s,c,l,u,d,f,p,h,m,g;r="undefined"!=typeof window?window:this,a="hasOwnProperty",s=/[\.\/]/,c=/\s*,\s*/,l=function(e,t){return e-t},u={n:{}},d=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},f=function(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},p=Object.prototype.toString,h=String,m=Array.isArray||function(e){return e instanceof Array||"[object Array]"==p.call(e)},(g=function(e,t){var n,r=o,a=Array.prototype.slice.call(arguments,2),s=g.listeners(e),c=0,u=[],p={},h=[],m=i;h.firstDefined=d,h.lastDefined=f,i=e,o=0;for(var v=0,y=s.length;v<y;v++)"zIndex"in s[v]&&(u.push(s[v].zIndex),s[v].zIndex<0&&(p[s[v].zIndex]=s[v]));for(u.sort(l);u[c]<0;)if(n=p[u[c++]],h.push(n.apply(t,a)),o)return o=r,h;for(v=0;v<y;v++)if("zIndex"in(n=s[v]))if(n.zIndex==u[c]){if(h.push(n.apply(t,a)),o)break;do{if((n=p[u[++c]])&&h.push(n.apply(t,a)),o)break}while(n)}else p[n.zIndex]=n;else if(h.push(n.apply(t,a)),o)break;return o=r,i=m,h})._events=u,g.listeners=function(e){var t,n,r,i,o,a,c,l,d=m(e)?e:e.split(s),f=u,p=[f],h=[];for(i=0,o=d.length;i<o;i++){for(l=[],a=0,c=p.length;a<c;a++)for(n=[(f=p[a].n)[d[i]],f["*"]],r=2;r--;)(t=n[r])&&(l.push(t),h=h.concat(t.f||[]));p=l}return h},g.separator=function(e){e?(e="["+(e=h(e).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",s=new RegExp(e)):s=/[\.\/]/},g.on=function(e,t){if("function"!=typeof t)return function(){};for(var n=m(e)?m(e[0])?e:[e]:h(e).split(c),r=0,i=n.length;r<i;r++)!function(e){for(var n,r=m(e)?e:h(e).split(s),i=u,o=0,a=r.length;o<a;o++)i=(i=i.n).hasOwnProperty(r[o])&&i[r[o]]||(i[r[o]]={n:{}});for(i.f=i.f||[],o=0,a=i.f.length;o<a;o++)if(i.f[o]==t){n=!0;break}!n&&i.f.push(t)}(n[r]);return function(e){+e==+e&&(t.zIndex=+e)}},g.f=function(e){var t=[].slice.call(arguments,1);return function(){g.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},g.stop=function(){o=1},g.nt=function(e){var t=m(i)?i.join("."):i;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},g.nts=function(){return m(i)?i:i.split(s)},g.off=g.unbind=function(e,t){if(e){var n=m(e)?m(e[0])?e:[e]:h(e).split(c);if(n.length>1)for(var r=0,i=n.length;r<i;r++)g.off(n[r],t);else{n=m(e)?e:h(e).split(s);var o,l,d,f,p,v=[u],y=[];for(r=0,i=n.length;r<i;r++)for(f=0;f<v.length;f+=d.length-2){if(d=[f,1],o=v[f].n,"*"!=n[r])o[n[r]]&&(d.push(o[n[r]]),y.unshift({n:o,name:n[r]}));else for(l in o)o[a](l)&&(d.push(o[l]),y.unshift({n:o,name:l}));v.splice.apply(v,d)}for(r=0,i=v.length;r<i;r++)for(o=v[r];o.n;){if(t){if(o.f){for(f=0,p=o.f.length;f<p;f++)if(o.f[f]==t){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(l in o.n)if(o.n[a](l)&&o.n[l].f){var b=o.n[l].f;for(f=0,p=b.length;f<p;f++)if(b[f]==t){b.splice(f,1);break}!b.length&&delete o.n[l].f}}else for(l in delete o.f,o.n)o.n[a](l)&&o.n[l].f&&delete o.n[l].f;o=o.n}e:for(r=0,i=y.length;r<i;r++){for(l in(o=y[r]).n[o.name].f)continue e;for(l in o.n[o.name].n)continue e;delete o.n[o.name]}}}else g._events=u={n:{}}},g.once=function(e,t){var n=function(){return g.off(e,n),t.apply(this,arguments)};return g.on(e,n)},g.version="0.5.4",g.toString=function(){return"You are running Eve 0.5.4"},r.eve=g,void 0!==t&&t.exports?t.exports=g:"function"==typeof define&&define.amd?define("eve",[],function(){return g}):r.eve=g},{}],351:[function(e,t,n){"use strict";var r=e("./util/constants"),i=e("./mixins/logging"),o={VERSION:r.VERSION,Client:e("./protocol/client"),Scheduler:e("./protocol/scheduler")};i.wrapper=o,t.exports=o},{"./mixins/logging":353,"./protocol/client":357,"./protocol/scheduler":363,"./util/constants":375}],352:[function(e,t,n){(function(n){"use strict";var r=e("../util/promise");t.exports={then:function(e,t){var n=this;return this._promise||(this._promise=new r(function(e,t){n._resolve=e,n._reject=t})),0===arguments.length?this._promise:this._promise.then(e,t)},callback:function(e,t){return this.then(function(n){e.call(t,n)})},errback:function(e,t){return this.then(null,function(n){e.call(t,n)})},timeout:function(e,t){this.then();var r=this;this._timer=n.setTimeout(function(){r._reject(t)},1e3*e)},setDeferredStatus:function(e,t){this._timer&&n.clearTimeout(this._timer),this.then(),"succeeded"===e?this._resolve(t):"failed"===e?this._reject(t):delete this._promise}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/promise":380}],353:[function(e,t,n){"use strict";var r=e("../util/to_json"),i={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(e,t){var n=i.logger||(i.wrapper||i).logger;if(n){var o=Array.prototype.slice.apply(e),a="[Faye",s=this.className,c=o.shift().replace(/\?/g,function(){try{return r(o.shift())}catch(e){return"[Object]"}});s&&(a+="."+s),a+="] ","function"==typeof n[t]?n[t](a+c):"function"==typeof n&&n(a+c)}}};for(var o in i.LOG_LEVELS)!function(e){i[e]=function(){this.writeLog(arguments,e)}}(o);t.exports=i},{"../util/to_json":382}],354:[function(e,t,n){"use strict";var r={countListeners:function(e){return this.listeners(e).length},bind:function(e,t,n){var r=Array.prototype.slice,i=function(){t.apply(n,r.call(arguments))};return this._listeners=this._listeners||[],this._listeners.push([e,t,n,i]),this.on(e,i)},unbind:function(e,t,n){this._listeners=this._listeners||[];for(var r,i=this._listeners.length;i--;)(r=this._listeners[i])[0]===e&&(!t||r[1]===t&&r[2]===n)&&(this._listeners.splice(i,1),this.removeListener(e,r[3]))}};e("../util/extend")(r,e("../util/event_emitter").prototype),r.trigger=r.emit,t.exports=r},{"../util/event_emitter":378,"../util/extend":379}],355:[function(e,t,n){(function(e){"use strict";t.exports={addTimeout:function(t,n,r,i){if(this._timeouts=this._timeouts||{},!this._timeouts.hasOwnProperty(t)){var o=this;this._timeouts[t]=e.setTimeout(function(){delete o._timeouts[t],r.call(i)},1e3*n)}},removeTimeout:function(t){this._timeouts=this._timeouts||{};var n=this._timeouts[t];n&&(e.clearTimeout(n),delete this._timeouts[t])},removeAllTimeouts:function(){for(var e in this._timeouts=this._timeouts||{},this._timeouts)this.removeTimeout(e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],356:[function(e,t,n){"use strict";var r=e("../util/class"),i=e("../util/extend"),o=e("../mixins/publisher"),a=e("./grammar"),s=r({initialize:function(e){this.id=this.name=e},push:function(e){this.trigger("message",e)},isUnused:function(){return 0===this.countListeners("message")}});i(s.prototype,o),i(s,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(e){var t=this.parse(e),n=["/**",e],r=t.slice();r[r.length-1]="*",n.push(this.unparse(r));for(var i=1,o=t.length;i<o;i++)(r=t.slice(0,i)).push("**"),n.push(this.unparse(r));return n},isValid:function(e){return a.CHANNEL_NAME.test(e)||a.CHANNEL_PATTERN.test(e)},parse:function(e){return this.isValid(e)?e.split("/").slice(1):null},unparse:function(e){return"/"+e.join("/")},isMeta:function(e){var t=this.parse(e);return t?t[0]===this.META:null},isService:function(e){var t=this.parse(e);return t?t[0]===this.SERVICE:null},isSubscribable:function(e){return this.isValid(e)?!this.isMeta(e)&&!this.isService(e):null},Set:r({initialize:function(){this._channels={}},getKeys:function(){var e=[];for(var t in this._channels)e.push(t);return e},remove:function(e){delete this._channels[e]},hasSubscription:function(e){return this._channels.hasOwnProperty(e)},subscribe:function(e,t){for(var n,r=0,i=e.length;r<i;r++){n=e[r],(this._channels[n]=this._channels[n]||new s(n)).bind("message",t)}},unsubscribe:function(e,t){var n=this._channels[e];return!!n&&(n.unbind("message",t),!!n.isUnused()&&(this.remove(e),!0))},distributeMessage:function(e){for(var t=s.expand(e.channel),n=0,r=t.length;n<r;n++){var i=this._channels[t[n]];i&&i.trigger("message",e)}}})}),t.exports=s},{"../mixins/publisher":354,"../util/class":374,"../util/extend":379,"./grammar":361}],357:[function(e,t,n){(function(n){"use strict";var r=e("asap"),i=e("../util/class"),o=(e("../util/promise"),e("../util/uri")),a=e("../util/array"),s=e("../util/browser"),c=e("../util/constants"),l=e("../util/extend"),u=e("../util/validate_options"),d=e("../mixins/deferrable"),f=e("../mixins/logging"),p=e("../mixins/publisher"),h=e("./channel"),m=e("./dispatcher"),g=e("./error"),v=e("./extensible"),y=e("./publication"),b=e("./subscription"),w=i({className:"Client",UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(e,t){this.info("New client created for ?",e),u(t=t||{},["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._channels=new h.Set,this._dispatcher=m.create(this,e||this.DEFAULT_ENDPOINT,t),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(t.interval||this.INTERVAL),timeout:1e3*(t.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),s.Event&&void 0!==n.onbeforeunload&&s.Event.on(n,"beforeunload",function(){a.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()},this)},addWebsocketExtension:function(e){return this._dispatcher.addWebsocketExtension(e)},disable:function(e){return this._dispatcher.disable(e)},setHeader:function(e,t){return this._dispatcher.setHeader(e,t)},handshake:function(e,t){if(this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED){this._state=this.CONNECTING;var i=this;this.info("Initiating handshake with ?",o.stringify(this._dispatcher.endpoint)),this._dispatcher.selectTransport(c.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:h.HANDSHAKE,version:c.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},function(o){o.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=o.clientId,this._dispatcher.selectTransport(o.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),e&&r(function(){e.call(t)})):(this.info("Handshake unsuccessful"),n.setTimeout(function(){i.handshake(e,t)},1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)},this)}},connect:function(e,t){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake(function(){this.connect(e,t)},this);this.callback(e,t),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:h.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var e=new y;return this._sendMessage({channel:h.DISCONNECT,clientId:this._dispatcher.clientId},{},function(t){t.successful?(this._dispatcher.close(),e.setDeferredStatus("succeeded")):e.setDeferredStatus("failed",g.parse(t.error))},this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new h.Set,e}},subscribe:function(e,t,n){if(e instanceof Array)return a.map(e,function(e){return this.subscribe(e,t,n)},this);var r=new b(this,e,t,n),i=!0===t;return this._channels.hasSubscription(e)&&!i?(this._channels.subscribe([e],r),r.setDeferredStatus("succeeded"),r):(this.connect(function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,e),i||this._channels.subscribe([e],r),this._sendMessage({channel:h.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},function(t){if(!t.successful)return r.setDeferredStatus("failed",g.parse(t.error)),this._channels.unsubscribe(e,r);var n=[].concat(t.subscription);this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,n),r.setDeferredStatus("succeeded")},this)},this),r)},unsubscribe:function(e,t){if(e instanceof Array)return a.map(e,function(e){return this.unsubscribe(e,t)},this);this._channels.unsubscribe(e,t)&&this.connect(function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,e),this._sendMessage({channel:h.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},function(e){if(e.successful){var t=[].concat(e.subscription);this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,t)}},this)},this)},publish:function(e,t,n){u(n||{},["attempts","deadline"]);var r=new y;return this.connect(function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,e,t),this._sendMessage({channel:e,data:t,clientId:this._dispatcher.clientId},n,function(e){e.successful?r.setDeferredStatus("succeeded"):r.setDeferredStatus("failed",g.parse(e.error))},this)},this),r},_sendMessage:function(e,t,n,r){e.id=this._generateMessageId();var i=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",e,null,function(e){e&&(n&&(this._responseCallbacks[e.id]=[n,r]),this._dispatcher.sendMessage(e,i,t||{}))},this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(e){var t,n=e.id;void 0!==e.successful&&(t=this._responseCallbacks[n],delete this._responseCallbacks[n]),this.pipeThroughExtensions("incoming",e,null,function(e){e&&(e.advice&&this._handleAdvice(e.advice),this._deliverMessage(e),t&&t[0].call(t[1],e))},this)},_handleAdvice:function(e){l(this._advice,e),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(e){e.channel&&void 0!==e.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,e.channel,e.data),this._channels.distributeMessage(e))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var e=this;n.setTimeout(function(){e.connect()},this._advice.interval)}});l(w.prototype,d),l(w.prototype,p),l(w.prototype,f),l(w.prototype,v),t.exports=w}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":352,"../mixins/logging":353,"../mixins/publisher":354,"../util/array":372,"../util/browser":373,"../util/class":374,"../util/constants":375,"../util/extend":379,"../util/promise":380,"../util/uri":383,"../util/validate_options":384,"./channel":356,"./dispatcher":358,"./error":359,"./extensible":360,"./publication":362,"./subscription":364,asap:155}],358:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/uri"),o=e("../util/cookies"),a=e("../util/extend"),s=e("../mixins/logging"),c=e("../mixins/publisher"),l=e("../transport"),u=e("./scheduler"),d=r({className:"Dispatcher",MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(e,t,n){this._client=e,this.endpoint=i.parse(t),this._alternates=n.endpoints||{},this.cookies=o.CookieJar&&new o.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=n.retry||this.DEFAULT_RETRY,this._scheduler=n.scheduler||u,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=n.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var r=n.websocketExtensions;if(r)for(var a=0,s=(r=[].concat(r)).length;a<s;a++)this.addWebsocketExtension(r[a]);for(var c in this.tls=n.tls||{},this.tls.ca=this.tls.ca||n.ca,this._alternates)this._alternates[c]=i.parse(this._alternates[c]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(e){return this._alternates[e]||this.endpoint},addWebsocketExtension:function(e){this.wsExtensions.push(e)},disable:function(e){this._disabled.push(e)},setHeader:function(e,t){this.headers[e]=t},close:function(){var e=this._transport;delete this._transport,e&&e.close()},getConnectionTypes:function(){return l.getConnectionTypes()},selectTransport:function(e){l.get(this,e,this._disabled,function(e){this.debug("Selected ? transport for ?",e.connectionType,i.stringify(e.endpoint)),e!==this._transport&&(this._transport&&this._transport.close(),this._transport=e,this.connectionType=e.connectionType)},this)},sendMessage:function(e,t,n){n=n||{};var r,i=e.id,o=n.attempts,a=n.deadline&&(new Date).getTime()+1e3*n.deadline,s=this._envelopes[i];s||(r=new this._scheduler(e,{timeout:t,interval:this.retry,attempts:o,deadline:a}),s=this._envelopes[i]={message:e,scheduler:r}),this._sendEnvelope(s)},_sendEnvelope:function(e){if(this._transport&&!e.request&&!e.timer){var t=e.message,r=e.scheduler,i=this;if(!r.isDeliverable())return r.abort(),void delete this._envelopes[t.id];e.timer=n.setTimeout(function(){i.handleError(t)},1e3*r.getTimeout()),r.send(),e.request=this._transport.sendMessage(t)}},handleResponse:function(e){var t=this._envelopes[e.id];void 0!==e.successful&&t&&(t.scheduler.succeed(),delete this._envelopes[e.id],n.clearTimeout(t.timer)),this.trigger("message",e),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(e,t){var r=this._envelopes[e.id],i=r&&r.request,o=this;if(i){i.then(function(e){e&&e.abort&&e.abort()});var a=r.scheduler;a.fail(),n.clearTimeout(r.timer),r.request=r.timer=null,t?this._sendEnvelope(r):r.timer=n.setTimeout(function(){r.timer=null,o._sendEnvelope(r)},1e3*a.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down"))}}});d.create=function(e,t,n){return new d(e,t,n)},a(d.prototype,c),a(d.prototype,s),t.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/logging":353,"../mixins/publisher":354,"../transport":365,"../util/class":374,"../util/cookies":376,"../util/extend":379,"../util/uri":383,"./scheduler":363}],359:[function(e,t,n){"use strict";var r=e("../util/class"),i=e("./grammar"),o=r({initialize:function(e,t,n){this.code=e,this.params=Array.prototype.slice.call(t),this.message=n},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}});o.parse=function(e){if(e=e||"",!i.ERROR.test(e))return new o(null,[],e);var t=e.split(":"),n=parseInt(t[0]),r=t[1].split(",");e=t[2];return new o(n,r,e)};var a={versionMismatch:[300,"Version mismatch"],conntypeMismatch:[301,"Connection types not supported"],extMismatch:[302,"Extension mismatch"],badRequest:[400,"Bad request"],clientUnknown:[401,"Unknown client"],parameterMissing:[402,"Missing required parameter"],channelForbidden:[403,"Forbidden channel"],channelUnknown:[404,"Unknown channel"],channelInvalid:[405,"Invalid channel"],extUnknown:[406,"Unknown extension"],publishFailed:[407,"Failed to publish"],serverError:[500,"Internal server error"]};for(var s in a)!function(e){o[e]=function(){return new o(a[e][0],arguments,a[e][1]).toString()}}(s);t.exports=o},{"../util/class":374,"./grammar":361}],360:[function(e,t,n){"use strict";var r={addExtension:function(e){this._extensions=this._extensions||[],this._extensions.push(e),e.added&&e.added(this)},removeExtension:function(e){if(this._extensions)for(var t=this._extensions.length;t--;)this._extensions[t]===e&&(this._extensions.splice(t,1),e.removed&&e.removed(this))},pipeThroughExtensions:function(e,t,n,r,i){if(this.debug("Passing through ? extensions: ?",e,t),!this._extensions)return r.call(i,t);var o=this._extensions.slice(),a=function(t){if(!t)return r.call(i,t);var s=o.shift();if(!s)return r.call(i,t);var c=s[e];if(!c)return a(t);c.length>=3?s[e](t,n,a):s[e](t,a)};a(t)}};e("../util/extend")(r,e("../mixins/logging")),t.exports=r},{"../mixins/logging":353,"../util/extend":379}],361:[function(e,t,n){"use strict";t.exports={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/}},{}],362:[function(e,t,n){"use strict";var r=e("../util/class"),i=e("../mixins/deferrable");t.exports=r(i)},{"../mixins/deferrable":352,"../util/class":374}],363:[function(e,t,n){"use strict";var r=function(e,t){this.message=e,this.options=t,this.attempts=0};e("../util/extend")(r.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var e=this.options.attempts,t=this.attempts,n=this.options.deadline,r=(new Date).getTime();return!(void 0!==e&&t>=e)&&!(void 0!==n&&r>n)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),t.exports=r},{"../util/extend":379}],364:[function(e,t,n){"use strict";var r=e("../util/class"),i=e("../util/extend"),o=e("../mixins/deferrable"),a=r({initialize:function(e,t,n,r){this._client=e,this._channels=t,this._callback=n,this._context=r,this._cancelled=!1},withChannel:function(e,t){return this._withChannel=[e,t],this},apply:function(e,t){var n=t[0];this._callback&&this._callback.call(this._context,n.data),this._withChannel&&this._withChannel[0].call(this._withChannel[1],n.channel,n.data)},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this),this._cancelled=!0)},unsubscribe:function(){this.cancel()}});i(a.prototype,o),t.exports=a},{"../mixins/deferrable":352,"../util/class":374,"../util/extend":379}],365:[function(e,t,n){"use strict";var r=e("./transport");r.register("websocket",e("./web_socket")),r.register("eventsource",e("./event_source")),r.register("long-polling",e("./xhr")),r.register("cross-origin-long-polling",e("./cors")),r.register("callback-polling",e("./jsonp")),t.exports=r},{"./cors":366,"./event_source":367,"./jsonp":368,"./transport":369,"./web_socket":370,"./xhr":371}],366:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/set"),o=e("../util/uri"),a=e("../util/extend"),s=e("../util/to_json"),c=a(r(e("./transport"),{encode:function(e){return"message="+encodeURIComponent(s(e))},request:function(e){var t,r=n.XDomainRequest?XDomainRequest:XMLHttpRequest,i=new r,a=++c._id,s=this._dispatcher.headers,l=this;if(i.open("POST",o.stringify(this.endpoint),!0),i.setRequestHeader)for(t in i.setRequestHeader("Pragma","no-cache"),s)s.hasOwnProperty(t)&&i.setRequestHeader(t,s[t]);var u=function(){if(!i)return!1;c._pending.remove(a),i.onload=i.onerror=i.ontimeout=i.onprogress=null,i=null};return i.onload=function(){var t;try{t=JSON.parse(i.responseText)}catch(e){}u(),t?l._receive(t):l._handleError(e)},i.onerror=i.ontimeout=function(){u(),l._handleError(e)},i.onprogress=function(){},r===n.XDomainRequest&&c._pending.add({id:a,xhr:i}),i.send(this.encode(e)),i}}),{_id:0,_pending:new i,isUsable:function(e,t,r,i){if(o.isSameOrigin(t))return r.call(i,!1);if(n.XDomainRequest)return r.call(i,t.protocol===location.protocol);if(n.XMLHttpRequest){var a=new XMLHttpRequest;return r.call(i,void 0!==a.withCredentials)}return r.call(i,!1)}});t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/class":374,"../util/extend":379,"../util/set":381,"../util/to_json":382,"../util/uri":383,"./transport":369}],367:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/uri"),o=e("../util/copy_object"),a=e("../util/extend"),s=e("../mixins/deferrable"),c=e("./transport"),l=e("./xhr"),u=a(r(c,{initialize:function(e,t){if(c.prototype.initialize.call(this,e,t),!n.EventSource)return this.setDeferredStatus("failed");this._xhr=new l(e,t),(t=o(t)).pathname+="/"+e.clientId;var r=new n.EventSource(i.stringify(t)),a=this;r.onopen=function(){a._everConnected=!0,a.setDeferredStatus("succeeded")},r.onerror=function(){a._everConnected?a._handleError([]):(a.setDeferredStatus("failed"),r.close())},r.onmessage=function(e){var t;try{t=JSON.parse(e.data)}catch(e){}t?a._receive(t):a._handleError([])},this._socket=r},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(e,t){this.callback(function(){e.call(t,!0)}),this.errback(function(){e.call(t,!1)})},encode:function(e){return this._xhr.encode(e)},request:function(e){return this._xhr.request(e)}}),{isUsable:function(e,t,n,r){if(!e.clientId)return n.call(r,!1);l.isUsable(e,t,function(i){if(!i)return n.call(r,!1);this.create(e,t).isUsable(n,r)},this)},create:function(e,t){var n=e.transports.eventsource=e.transports.eventsource||{},r=e.clientId,a=o(t);return a.pathname+="/"+(r||""),n[a=i.stringify(a)]=n[a]||new this(e,t),n[a]}});a(u.prototype,s),t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":352,"../util/class":374,"../util/copy_object":377,"../util/extend":379,"../util/uri":383,"./transport":369,"./xhr":371}],368:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/uri"),o=e("../util/copy_object"),a=e("../util/extend"),s=e("../util/to_json"),c=a(r(e("./transport"),{encode:function(e){var t=o(this.endpoint);return t.query.message=s(e),t.query.jsonp="__jsonp"+c._cbCount+"__",i.stringify(t)},request:function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script"),a=c.getCallbackName(),l=o(this.endpoint),u=this;l.query.message=s(e),l.query.jsonp=a;var d=function(){if(!n[a])return!1;n[a]=void 0;try{delete n[a]}catch(e){}r.parentNode.removeChild(r)};return n[a]=function(e){d(),u._receive(e)},r.type="text/javascript",r.src=i.stringify(l),t.appendChild(r),r.onerror=function(){d(),u._handleError(e)},{abort:d}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(e,t,n,r){n.call(r,!0)}});t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/class":374,"../util/copy_object":377,"../util/extend":379,"../util/to_json":382,"../util/uri":383,"./transport":369}],369:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/cookies").Cookie,o=e("../util/promise"),a=e("../util/uri"),s=e("../util/array"),c=e("../util/extend"),l=e("../mixins/logging"),u=e("../mixins/timeouts"),d=e("../protocol/channel"),f=c(r({className:"Transport",DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},MAX_DELAY:0,batching:!0,initialize:function(e,t){this._dispatcher=e,this.endpoint=t,this._outbox=[],this._proxy=c({},this._dispatcher.proxy),this._proxy.origin||(this._proxy.origin=this._findProxy())},close:function(){},encode:function(e){return""},sendMessage:function(e){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),e),this.batching?(this._outbox.push(e),this._flushLargeBatch(),e.channel===d.HANDSHAKE?this._publish(.01):(e.channel===d.CONNECT&&(this._connectMessage=e),this._publish(this.MAX_DELAY))):o.resolve(this.request([e]))},_makePromise:function(){var e=this;this._requestPromise=this._requestPromise||new o(function(t){e._resolvePromise=t})},_publish:function(e){return this._makePromise(),this.addTimeout("publish",e,function(){this._flush(),delete this._requestPromise},this),this._requestPromise},_flush:function(){this.removeTimeout("publish"),this._outbox.length>1&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),this._resolvePromise(this.request(this._outbox)),this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){if(!(this.encode(this._outbox).length<this._dispatcher.maxRequestSize)){var e=this._outbox.pop();this._makePromise(),this._flush(),e&&this._outbox.push(e)}},_receive:function(e){if(e){e=[].concat(e),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),this.connectionType,e);for(var t=0,n=e.length;t<n;t++)this._dispatcher.handleResponse(e[t])}},_handleError:function(e,t){e=[].concat(e),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,a.stringify(this.endpoint),this.connectionType,e);for(var n=0,r=e.length;n<r;n++)this._dispatcher.handleError(e[n])},_getCookies:function(){var e=this._dispatcher.cookies,t=a.stringify(this.endpoint);return e?s.map(e.getCookiesSync(t),function(e){return e.cookieString()}).join("; "):""},_storeCookies:function(e){var t,n=this._dispatcher.cookies,r=a.stringify(this.endpoint);if(e&&n)for(var o=0,s=(e=[].concat(e)).length;o<s;o++)t=i.parse(e[o]),n.setCookieSync(t,r)},_findProxy:function(){if(void 0!==n){var e=this.endpoint.protocol;if(e){var t,r,i=e.replace(/:$/,"").toLowerCase()+"_proxy",o=i.toUpperCase(),a=n.env;return"http_proxy"===i&&a.REQUEST_METHOD?(1===(t=Object.keys(a).filter(function(e){return/^http_proxy$/i.test(e)})).length?t[0]===i&&void 0===a[o]&&(r=a[i]):t.length>1&&(r=a[i]),r=r||a["CGI_"+o]):(r=a[i]||a[o])&&!a[i]&&console.warn("The environment variable "+o+" is discouraged. Use "+i+"."),r}}}}),{get:function(e,t,n,r,i){var o=e.endpoint;s.asyncEach(this._transports,function(o,a){var c=o[0],l=o[1],u=e.endpointFor(c);return s.indexOf(n,c)>=0?a():s.indexOf(t,c)<0?(l.isUsable(e,u,function(){}),a()):void l.isUsable(e,u,function(t){if(!t)return a();var n=l.hasOwnProperty("create")?l.create(e,u):new l(e,u);r.call(i,n)})},function(){throw new Error("Could not find a usable connection type for "+a.stringify(o))})},register:function(e,t){this._transports.push([e,t]),t.prototype.connectionType=e},getConnectionTypes:function(){return s.map(this._transports,function(e){return e[0]})},_transports:[]});c(f.prototype,l),c(f.prototype,u),t.exports=f}).call(this,e("_process"))},{"../mixins/logging":353,"../mixins/timeouts":355,"../protocol/channel":356,"../util/array":372,"../util/class":374,"../util/cookies":376,"../util/extend":379,"../util/promise":380,"../util/uri":383,_process:406}],370:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/promise"),o=e("../util/set"),a=e("../util/uri"),s=e("../util/browser"),c=e("../util/copy_object"),l=e("../util/extend"),u=e("../util/to_json"),d=e("../util/websocket"),f=e("../mixins/deferrable"),p=l(r(e("./transport"),{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(e,t){this.callback(function(){e.call(t,!0)}),this.errback(function(){e.call(t,!1)}),this.connect()},request:function(e){this._pending=this._pending||new o;for(var t=0,n=e.length;t<n;t++)this._pending.add(e[t]);var r=this,a=new i(function(t,n){r.callback(function(n){n&&1===n.readyState&&(n.send(u(e)),t(n))}),r.connect()});return{abort:function(){a.then(function(e){e.close()})}}},connect:function(){if(!p._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var e=this._createSocket();if(!e)return this.setDeferredStatus("failed");var t=this;e.onopen=function(){e.headers&&t._storeCookies(e.headers["set-cookie"]),t._socket=e,t._state=t.CONNECTED,t._everConnected=!0,t._ping(),t.setDeferredStatus("succeeded",e)};var n=!1;e.onclose=e.onerror=function(){if(!n){n=!0;var r=t._state===t.CONNECTED;e.onopen=e.onclose=e.onerror=e.onmessage=null,delete t._socket,t._state=t.UNCONNECTED,t.removeTimeout("ping");var i=t._pending?t._pending.toArray():[];delete t._pending,r||t._everConnected?(t.setDeferredStatus("unknown"),t._handleError(i,r)):t.setDeferredStatus("failed")}},e.onmessage=function(e){var n;try{n=JSON.parse(e.data)}catch(e){}if(n){for(var r=0,i=(n=[].concat(n)).length;r<i;r++)void 0!==n[r].successful&&t._pending.remove(n[r]);t._receive(n)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var e=p.getSocketUrl(this.endpoint),t=this._dispatcher.headers,n=this._dispatcher.wsExtensions,r=this._getCookies(),i=this._dispatcher.tls,o={extensions:n,headers:t,proxy:this._proxy,tls:i};return""!==r&&(o.headers.Cookie=r),d.create(e,[],o)},_ping:function(){this._socket&&1===this._socket.readyState&&(this._socket.send("[]"),this.addTimeout("ping",this._dispatcher.timeout/2,this._ping,this))}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(e,t){var n=e.transports.websocket=e.transports.websocket||{};return n[t.href]=n[t.href]||new this(e,t),n[t.href]},getSocketUrl:function(e){return(e=c(e)).protocol=this.PROTOCOLS[e.protocol],a.stringify(e)},isUsable:function(e,t,n,r){this.create(e,t).isUsable(n,r)}});l(p.prototype,f),s.Event&&void 0!==n.onbeforeunload&&s.Event.on(n,"beforeunload",function(){p._unloaded=!0}),t.exports=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":352,"../util/browser":373,"../util/class":374,"../util/copy_object":377,"../util/extend":379,"../util/promise":380,"../util/set":381,"../util/to_json":382,"../util/uri":383,"../util/websocket":385,"./transport":369}],371:[function(e,t,n){(function(n){"use strict";var r=e("../util/class"),i=e("../util/uri"),o=e("../util/browser"),a=e("../util/extend"),s=e("../util/to_json"),c=a(r(e("./transport"),{encode:function(e){return s(e)},request:function(e){var t,r=this.endpoint.href,i=this;if(n.XMLHttpRequest)t=new XMLHttpRequest;else{if(!n.ActiveXObject)return this._handleError(e);t=new ActiveXObject("Microsoft.XMLHTTP")}t.open("POST",r,!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Pragma","no-cache"),t.setRequestHeader("X-Requested-With","XMLHttpRequest");var a=this._dispatcher.headers;for(var s in a)a.hasOwnProperty(s)&&t.setRequestHeader(s,a[s]);var c=function(){t.abort()};return void 0!==n.onbeforeunload&&o.Event.on(n,"beforeunload",c),t.onreadystatechange=function(){if(t&&4===t.readyState){var r=null,a=t.status,s=t.responseText,l=a>=200&&a<300||304===a||1223===a;if(void 0!==n.onbeforeunload&&o.Event.detach(n,"beforeunload",c),t.onreadystatechange=function(){},t=null,!l)return i._handleError(e);try{r=JSON.parse(s)}catch(e){}r?i._receive(r):i._handleError(e)}},t.send(this.encode(e)),t}}),{isUsable:function(e,t,n,r){var o="ReactNative"===navigator.product||i.isSameOrigin(t);n.call(r,o)}});t.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/browser":373,"../util/class":374,"../util/extend":379,"../util/to_json":382,"../util/uri":383,"./transport":369}],372:[function(e,t,n){"use strict";t.exports={commonElement:function(e,t){for(var n=0,r=e.length;n<r;n++)if(-1!==this.indexOf(t,e[n]))return e[n];return null},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},map:function(e,t,n){if(e.map)return e.map(t,n);var r=[];if(e instanceof Array)for(var i=0,o=e.length;i<o;i++)r.push(t.call(n||null,e[i],i));else for(var a in e)e.hasOwnProperty(a)&&r.push(t.call(n||null,a,e[a]));return r},filter:function(e,t,n){if(e.filter)return e.filter(t,n);for(var r=[],i=0,o=e.length;i<o;i++)t.call(n||null,e[i],i)&&r.push(e[i]);return r},asyncEach:function(e,t,n,r){var i=e.length,o=-1,a=0,s=!1,c=function(){if(a-=1,(o+=1)===i)return n&&n.call(r);t(e[o],l)},l=function(){a+=1,function(){if(!s){for(s=!0;a>0;)c();s=!1}}()};l()}}},{}],373:[function(e,t,n){(function(e){"use strict";var n={_registry:[],on:function(e,t,n,r){var i=function(){n.call(r)};e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i),this._registry.push({_element:e,_type:t,_callback:n,_context:r,_handler:i})},detach:function(e,t,n,r){for(var i,o=this._registry.length;o--;)i=this._registry[o],e&&e!==i._element||t&&t!==i._type||n&&n!==i._callback||r&&r!==i._context||(i._element.removeEventListener?i._element.removeEventListener(i._type,i._handler,!1):i._element.detachEvent("on"+i._type,i._handler),this._registry.splice(o,1),i=null)}};void 0!==e.onunload&&n.on(e,"unload",n.detach,n),t.exports={Event:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],374:[function(e,t,n){"use strict";var r=e("./extend");t.exports=function(e,t){"function"!=typeof e&&(t=e,e=Object);var n=function(){return this.initialize&&this.initialize.apply(this,arguments)||this},i=function(){};return i.prototype=e.prototype,n.prototype=new i,r(n.prototype,t),n}},{"./extend":379}],375:[function(e,t,n){t.exports={VERSION:"1.2.4",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"]}},{}],376:[function(e,t,n){"use strict";t.exports={}},{}],377:[function(e,t,n){"use strict";var r=function(e){var t,n,i;if(e instanceof Array){for(t=[],n=e.length;n--;)t[n]=r(e[n]);return t}if("object"==typeof e){for(i in t=null===e?null:{},e)t[i]=r(e[i]);return t}return e};t.exports=r},{}],378:[function(e,t,n){var r="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(){}t.exports=i,i.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||r(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(r(t)){n=Array.prototype.slice.call(arguments,1);for(var i=t.slice(),o=0,a=i.length;o<a;o++)i[o].apply(this,n);return!0}return!1},i.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",e,t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},i.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(r(n)){var i=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}(n,t);if(i<0)return this;n.splice(i,1),0==n.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},i.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},i.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),r(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}},{}],379:[function(e,t,n){"use strict";t.exports=function(e,t,n){if(!t)return e;for(var r in t)t.hasOwnProperty(r)&&(e.hasOwnProperty(r)&&!1===n||e[r]!==t[r]&&(e[r]=t[r]));return e}},{}],380:[function(e,t,n){"use strict";var r=e("asap"),i=function(e){return e},o=function(e){throw e},a=function(e){if(this._state=0,this._onFulfilled=[],this._onRejected=[],"function"==typeof e){var t=this;e(function(e){d(t,e)},function(e){p(t,e)})}};a.prototype.then=function(e,t){var n=new a;return s(this,e,n),c(this,t,n),n},a.prototype.catch=function(e){return this.then(null,e)};var s=function(e,t,n){"function"!=typeof t&&(t=i);var r=function(e){l(t,e,n)};0===e._state?e._onFulfilled.push(r):1===e._state&&r(e._value)},c=function(e,t,n){"function"!=typeof t&&(t=o);var r=function(e){l(t,e,n)};0===e._state?e._onRejected.push(r):2===e._state&&r(e._reason)},l=function(e,t,n){r(function(){u(e,t,n)})},u=function(e,t,n){var r;try{r=e(t)}catch(e){return p(n,e)}r===n?p(n,new TypeError("Recursive promise chain detected")):d(n,r)},d=function(e,t){var n,r,i=!1;try{if(n=typeof t,"function"!=typeof(r=null!==t&&("function"===n||"object"===n)&&t.then))return f(e,t);r.call(t,function(t){i^(i=!0)&&d(e,t)},function(t){i^(i=!0)&&p(e,t)})}catch(t){if(!(i^(i=!0)))return;p(e,t)}},f=function(e,t){if(0===e._state){e._state=1,e._value=t,e._onRejected=[];for(var n,r=e._onFulfilled;n=r.shift();)n(t)}},p=function(e,t){if(0===e._state){e._state=2,e._reason=t,e._onFulfilled=[];for(var n,r=e._onRejected;n=r.shift();)n(t)}};a.resolve=function(e){return new a(function(t,n){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.all=function(e){return new a(function(t,n){var r,i=[],o=e.length;if(0===o)return t(i);for(r=0;r<o;r++)!function(e,r){a.resolve(e).then(function(e){i[r]=e,0==--o&&t(i)},n)}(e[r],r)})},a.race=function(e){return new a(function(t,n){for(var r=0,i=e.length;r<i;r++)a.resolve(e[r]).then(t,n)})},a.deferred=a.pending=function(){var e={};return e.promise=new a(function(t,n){e.resolve=t,e.reject=n}),e},t.exports=a},{asap:155}],381:[function(e,t,n){"use strict";var r=e("./class");t.exports=r({initialize:function(){this._index={}},add:function(e){var t=void 0!==e.id?e.id:e;return!this._index.hasOwnProperty(t)&&(this._index[t]=e,!0)},forEach:function(e,t){for(var n in this._index)this._index.hasOwnProperty(n)&&e.call(t,this._index[n])},isEmpty:function(){for(var e in this._index)if(this._index.hasOwnProperty(e))return!1;return!0},member:function(e){for(var t in this._index)if(this._index[t]===e)return!0;return!1},remove:function(e){var t=void 0!==e.id?e.id:e,n=this._index[t];return delete this._index[t],n},toArray:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}})},{"./class":374}],382:[function(e,t,n){"use strict";t.exports=function(e){return JSON.stringify(e,function(e,t){return this[e]instanceof Array?this[e]:t})}},{}],383:[function(e,t,n){"use strict";t.exports={isURI:function(e){return e&&e.protocol&&e.host&&e.path},isSameOrigin:function(e){return e.protocol===location.protocol&&e.hostname===location.hostname&&e.port===location.port},parse:function(e){if("string"!=typeof e)return e;var t,n,r,i,o,a,s={},c=function(t,n){e=e.replace(n,function(e){return s[t]=e,""}),s[t]=s[t]||""};for(c("protocol",/^[a-z]+\:/i),c("host",/^\/\/[^\/\?#]+/),/^\//.test(e)||s.host||(e=location.pathname.replace(/[^\/]*$/,"")+e),c("pathname",/^[^\?#]*/),c("search",/^\?[^#]*/),c("hash",/^#.*/),s.protocol=s.protocol||location.protocol,s.host?(s.host=s.host.substr(2),t=s.host.split(":"),s.hostname=t[0],s.port=t[1]||""):(s.host=location.host,s.hostname=location.hostname,s.port=location.port),s.pathname=s.pathname||"/",s.path=s.pathname+s.search,a={},i=0,o=(r=(n=s.search.replace(/^\?/,""))?n.split("&"):[]).length;i<o;i++)t=r[i].split("="),a[decodeURIComponent(t[0]||"")]=decodeURIComponent(t[1]||"");return s.query=a,s.href=this.stringify(s),s},stringify:function(e){var t=e.protocol+"//"+e.hostname;return e.port&&(t+=":"+e.port),t+=e.pathname+this.queryString(e.query)+(e.hash||"")},queryString:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return 0===t.length?"":"?"+t.join("&")}}},{}],384:[function(e,t,n){"use strict";var r=e("./array");t.exports=function(e,t){for(var n in e)if(r.indexOf(t,n)<0)throw new Error("Unrecognized option: "+n)}},{"./array":372}],385:[function(e,t,n){(function(e){"use strict";var n=e.MozWebSocket||e.WebSocket;t.exports={create:function(e,t,r){return"function"!=typeof n?null:new n(e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],386:[function(e,t,n){!function(e,r){if("function"==typeof define&&define.amd)define(["exports","module"],r);else if(void 0!==n&&void 0!==t)r(n,t);else{var i={exports:{}};r(i.exports,i),e.fetchJsonp=i.exports}}(this,function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,a=t.timeout||n.timeout,s=t.jsonpCallback||n.jsonpCallback,c=void 0;return new Promise(function(n,l){var u=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),d=s+"_"+u;window[u]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),c&&clearTimeout(c),i(d),r(u)},o+=-1===o.indexOf("?")?"?":"&";var f=document.createElement("script");f.setAttribute("src",""+o+s+"="+u),t.charset&&f.setAttribute("charset",t.charset),f.id=d,document.getElementsByTagName("head")[0].appendChild(f),c=setTimeout(function(){l(new Error("JSONP request to "+e+" timed out")),r(u),i(d),window[u]=function(){r(u)}},a),f.onerror=function(){l(new Error("JSONP request to "+e+" failed")),r(u),i(d),c&&clearTimeout(c)}})}})},{}],387:[function(e,t,n){(function(e){var r,i;r=this,i=function(){"use strict";function n(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof e&&e.global===e?e:void 0,a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,a){var s=o.URL||o.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):r(c.href)?n(e,t,a):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,o){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),t);else if(r(e))n(e,t,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){i(a)})}}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var a="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&s)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,d=u.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});o.saveAs=a.saveAs=a,void 0!==t&&(t.exports=a)},"function"==typeof define&&define.amd?define([],i):void 0!==n?i():(i(),r.FileSaver={})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],388:[function(e,t,n){"use strict";var r=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,o=r.call(arguments,1),a=Math.max(0,t.length-o.length),s=[],c=0;c<a;c++)s.push("$"+c);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var i=t.apply(this,o.concat(r.call(arguments)));return Object(i)===i?i:this}return t.apply(e,o.concat(r.call(arguments)))}),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n}},{}],389:[function(e,t,n){"use strict";var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":388}],390:[function(e,t,n){!function(e,n,r,i){"use strict";var o,a=["","webkit","Moz","MS","ms","o"],s=n.createElement("div"),c="function",l=Math.round,u=Math.abs,d=Date.now;function f(e,t,n){return setTimeout(b(e,n),t)}function p(e,t,n){return!!Array.isArray(e)&&(h(e,n[t],n),!0)}function h(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function m(t,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,i,r),t.apply(this,arguments)}}o="function"!=typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var g=m(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===i)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),v=m(function(e,t){return g(e,t,!0)},"merge","Use `assign`.");function y(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&o(r,n)}function b(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return typeof e==c?e.apply(t&&t[0]||i,t):e}function _(e,t){return e===i?t:e}function x(e,t,n){h(E(t),function(t){e.addEventListener(t,n,!1)})}function k(e,t,n){h(E(t),function(t){e.removeEventListener(t,n,!1)})}function j(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function E(e){return e.trim().split(/\s+/g)}function S(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];S(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function A(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),s=0;s<a.length;){if((r=(n=a[s])?n+o:t)in e)return r;s++}return i}var P=1;function N(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}var M="ontouchstart"in e,R=A(e,"PointerEvent")!==i,I=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),D=25,L=1,F=2,z=4,Y=8,B=1,H=2,X=4,q=8,U=16,W=H|X,V=q|U,$=W|V,G=["x","y"],K=["clientX","clientY"];function J(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&n.handler(t)},this.init()}function Q(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,a=t&L&&r-o==0,s=t&(z|Y)&&r-o==0;n.isFirst=!!a,n.isFinal=!!s,a&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=Z(t));o>1&&!n.firstMultiple?n.firstMultiple=Z(t):1===o&&(n.firstMultiple=!1);var a=n.firstInput,s=n.firstMultiple,c=s?s.center:a.center,l=t.center=ee(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=ie(c,l),t.distance=re(c,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==L&&o.eventType!==z||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=ne(t.deltaX,t.deltaY);var f=te(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=f.x,t.overallVelocityY=f.y,t.overallVelocity=u(f.x)>u(f.y)?f.x:f.y,t.scale=s?(p=s.pointers,h=r,re(h[0],h[1],K)/re(p[0],p[1],K)):1,t.rotation=s?function(e,t){return ie(t[1],t[0],K)+ie(e[1],e[0],K)}(s.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,o,a,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;if(t.eventType!=Y&&(c>D||s.velocity===i)){var l=t.deltaX-s.deltaX,d=t.deltaY-s.deltaY,f=te(c,l,d);r=f.x,o=f.y,n=u(f.x)>u(f.y)?f.x:f.y,a=ne(l,d),e.lastInterval=t}else n=s.velocity,r=s.velocityX,o=s.velocityY,a=s.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=a}(n,t);var p,h;var m=e.element;j(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Z(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:l(e.pointers[n].clientX),clientY:l(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:ee(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ee(e){var t=e.length;if(1===t)return{x:l(e[0].clientX),y:l(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:l(n/t),y:l(r/t)}}function te(e,t,n){return{x:t/e||0,y:n/e||0}}function ne(e,t){return e===t?B:u(e)>=u(t)?e<0?H:X:t<0?q:U}function re(e,t,n){n||(n=G);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ie(e,t,n){n||(n=G);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(N(this.element),this.evWin,this.domHandler)}};var oe={mousedown:L,mousemove:F,mouseup:z},ae="mousedown",se="mousemove mouseup";function ce(){this.evEl=ae,this.evWin=se,this.pressed=!1,J.apply(this,arguments)}y(ce,J,{handler:function(e){var t=oe[e.type];t&L&&0===e.button&&(this.pressed=!0),t&F&&1!==e.which&&(t=z),this.pressed&&(t&z&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var le={pointerdown:L,pointermove:F,pointerup:z,pointercancel:Y,pointerout:Y},ue={2:"touch",3:"pen",4:"mouse",5:"kinect"},de="pointerdown",fe="pointermove pointerup pointercancel";function pe(){this.evEl=de,this.evWin=fe,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}e.MSPointerEvent&&!e.PointerEvent&&(de="MSPointerDown",fe="MSPointerMove MSPointerUp MSPointerCancel"),y(pe,J,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=le[r],o=ue[e.pointerType]||e.pointerType,a="touch"==o,s=S(t,e.pointerId,"pointerId");i&L&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(z|Y)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var he={touchstart:L,touchmove:F,touchend:z,touchcancel:Y},me="touchstart",ge="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=me,this.evWin=ge,this.started=!1,J.apply(this,arguments)}y(ve,J,{handler:function(e){var t=he[e.type];if(t===L&&(this.started=!0),this.started){var n=function(e,t){var n=T(e.touches),r=T(e.changedTouches);t&(z|Y)&&(n=O(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(z|Y)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ye={touchstart:L,touchmove:F,touchend:z,touchcancel:Y},be="touchstart touchmove touchend touchcancel";function we(){this.evTarget=be,this.targetIds={},J.apply(this,arguments)}y(we,J,{handler:function(e){var t=ye[e.type],n=function(e,t){var n=T(e.touches),r=this.targetIds;if(t&(L|F)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=T(e.changedTouches),s=[],c=this.target;if(o=n.filter(function(e){return j(e.target,c)}),t===L)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(z|Y)&&delete r[a[i].identifier],i++;if(!s.length)return;return[O(o.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var _e=2500,xe=25;function ke(){J.apply(this,arguments);var e=b(this.handler,this);this.touch=new we(this.manager,e),this.mouse=new ce(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function je(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},_e)}}y(ke,J,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&L?(this.primaryTouch=t.changedPointers[0].identifier,je.call(this,t)):e&(z|Y)&&je.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=xe&&a<=xe)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ce=A(s.style,"touchAction"),Ee=Ce!==i,Se="auto",Te="manipulation",Oe="none",Ae="pan-x",Pe="pan-y",Ne=function(){if(!Ee)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){t[r]=!n||e.CSS.supports("touch-action",r)}),t}();function Me(e,t){this.manager=e,this.set(t)}Me.prototype={set:function(e){"compute"==e&&(e=this.compute()),Ee&&this.manager.element.style&&Ne[e]&&(this.manager.element.style[Ce]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(C(e,Oe))return Oe;var t=C(e,Ae),n=C(e,Pe);if(t&&n)return Oe;if(t||n)return t?Ae:Pe;if(C(e,Te))return Te;return Se}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=C(r,Oe)&&!Ne[Oe],o=C(r,Pe)&&!Ne[Pe],a=C(r,Ae)&&!Ne[Ae];if(i){var s=1===e.pointers.length,c=e.distance<2,l=e.deltaTime<250;if(s&&c&&l)return}if(!a||!o)return i||o&&n&W||a&&n&V?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Re=1,Ie=2,De=4,Le=8,Fe=Le,ze=16;function Ye(e){this.options=o({},this.defaults,e||{}),this.id=P++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=Re,this.simultaneous={},this.requireFail=[]}function Be(e){return e&ze?"cancel":e&Le?"end":e&De?"move":e&Ie?"start":""}function He(e){return e==U?"down":e==q?"up":e==H?"left":e==X?"right":""}function Xe(e,t){var n=t.manager;return n?n.get(e):e}function qe(){Ye.apply(this,arguments)}function Ue(){qe.apply(this,arguments),this.pX=null,this.pY=null}function We(){qe.apply(this,arguments)}function Ve(){Ye.apply(this,arguments),this._timer=null,this._input=null}function $e(){qe.apply(this,arguments)}function Ge(){qe.apply(this,arguments)}function Ke(){Ye.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Je(e,t){return(t=t||{}).recognizers=_(t.recognizers,Je.defaults.preset),new Qe(e,t)}Ye.prototype={defaults:{},set:function(e){return o(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(p(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Xe(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return p(e,"dropRecognizeWith",this)?this:(e=Xe(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(p(e,"requireFailure",this))return this;var t=this.requireFail;return-1===S(t,e=Xe(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(p(e,"dropRequireFailure",this))return this;e=Xe(e,this);var t=S(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Le&&r(t.options.event+Be(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Le&&r(t.options.event+Be(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Re)))return!1;e++}return!0},recognize:function(e){var t=o({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(Fe|ze|32)&&(this.state=Re),this.state=this.process(t),this.state&(Ie|De|Le|ze)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},y(qe,Ye,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Ie|De),i=this.attrTest(e);return r&&(n&Y||!i)?t|ze:r||i?n&z?t|Le:t&Ie?t|De:Ie:32}}),y(Ue,qe,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var e=this.options.direction,t=[];return e&W&&t.push(Pe),e&V&&t.push(Ae),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&W?(i=0===o?B:o<0?H:X,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?B:a<0?q:U,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return qe.prototype.attrTest.call(this,e)&&(this.state&Ie||!(this.state&Ie)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=He(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),y(We,qe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Oe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Ie)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),y(Ve,Ye,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Se]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(z|Y)&&!i)this.reset();else if(e.eventType&L)this.reset(),this._timer=f(function(){this.state=Fe,this.tryEmit()},t.time,this);else if(e.eventType&z)return Fe;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Fe&&(e&&e.eventType&z?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),y($e,qe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Oe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Ie)}}),y(Ge,qe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:W|V,pointers:1},getTouchAction:function(){return Ue.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(W|V)?t=e.overallVelocity:n&W?t=e.overallVelocityX:n&V&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&u(t)>this.options.velocity&&e.eventType&z},emit:function(e){var t=He(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),y(Ke,Ye,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Te]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&L&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=z)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||re(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Fe,this.tryEmit()},t.interval,this),Ie):Fe}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Fe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Je.VERSION="2.0.7",Je.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$e,{enable:!1}],[We,{enable:!1},["rotate"]],[Ge,{direction:W}],[Ue,{direction:W},["swipe"]],[Ke],[Ke,{event:"doubletap",taps:2},["tap"]],[Ve]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Qe(e,t){var n;this.options=o({},Je.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(R?pe:I?we:M?ke:ce))(n,Q),this.touchAction=new Me(this,this.options.touchAction),Ze(this,!0),h(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Ze(e,t){var n,r=e.element;r.style&&(h(e.options.cssProps,function(i,o){n=A(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}Qe.prototype={set:function(e){return o(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&Fe)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(Ie|De|Le)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ye)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(p(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(p(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=S(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return h(E(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==i){var n=this.handlers;return h(E(e),function(e){t?n[e]&&n[e].splice(S(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var r=n.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t,t.target.dispatchEvent(r)}(e,t);var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<r.length;)r[i](t),i++}},destroy:function(){this.element&&Ze(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(Je,{INPUT_START:L,INPUT_MOVE:F,INPUT_END:z,INPUT_CANCEL:Y,STATE_POSSIBLE:Re,STATE_BEGAN:Ie,STATE_CHANGED:De,STATE_ENDED:Le,STATE_RECOGNIZED:Fe,STATE_CANCELLED:ze,STATE_FAILED:32,DIRECTION_NONE:B,DIRECTION_LEFT:H,DIRECTION_RIGHT:X,DIRECTION_UP:q,DIRECTION_DOWN:U,DIRECTION_HORIZONTAL:W,DIRECTION_VERTICAL:V,DIRECTION_ALL:$,Manager:Qe,Input:J,TouchAction:Me,TouchInput:we,MouseInput:ce,PointerEventInput:pe,TouchMouseInput:ke,SingleTouchInput:ve,Recognizer:Ye,AttrRecognizer:qe,Tap:Ke,Pan:Ue,Swipe:Ge,Pinch:We,Rotate:$e,Press:Ve,on:x,off:k,each:h,merge:v,extend:g,assign:o,inherit:y,bindFn:b,prefixed:A}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=Je,"function"==typeof define&&define.amd?define(function(){return Je}):void 0!==t&&t.exports?t.exports=Je:e.Hammer=Je}(window,document)},{}],391:[function(e,t,n){(function(n){"use strict";var r=n.Symbol,i=e("./shams");t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./shams":392}],392:[function(e,t,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},{}],393:[function(e,t,n){var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":389}],394:[function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=r.call(e);return i.test(t)}catch(e){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!o(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},{}],395:[function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},{}],396:[function(e,t,n){"use strict";var r=e("has"),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=o(e,"lastIndex");return!(!t||!r(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,i.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},{has:393}],397:[function(e,t,n){"use strict";var r=Object.prototype.toString;if(e("has-symbols")()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;t.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(e){return!1}}}else t.exports=function(e){return!1}},{"has-symbols":391}],398:[function(e,t,n){(function(e){var r,i;r=void 0!==e?e:window||this.window||this.global,i=function(e){"use strict";var t={},n=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),r=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i="undefined"!=typeof InstallTrigger,o="ontouchstart"in document.documentElement,a=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],s={};t.children={};var c={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var l=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};l.prototype=window.Event.prototype,window.CustomEvent=l}var u=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(n,e[r],r,e);else if(e)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},d=function(e,t){var n={};return u(e,function(t,r){n[r]=e[r]}),u(t,function(e,r){n[r]=t[r]}),n},f=function(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t},p={move:function(e,t,n,o){var a;0!==o&&(e.classList.add("iziToast-dragged"),e.style.transform="translateX("+o+"px)",o>0?(a=(180-o)/180)<.3&&t.hide(d(n,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),e,"drag"):(a=(180+o)/180)<.3&&t.hide(d(n,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),e,"drag"),e.style.opacity=a,a<.3&&((r||i)&&(e.style.left=o+"px"),e.parentNode.style.opacity=.3,this.stopMoving(e,null)))},startMoving:function(e,t,n,r){r=r||window.event;var i=o?r.touches[0].clientX:r.clientX,a=e.style.transform.replace("px)",""),s=i-(a=a.replace("translateX(",""));n.transitionIn&&e.classList.remove(n.transitionIn),n.transitionInMobile&&e.classList.remove(n.transitionInMobile),e.style.transition="",o?document.ontouchmove=function(r){r.preventDefault();var i=(r=r||window.event).touches[0].clientX-s;p.move(e,t,n,i)}:document.onmousemove=function(r){r.preventDefault();var i=(r=r||window.event).clientX-s;p.move(e,t,n,i)}},stopMoving:function(e,t){o?document.ontouchmove=function(){}:document.onmousemove=function(){},e.style.opacity="",e.style.transform="",e.classList.contains("iziToast-dragged")&&(e.classList.remove("iziToast-dragged"),e.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){e.style.transition=""},400))}};return t.setSetting=function(e,n,r){t.children[e][n]=r},t.getSetting=function(e,n){return t.children[e][n]},t.destroy=function(){u(document.querySelectorAll(".iziToast-overlay"),function(e,t){e.remove()}),u(document.querySelectorAll(".iziToast-wrapper"),function(e,t){e.remove()}),u(document.querySelectorAll(".iziToast"),function(e,t){e.remove()}),this.children={},document.removeEventListener("iziToast-opened",{},!1),document.removeEventListener("iziToast-opening",{},!1),document.removeEventListener("iziToast-closing",{},!1),document.removeEventListener("iziToast-closed",{},!1),document.removeEventListener("keyup",{},!1),s={}},t.settings=function(e){t.destroy(),s=e,c=d(c,e||{})},u({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},function(e,n){t[n]=function(t){var n=d(s,t||{});n=d(e,n||{}),this.show(n)}}),t.progress=function(e,t,n){var r=this,i=t.getAttribute("data-iziToast-ref"),o=d(this.children[i],e||{}),a=t.querySelector(".iziToast-progressbar div");return{start:function(){void 0===o.time.REMAINING&&(t.classList.remove("iziToast-reseted"),null!==a&&(a.style.transition="width "+o.timeout+"ms "+o.progressBarEasing,a.style.width="0%"),o.time.START=(new Date).getTime(),o.time.END=o.time.START+o.timeout,o.time.TIMER=setTimeout(function(){clearTimeout(o.time.TIMER),t.classList.contains("iziToast-closing")||(r.hide(o,t,"timeout"),"function"==typeof n&&n.apply(r))},o.timeout),r.setSetting(i,"time",o.time))},pause:function(){if(void 0!==o.time.START&&!t.classList.contains("iziToast-paused")&&!t.classList.contains("iziToast-reseted")){if(t.classList.add("iziToast-paused"),o.time.REMAINING=o.time.END-(new Date).getTime(),clearTimeout(o.time.TIMER),r.setSetting(i,"time",o.time),null!==a){var e=window.getComputedStyle(a).getPropertyValue("width");a.style.transition="none",a.style.width=e}"function"==typeof n&&setTimeout(function(){n.apply(r)},10)}},resume:function(){void 0!==o.time.REMAINING?(t.classList.remove("iziToast-paused"),null!==a&&(a.style.transition="width "+o.time.REMAINING+"ms "+o.progressBarEasing,a.style.width="0%"),o.time.END=(new Date).getTime()+o.time.REMAINING,o.time.TIMER=setTimeout(function(){clearTimeout(o.time.TIMER),t.classList.contains("iziToast-closing")||(r.hide(o,t,"timeout"),"function"==typeof n&&n.apply(r))},o.time.REMAINING),r.setSetting(i,"time",o.time)):this.start()},reset:function(){clearTimeout(o.time.TIMER),delete o.time.REMAINING,r.setSetting(i,"time",o.time),t.classList.add("iziToast-reseted"),t.classList.remove("iziToast-paused"),null!==a&&(a.style.transition="none",a.style.width="100%"),"function"==typeof n&&setTimeout(function(){n.apply(r)},10)}}},t.hide=function(e,t,r){"object"!=typeof t&&(t=document.querySelector(t));var i=this,o=d(this.children[t.getAttribute("data-iziToast-ref")],e||{});o.closedBy=r||null,delete o.time.REMAINING,t.classList.add("iziToast-closing"),function(){var e=document.querySelector(".iziToast-overlay");if(null!==e){var t=e.getAttribute("data-iziToast-ref"),n=(t=t.split(",")).indexOf(String(o.ref));-1!==n&&t.splice(n,1),e.setAttribute("data-iziToast-ref",t.join()),0===t.length&&(e.classList.remove("fadeIn"),e.classList.add("fadeOut"),setTimeout(function(){e.remove()},700))}}(),o.transitionIn&&t.classList.remove(o.transitionIn),o.transitionInMobile&&t.classList.remove(o.transitionInMobile),n||window.innerWidth<=568?o.transitionOutMobile&&t.classList.add(o.transitionOutMobile):o.transitionOut&&t.classList.add(o.transitionOut);var a=t.parentNode.offsetHeight;t.parentNode.style.height=a+"px",t.style.pointerEvents="none",(!n||window.innerWidth>568)&&(t.parentNode.style.transitionDelay="0.2s");try{var s=new CustomEvent("iziToast-closing",{detail:o,bubbles:!0,cancelable:!0});document.dispatchEvent(s)}catch(e){console.warn(e)}setTimeout(function(){t.parentNode.style.height="0px",t.parentNode.style.overflow="",setTimeout(function(){delete i.children[o.ref],t.parentNode.remove();try{var e=new CustomEvent("iziToast-closed",{detail:o,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}void 0!==o.onClosed&&o.onClosed.apply(null,[o,t,r])},1e3)},200),void 0!==o.onClosing&&o.onClosing.apply(null,[o,t,r])},t.show=function(e){var r,i=this,l=d(s,e||{});if((l=d(c,l)).time={},null===l.id&&(l.id=(r=l.title+l.message+l.color,btoa(encodeURIComponent(r)).replace(/=/g,""))),1===l.displayMode||"once"==l.displayMode)try{if(document.querySelectorAll(".iziToast#"+l.id).length>0)return!1}catch(e){console.warn("[iziToast] Could not find an element with this selector: #"+l.id+". Try to set an valid id.")}if(2===l.displayMode||"replace"==l.displayMode)try{u(document.querySelectorAll(".iziToast#"+l.id),function(e,t){i.hide(l,e,"replaced")})}catch(e){console.warn("[iziToast] Could not find an element with this selector: #"+l.id+". Try to set an valid id.")}l.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),t.children[l.ref]=l;var h,m={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:l.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};m.toast.setAttribute("data-iziToast-ref",l.ref),m.toast.appendChild(m.toastBody),m.toastCapsule.appendChild(m.toast),function(){if(m.toast.classList.add("iziToast"),m.toast.classList.add("iziToast-opening"),m.toastCapsule.classList.add("iziToast-capsule"),m.toastBody.classList.add("iziToast-body"),m.toastTexts.classList.add("iziToast-texts"),n||window.innerWidth<=568?l.transitionInMobile&&m.toast.classList.add(l.transitionInMobile):l.transitionIn&&m.toast.classList.add(l.transitionIn),l.class){var e=l.class.split(" ");u(e,function(e,t){m.toast.classList.add(e)})}var t;l.id&&(m.toast.id=l.id),l.rtl&&(m.toast.classList.add("iziToast-rtl"),m.toast.setAttribute("dir","rtl")),l.layout>1&&m.toast.classList.add("iziToast-layout"+l.layout),l.balloon&&m.toast.classList.add("iziToast-balloon"),l.maxWidth&&(isNaN(l.maxWidth)?m.toast.style.maxWidth=l.maxWidth:m.toast.style.maxWidth=l.maxWidth+"px"),""===l.theme&&"light"===l.theme||m.toast.classList.add("iziToast-theme-"+l.theme),l.color&&("#"==(t=l.color).substring(0,1)||"rgb"==t.substring(0,3)||"hsl"==t.substring(0,3)?m.toast.style.background=l.color:m.toast.classList.add("iziToast-color-"+l.color)),l.backgroundColor&&(m.toast.style.background=l.backgroundColor,l.balloon&&(m.toast.style.borderColor=l.backgroundColor))}(),l.image&&(m.cover.classList.add("iziToast-cover"),m.cover.style.width=l.imageWidth+"px",function(e){try{return btoa(atob(e))==e}catch(e){return!1}}(l.image.replace(/ /g,""))?m.cover.style.backgroundImage="url(data:image/png;base64,"+l.image.replace(/ /g,"")+")":m.cover.style.backgroundImage="url("+l.image+")",l.rtl?m.toastBody.style.marginRight=l.imageWidth+10+"px":m.toastBody.style.marginLeft=l.imageWidth+10+"px",m.toast.appendChild(m.cover)),l.close?(m.buttonClose=document.createElement("button"),m.buttonClose.type="button",m.buttonClose.classList.add("iziToast-close"),m.buttonClose.addEventListener("click",function(e){e.target,i.hide(l,m.toast,"button")}),m.toast.appendChild(m.buttonClose)):l.rtl?m.toast.style.paddingLeft="18px":m.toast.style.paddingRight="18px",l.progressBar&&(m.progressBar=document.createElement("div"),m.progressBarDiv=document.createElement("div"),m.progressBar.classList.add("iziToast-progressbar"),m.progressBarDiv.style.background=l.progressBarColor,m.progressBar.appendChild(m.progressBarDiv),m.toast.appendChild(m.progressBar)),l.timeout&&(l.pauseOnHover&&!l.resetOnHover&&(m.toast.addEventListener("mouseenter",function(e){i.progress(l,m.toast).pause()}),m.toast.addEventListener("mouseleave",function(e){i.progress(l,m.toast).resume()})),l.resetOnHover&&(m.toast.addEventListener("mouseenter",function(e){i.progress(l,m.toast).reset()}),m.toast.addEventListener("mouseleave",function(e){i.progress(l,m.toast).start()}))),l.iconUrl?(m.icon.setAttribute("class","iziToast-icon"),m.icon.setAttribute("src",l.iconUrl)):l.icon&&(m.icon.setAttribute("class","iziToast-icon "+l.icon),l.iconText?m.icon.appendChild(document.createTextNode(l.iconText)):l.iconNode&&m.icon.appendChild(l.iconNode),l.iconColor&&(m.icon.style.color=l.iconColor)),(l.icon||l.iconUrl)&&(l.rtl?m.toastBody.style.paddingRight="33px":m.toastBody.style.paddingLeft="33px",m.toastBody.appendChild(m.icon)),l.title.length>0&&(m.strong=document.createElement("strong"),m.strong.classList.add("iziToast-title"),m.strong.appendChild(f(l.title)),m.toastTexts.appendChild(m.strong),l.titleColor&&(m.strong.style.color=l.titleColor),l.titleSize&&(isNaN(l.titleSize)?m.strong.style.fontSize=l.titleSize:m.strong.style.fontSize=l.titleSize+"px"),l.titleLineHeight&&(isNaN(l.titleSize)?m.strong.style.lineHeight=l.titleLineHeight:m.strong.style.lineHeight=l.titleLineHeight+"px")),l.message.length>0&&(m.p=document.createElement("p"),m.p.classList.add("iziToast-message"),m.p.appendChild(f(l.message)),m.toastTexts.appendChild(m.p),l.messageColor&&(m.p.style.color=l.messageColor),l.messageSize&&(isNaN(l.titleSize)?m.p.style.fontSize=l.messageSize:m.p.style.fontSize=l.messageSize+"px"),l.messageLineHeight&&(isNaN(l.titleSize)?m.p.style.lineHeight=l.messageLineHeight:m.p.style.lineHeight=l.messageLineHeight+"px")),l.title.length>0&&l.message.length>0&&(l.rtl?m.strong.style.marginLeft="10px":2===l.layout||l.rtl||(m.strong.style.marginRight="10px")),m.toastBody.appendChild(m.toastTexts),l.inputs.length>0&&(m.inputs.classList.add("iziToast-inputs"),u(l.inputs,function(e,t){m.inputs.appendChild(f(e[0])),(h=m.inputs.childNodes)[t].classList.add("iziToast-inputs-child"),e[3]&&setTimeout(function(){h[t].focus()},300),h[t].addEventListener(e[1],function(t){return(0,e[2])(i,m.toast,this,t)})}),m.toastBody.appendChild(m.inputs)),l.buttons.length>0&&(m.buttons.classList.add("iziToast-buttons"),u(l.buttons,function(e,t){m.buttons.appendChild(f(e[0]));var n=m.buttons.childNodes;n[t].classList.add("iziToast-buttons-child"),e[2]&&setTimeout(function(){n[t].focus()},300),n[t].addEventListener("click",function(t){return t.preventDefault(),(0,e[1])(i,m.toast,this,t,h)})})),m.toastBody.appendChild(m.buttons),l.message.length>0&&(l.inputs.length>0||l.buttons.length>0)&&(m.p.style.marginBottom="0"),(l.inputs.length>0||l.buttons.length>0)&&(l.rtl?m.toastTexts.style.marginLeft="10px":m.toastTexts.style.marginRight="10px",l.inputs.length>0&&l.buttons.length>0&&(l.rtl?m.inputs.style.marginLeft="8px":m.inputs.style.marginRight="8px")),m.toastCapsule.style.visibility="hidden",setTimeout(function(){var e=m.toast.offsetHeight,t=m.toast.currentStyle||window.getComputedStyle(m.toast),n=t.marginTop;n=n.split("px"),n=parseInt(n[0]);var r=t.marginBottom;r=r.split("px"),r=parseInt(r[0]),m.toastCapsule.style.visibility="",m.toastCapsule.style.height=e+r+n+"px",setTimeout(function(){m.toastCapsule.style.height="auto",l.target&&(m.toastCapsule.style.overflow="visible")},500),l.timeout&&i.progress(l,m.toast).start()},100),function(){var e=l.position;if(l.target)m.wrapper=document.querySelector(l.target),m.wrapper.classList.add("iziToast-target"),l.targetFirst?m.wrapper.insertBefore(m.toastCapsule,m.wrapper.firstChild):m.wrapper.appendChild(m.toastCapsule);else{if(-1==a.indexOf(l.position))return void console.warn("[iziToast] Incorrect position.\nIt can be › "+a);e=n||window.innerWidth<=568?"bottomLeft"==l.position||"bottomRight"==l.position||"bottomCenter"==l.position?"iziToast-wrapper-bottomCenter":"topLeft"==l.position||"topRight"==l.position||"topCenter"==l.position?"iziToast-wrapper-topCenter":"iziToast-wrapper-center":"iziToast-wrapper-"+e,m.wrapper=document.querySelector(".iziToast-wrapper."+e),m.wrapper||(m.wrapper=document.createElement("div"),m.wrapper.classList.add("iziToast-wrapper"),m.wrapper.classList.add(e),document.body.appendChild(m.wrapper)),"topLeft"==l.position||"topCenter"==l.position||"topRight"==l.position?m.wrapper.insertBefore(m.toastCapsule,m.wrapper.firstChild):m.wrapper.appendChild(m.toastCapsule)}isNaN(l.zindex)?console.warn("[iziToast] Invalid zIndex."):m.wrapper.style.zIndex=l.zindex}(),l.overlay&&(null!==document.querySelector(".iziToast-overlay.fadeIn")?(m.overlay=document.querySelector(".iziToast-overlay"),m.overlay.setAttribute("data-iziToast-ref",m.overlay.getAttribute("data-iziToast-ref")+","+l.ref),isNaN(l.zindex)||null===l.zindex||(m.overlay.style.zIndex=l.zindex-1)):(m.overlay.classList.add("iziToast-overlay"),m.overlay.classList.add("fadeIn"),m.overlay.style.background=l.overlayColor,m.overlay.setAttribute("data-iziToast-ref",l.ref),isNaN(l.zindex)||null===l.zindex||(m.overlay.style.zIndex=l.zindex-1),document.querySelector("body").appendChild(m.overlay)),l.overlayClose?(m.overlay.removeEventListener("click",{}),m.overlay.addEventListener("click",function(e){i.hide(l,m.toast,"overlay")})):m.overlay.removeEventListener("click",{})),function(){if(l.animateInside){m.toast.classList.add("iziToast-animateInside");var e=[200,100,300];"bounceInLeft"!=l.transitionIn&&"bounceInRight"!=l.transitionIn||(e=[400,200,400]),l.title.length>0&&setTimeout(function(){m.strong.classList.add("slideIn")},e[0]),l.message.length>0&&setTimeout(function(){m.p.classList.add("slideIn")},e[1]),(l.icon||l.iconUrl)&&setTimeout(function(){m.icon.classList.add("revealIn")},e[2]);var t=150;l.buttons.length>0&&m.buttons&&setTimeout(function(){u(m.buttons.childNodes,function(e,n){setTimeout(function(){e.classList.add("revealIn")},t),t+=150})},l.inputs.length>0?150:0),l.inputs.length>0&&m.inputs&&(t=150,u(m.inputs.childNodes,function(e,n){setTimeout(function(){e.classList.add("revealIn")},t),t+=150}))}}(),l.onOpening.apply(null,[l,m.toast]);try{var g=new CustomEvent("iziToast-opening",{detail:l,bubbles:!0,cancelable:!0});document.dispatchEvent(g)}catch(e){console.warn(e)}setTimeout(function(){m.toast.classList.remove("iziToast-opening"),m.toast.classList.add("iziToast-opened");try{var e=new CustomEvent("iziToast-opened",{detail:l,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}l.onOpened.apply(null,[l,m.toast])},1e3),l.drag&&(o?(m.toast.addEventListener("touchstart",function(e){p.startMoving(this,i,l,e)},!1),m.toast.addEventListener("touchend",function(e){p.stopMoving(this,e)},!1)):(m.toast.addEventListener("mousedown",function(e){e.preventDefault(),p.startMoving(this,i,l,e)},!1),m.toast.addEventListener("mouseup",function(e){e.preventDefault(),p.stopMoving(this,e)},!1))),l.closeOnEscape&&document.addEventListener("keyup",function(e){27==(e=e||window.event).keyCode&&i.hide(l,m.toast,"esc")}),l.closeOnClick&&m.toast.addEventListener("click",function(e){i.hide(l,m.toast,"toast")}),i.toast=m.toast},t},"function"==typeof define&&define.amd?define([],i()):"object"==typeof n?t.exports=i():r.iziToast=i()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],399:[function(e,t,n){var r;r=function(e){"use strict";var t;e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,e.ui&&e.widget||(e.cleanData=(t=e.cleanData,function(n){var r,i,o;for(o=0;null!=n[o];o++){i=n[o];try{(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove")}catch(e){}}t(n)}));var n=null,r=!1,i=e(window),o=0,a={},s={},c={},l={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var r;if(t||n){if("maintain"===t&&"maintain"===n)r=e.$menu.position();else{var o=e.$menu.offsetParent().offset();r={top:n-o.top,left:t-o.left}}var a=i.scrollTop()+i.height(),s=i.scrollLeft()+i.width(),c=e.$menu.outerHeight(),l=e.$menu.outerWidth();r.top+c>a&&(r.top-=c),r.top<0&&(r.top=0),r.left+l>s&&(r.left-=l),r.left<0&&(r.left=0),e.$menu.css(r)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(t){if(void 0!==t)if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{preShow:e.noop,show:e.noop,hide:e.noop,activated:e.noop},callback:null,items:{}},u={timer:null,pageX:null,pageY:null},d={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var r=e(this);if(!1!==t.data.events.preShow(r,t)&&("right"===t.data.trigger&&(t.preventDefault(),t.stopImmediatePropagation()),!("right"!==t.data.trigger&&"demand"!==t.data.trigger&&t.originalEvent||!(void 0===t.mouseButton||!t.data||"left"===t.data.trigger&&0===t.mouseButton||"right"===t.data.trigger&&2===t.mouseButton)||r.hasClass("context-menu-active")||r.hasClass("context-menu-disabled")))){if(n=r,t.data.build){var i=t.data.build(n,t);if(!1===i)return;if(t.data=e.extend(!0,{},l,t.data,i||{}),!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");t.data.$trigger=n,f.create(t.data)}f.show.call(r,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var r=e(this);n&&n.length&&!n.is(r)&&n.data("contextMenu").$menu.trigger("contextmenu:hide"),2===t.button&&(n=r.data("contextMenuActive",!0))},mouseup:function(t){var r=e(this);r.data("contextMenuActive")&&n&&n.length&&n.is(r)&&!r.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),n=r,r.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),r.removeData("contextMenuActive")},mouseenter:function(t){var r=e(this),i=e(t.relatedTarget),o=e(document);i.is(".context-menu-list")||i.closest(".context-menu-list").length||n&&n.length||(u.pageX=t.pageX,u.pageY=t.pageY,u.data=t.data,o.on("mousemove.contextMenuShow",d.mousemove),u.timer=setTimeout(function(){u.timer=null,o.off("mousemove.contextMenuShow"),n=r,r.trigger(e.Event("contextmenu",{data:u.data,pageX:u.pageX,pageY:u.pageY}))},t.data.delay))},mousemove:function(e){u.pageX=e.pageX,u.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(!n.is(".context-menu-list")&&!n.closest(".context-menu-list").length){try{clearTimeout(u.timer)}catch(t){}u.timer=null}},layerClick:function(t){var n,r,o=e(this).data("contextMenuRoot"),a=t.button,s=t.pageX,c=t.pageY,l=void 0===s;t.preventDefault(),setTimeout(function(){if(l)null!=o&&null!==o.$menu&&void 0!==o.$menu&&o.$menu.trigger("contextmenu:hide");else{var u,d="left"===o.trigger&&0===a||"right"===o.trigger&&2===a;if(document.elementFromPoint&&o.$layer){if(o.$layer.hide(),(n=document.elementFromPoint(s-i.scrollLeft(),c-i.scrollTop())).isContentEditable){var f=document.createRange(),p=window.getSelection();f.selectNode(n),f.collapse(!0),p.removeAllRanges(),p.addRange(f)}e(n).trigger(t),o.$layer.show()}if(o.hideOnSecondTrigger&&d&&null!==o.$menu&&void 0!==o.$menu)o.$menu.trigger("contextmenu:hide");else{if(o.reposition&&d)if(document.elementFromPoint){if(o.$trigger.is(n))return void o.position.call(o.$trigger,o,s,c)}else if(r=o.$trigger.offset(),u=e(window),r.top+=u.scrollTop(),r.top<=t.pageY&&(r.left+=u.scrollLeft(),r.left<=t.pageX&&(r.bottom=r.top+o.$trigger.outerHeight(),r.bottom>=t.pageY&&(r.right=r.left+o.$trigger.outerWidth(),r.right>=t.pageX))))return void o.position.call(o.$trigger,o,s,c);n&&d&&o.$trigger.one("contextmenu:hidden",function(){e(n).contextMenu({x:s,y:c,button:a})}),null!=o&&null!==o.$menu&&void 0!==o.$menu&&o.$menu.trigger("contextmenu:hide")}}},50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};n&&(t=n.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var r=0,i=function(e){""!==e.style.zIndex?r=e.style.zIndex:null!==e.offsetParent&&void 0!==e.offsetParent?i(e.offsetParent):null!==e.parentElement&&void 0!==e.parentElement&&i(e.parentElement)};if(i(e.target),!(t.$menu&&parseInt(r,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(d.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));break;case 40:if(d.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var o=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=o)}break;case 39:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var a=t.$selected.data("contextMenu")||{};if(a.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,a.$selected=null,void a.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(d.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void d.keyStop(e,t);case 27:return d.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide"));default:var s=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[s])return void t.accesskeys[s].$node.trigger(t.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},r=e(this).data("contextMenuRoot")||{};if(n.$selected){var i=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=i}for(var o=n.$menu.children(),a=n.$selected&&n.$selected.prev().length?n.$selected.prev():o.last(),s=a;a.hasClass(r.classNames.disabled)||a.hasClass(r.classNames.notSelectable)||a.is(":hidden");)if((a=a.prev().length?a.prev():o.last()).is(s))return;n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(a.get(0),t);var c=a.find("input, textarea, select");c.length&&c.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},r=e(this).data("contextMenuRoot")||{};if(n.$selected){var i=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=i}for(var o=n.$menu.children(),a=n.$selected&&n.$selected.next().length?n.$selected.next():o.first(),s=a;a.hasClass(r.classNames.disabled)||a.hasClass(r.classNames.notSelectable)||a.is(":hidden");)if((a=a.next().length?a.next():o.first()).is(s))return;n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(a.get(0),t);var c=a.find("input, textarea, select");c.length&&c.focus()},focusInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),r=n.contextMenu,i=n.contextMenuRoot;i.$selected=r.$selected=t,i.isInput=r.isInput=!0},blurInput:function(){var t=e(this).closest(".context-menu-item").data(),n=t.contextMenu;t.contextMenuRoot.isInput=n.isInput=!1},menuMouseenter:function(){e(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),r=n.data(),i=r.contextMenu,o=r.contextMenuRoot;o.hovering=!0,t&&o.$layer&&o.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(i.$menu?i:o).$menu.children("."+o.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),n.hasClass(o.classNames.disabled)||n.hasClass(o.classNames.notSelectable)?i.$selected=null:n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),r=n.data(),i=r.contextMenu,o=r.contextMenuRoot;if(o!==i&&o.$layer&&o.$layer.is(t.relatedTarget))return void 0!==o.$selected&&null!==o.$selected&&o.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(o.$selected=i.$selected=i.$node);i&&i.$menu&&i.$menu.hasClass("context-menu-visible")||n.trigger("contextmenu:blur")},itemClick:function(t){var n,r=e(this),i=r.data(),o=i.contextMenu,a=i.contextMenuRoot,s=i.contextMenuKey;if(!(!o.items[s]||r.is("."+a.classNames.disabled+", .context-menu-separator, ."+a.classNames.notSelectable)||r.is(".context-menu-submenu")&&!1===a.selectableSubMenu)){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(o.callbacks[s])&&Object.prototype.hasOwnProperty.call(o.callbacks,s))n=o.callbacks[s];else{if(!e.isFunction(a.callback))return;n=a.callback}!1!==n.call(a.$trigger,s,a,t)?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&f.update.call(a.$trigger,a)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var r=e(this).data("contextMenuRoot");f.hide.call(r.$trigger,r,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,o=r.contextMenuRoot;n.hasClass(o.classNames.disabled)||n.hasClass(o.classNames.notSelectable)||(n.addClass([o.classNames.hover,o.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(o.classNames.visible).filter("."+o.classNames.hover).trigger("contextmenu:blur"),i.$selected=o.$selected=n,i&&i.$node&&i.$node.hasClass("context-menu-submenu")&&i.$node.addClass(o.classNames.hover),i.$node&&o.positionSubmenu.call(i.$node,i.$menu))},blurItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,o=r.contextMenuRoot;i.autoHide&&n.removeClass(o.classNames.visible),n.removeClass(o.classNames.hover),i.$selected=null}},f={show:function(t,r,i){var o=e(this),a={};if(e("#context-menu-layer").trigger("mousedown"),t.$trigger=o,!1!==t.events.show.call(o,t))if(!1!==f.update.call(o,t)){if(t.position.call(o,t,r,i),t.zIndex){var s=t.zIndex;"function"==typeof t.zIndex&&(s=t.zIndex.call(o,t)),a.zIndex=function(e){for(var t=0,n=e;t=Math.max(t,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return t}(o)+s}f.layer.call(t.$menu,t,a.zIndex),t.$menu.find("ul").css("zIndex",a.zIndex+1),t.$menu.css(a)[t.animation.show](t.animation.duration,function(){o.trigger("contextmenu:visible"),f.activated(t),t.events.activated(t)}),o.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",d.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",function(e){var n=o.offset();n.right=n.left+o.outerWidth(),n.bottom=n.top+o.outerHeight(),!t.$layer||t.hovering||e.pageX>=n.left&&e.pageX<=n.right&&e.pageY>=n.top&&e.pageY<=n.bottom||setTimeout(function(){t.hovering||null===t.$menu||void 0===t.$menu||t.$menu.trigger("contextmenu:hide")},50)})}else n=null;else n=null},hide:function(t,r){var i=e(this);if(t||(t=i.data("contextMenu")||{}),r||!t.events||!1!==t.events.hide.call(i,t)){if(i.removeData("contextMenu").removeClass("context-menu-active"),t.$layer){setTimeout((o=t.$layer,function(){o.remove()}),10);try{delete t.$layer}catch(e){t.$layer=null}}var o;n=null,t.$menu.find("."+t.classNames.hover).trigger("contextmenu:blur"),t.$selected=null,t.$menu.find("."+t.classNames.visible).removeClass(t.classNames.visible),e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),t.$menu&&t.$menu[t.animation.hide](t.animation.duration,function(){t.build&&(t.$menu.remove(),e.each(t,function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:t[e]=void 0;try{delete t[e]}catch(e){}return!0}})),setTimeout(function(){i.trigger("contextmenu:hidden")},10)})}},create:function(t,n){function r(t){var n=e("<span></span>");if(t._accesskey)t._beforeAccesskey&&n.append(document.createTextNode(t._beforeAccesskey)),e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(n),t._afterAccesskey&&n.append(document.createTextNode(t._afterAccesskey));else if(t.isHtmlName){if(void 0!==t.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");n.html(t.name)}else n.text(t.name);return n}void 0===n&&(n=t),t.$menu=e('<ul class="context-menu-list"></ul>').addClass(t.className||"").data({contextMenu:t,contextMenuRoot:n}),e.each(["callbacks","commands","inputs"],function(e,r){t[r]={},n[r]||(n[r]={})}),n.accesskeys||(n.accesskeys={}),e.each(t.items,function(i,o){var a=e('<li class="context-menu-item"></li>').addClass(o.className||""),s=null,l=null;if(a.on("click",e.noop),"string"!=typeof o&&"cm_separator"!==o.type||(o={type:"cm_seperator"}),o.$node=a.data({contextMenu:t,contextMenuRoot:n,contextMenuKey:i}),void 0!==o.accesskey)for(var u,p=function(e){for(var t,n=e.split(/\s+/),r=[],i=0;t=n[i];i++)t=t.charAt(0).toUpperCase(),r.push(t);return r}(o.accesskey),h=0;u=p[h];h++)if(!n.accesskeys[u]){n.accesskeys[u]=o;var m=o.name.match(new RegExp("^(.*?)("+u+")(.*)$","i"));m&&(o._beforeAccesskey=m[1],o._accesskey=m[2],o._afterAccesskey=m[3]);break}if(o.type&&c[o.type])c[o.type].call(a,o,t,n),e.each([t,n],function(n,r){r.commands[i]=o,!e.isFunction(o.callback)||void 0!==r.callbacks[i]&&void 0!==t.type||(r.callbacks[i]=o.callback)});else{switch("cm_seperator"===o.type?a.addClass("context-menu-separator "+n.classNames.notSelectable):"html"===o.type?a.addClass("context-menu-html "+n.classNames.notSelectable):"sub"!==o.type&&o.type?(s=e("<label></label>").appendTo(a),r(o).appendTo(s),a.addClass("context-menu-input"),t.hasTypes=!0,e.each([t,n],function(e,t){t.commands[i]=o,t.inputs[i]=o})):o.items&&(o.type="sub"),o.type){case"cm_seperator":break;case"text":l=e('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+i).val(o.value||"").appendTo(s);break;case"textarea":l=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+i).val(o.value||"").appendTo(s),o.height&&l.height(o.height);break;case"checkbox":l=e('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+i).val(o.value||"").prop("checked",!!o.selected).prependTo(s);break;case"radio":l=e('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(s);break;case"select":l=e('<select name=""></select>').attr("name","context-menu-input-"+i).appendTo(s),o.options&&(e.each(o.options,function(t,n){e("<option></option>").val(t).text(n).appendTo(l)}),l.val(o.selected));break;case"sub":r(o).appendTo(a),o.appendTo=o.$node,a.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null,"function"==typeof o.items.then?f.processPromises(o,n,o.items):f.create(o,n);break;case"html":e(o.html).appendTo(a);break;default:e.each([t,n],function(n,r){r.commands[i]=o,!e.isFunction(o.callback)||void 0!==r.callbacks[i]&&void 0!==t.type||(r.callbacks[i]=o.callback)}),r(o).appendTo(a)}o.type&&"sub"!==o.type&&"html"!==o.type&&"cm_seperator"!==o.type&&(l.on("focus",d.focusInput).on("blur",d.blurInput),o.events&&l.on(o.events,t)),o.icon&&(e.isFunction(o.icon)?o._icon=o.icon.call(this,this,a,i,o):"string"!=typeof o.icon||"fab "!==o.icon.substring(0,4)&&"fas "!==o.icon.substring(0,4)&&"far "!==o.icon.substring(0,4)&&"fal "!==o.icon.substring(0,4)?"string"==typeof o.icon&&"fa-"===o.icon.substring(0,3)?o._icon=n.classNames.icon+" "+n.classNames.icon+"--fa fa "+o.icon:o._icon=n.classNames.icon+" "+n.classNames.icon+"-"+o.icon:(a.addClass(n.classNames.icon+" "+n.classNames.icon+"--fa5"),o._icon=e('<i class="'+o.icon+'"></i>')),"string"==typeof o._icon?a.addClass(o._icon):a.prepend(o._icon))}o.$input=l,o.$label=s,a.appendTo(t.$menu),!t.hasTypes&&e.support.eventSelectstart&&a.on("selectstart.disableTextSelect",d.abortevent)}),t.$node||t.$menu.css("display","none").addClass("context-menu-root"),t.$menu.appendTo(t.appendTo||document.body)},resize:function(t,n){var r;t.css({position:"absolute",display:"block"}),t.data("width",(r=t.get(0)).getBoundingClientRect?Math.ceil(r.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each(function(){f.resize(e(this),!0)}),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return e(this).data("width")})},update:function(t,n){var r=this;void 0===n&&(n=t,f.resize(t.$menu));var i=!1;return t.$menu.children().each(function(){var o,a=e(this),s=a.data("contextMenuKey"),c=t.items[s],l=e.isFunction(c.disabled)&&c.disabled.call(r,s,n)||!0===c.disabled;if((o=e.isFunction(c.visible)?c.visible.call(r,s,n):void 0===c.visible||!0===c.visible)&&(i=!0),a[o?"show":"hide"](),a[l?"addClass":"removeClass"](n.classNames.disabled),e.isFunction(c.icon)){a.removeClass(c._icon);var u=c.icon.call(this,r,a,s,c);"string"==typeof u?a.addClass(u):a.prepend(u)}if(c.type)switch(a.find("input, select, textarea").prop("disabled",l),c.type){case"text":case"textarea":c.$input.val(c.value||"");break;case"checkbox":case"radio":c.$input.val(c.value||"").prop("checked",!!c.selected);break;case"select":c.$input.val((0===c.selected?"0":c.selected)||"")}c.$menu&&(f.update.call(r,c,n)&&(i=!0))}),i},layer:function(t,n){var r=t.$layer=e('<div id="context-menu-layer"></div>').css({height:i.height(),width:i.width(),display:"block",position:"fixed","z-index":n,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",d.abortevent).on("mousedown",d.layerClick);return void 0===document.body.style.maxWidth&&r.css({position:"absolute",height:e(document).height()}),r},processPromises:function(e,t,n){function r(e,t,n){void 0===n?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),i(e,t,n)}function i(e,t,n){void 0!==t.$menu&&t.$menu.is(":visible")&&(e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,f.create(e,t,!0),f.update(e,t),t.positionSubmenu.call(e.$node,e.$menu))}e.$node.addClass(t.classNames.iconLoadingClass),n.then(function(e,t,n){void 0===n&&r(void 0),i(e,t,n)}.bind(this,e,t),r.bind(this,e,t))},activated:function(t){var n=t.$menu,r=n.offset(),i=e(window).height(),o=e(window).scrollTop(),a=n.height();a>i?n.css({height:i+"px","overflow-x":"hidden","overflow-y":"auto",top:o+"px"}):(r.top<o||r.top+a>o+i)&&n.css({top:o+"px"})}};function p(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}e.fn.contextMenu=function(t){var n=this,r=t;if(this.length>0)if(void 0===t)this.first().trigger("contextmenu");else if(void 0!==t.x&&void 0!==t.y)this.first().trigger(e.Event("contextmenu",{pageX:t.x,pageY:t.y,mouseButton:t.button}));else if("hide"===t){var i=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;i&&i.trigger("contextmenu:hide")}else"destroy"===t?e.contextMenu("destroy",{context:this}):e.isPlainObject(t)?(t.context=this,e.contextMenu("create",t)):t?this.removeClass("context-menu-disabled"):t||this.addClass("context-menu-disabled");else e.each(s,function(){this.selector===n.selector&&(r.data=this,e.extend(r.data,{trigger:"demand"}))}),d.contextmenu.call(r.target,r);return this},e.contextMenu=function(t,n){"string"!=typeof t&&(n=t,t="create"),"string"==typeof n?n={selector:n}:void 0===n&&(n={});var i=e.extend(!0,{},l,n||{}),c=e(document),u=c,p=!1;switch(i.context&&i.context.length?(u=e(i.context).first(),i.context=u.get(0),p=!e(i.context).is(document)):i.context=document,t){case"update":if(p)f.update(u);else for(var h in s)s.hasOwnProperty(h)&&f.update(s[h]);break;case"create":if(!i.selector)throw new Error("No selector specified");if(i.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+i.selector+'" as it contains a reserved className');if(!i.build&&(!i.items||e.isEmptyObject(i.items)))throw new Error("No Items specified");if(o++,i.ns=".contextMenu"+o,p||(a[i.selector]=i.ns),s[i.ns]=i,i.trigger||(i.trigger="right"),!r){var m="click"===i.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",g={"contextmenu:focus.contextMenu":d.focusItem,"contextmenu:blur.contextMenu":d.blurItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.itemMouseenter,"mouseleave.contextMenu":d.itemMouseleave};g[m]=d.itemClick,c.on({"contextmenu:hide.contextMenu":d.hideMenu,"prevcommand.contextMenu":d.prevItem,"nextcommand.contextMenu":d.nextItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.menuMouseenter,"mouseleave.contextMenu":d.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",d.inputClick).on(g,".context-menu-item"),r=!0}switch(u.on("contextmenu"+i.ns,i.selector,i,d.contextmenu),p&&u.on("remove"+i.ns,function(){e(this).contextMenu("destroy")}),i.trigger){case"hover":u.on("mouseenter"+i.ns,i.selector,i,d.mouseenter).on("mouseleave"+i.ns,i.selector,i,d.mouseleave);break;case"left":u.on("click"+i.ns,i.selector,i,d.click);break;case"touchstart":u.on("touchstart"+i.ns,i.selector,i,d.click)}i.build||f.create(i);break;case"destroy":var v;if(p){var y=i.context;e.each(s,function(t,n){if(!n)return!0;if(!e(y).is(n.selector))return!0;(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&v.trigger("contextmenu:hide",{force:!0});try{s[n.ns].$menu&&s[n.ns].$menu.remove(),delete s[n.ns]}catch(e){s[n.ns]=null}return e(n.context).off(n.ns),!0})}else if(i.selector){if(a[i.selector]){(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(i.selector)&&v.trigger("contextmenu:hide",{force:!0});try{s[a[i.selector]].$menu&&s[a[i.selector]].$menu.remove(),delete s[a[i.selector]]}catch(e){s[a[i.selector]]=null}c.off(a[i.selector])}}else c.off(".contextMenu .contextMenuAutoHide"),e.each(s,function(t,n){e(n.context).off(n.ns)}),a={},s={},o=0,r=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof n&&n)&&e('menu[type="context"]').each(function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+t+'"')}return this},e.contextMenu.setInputValues=function(t,n){void 0===n&&(n={}),e.each(t.inputs,function(e,t){switch(t.type){case"text":case"textarea":t.value=n[e]||"";break;case"checkbox":t.selected=!!n[e];break;case"radio":t.selected=(n[t.radio]||"")===t.value;break;case"select":t.selected=n[e]||""}})},e.contextMenu.getInputValues=function(t,n){return void 0===n&&(n={}),e.each(t.inputs,function(e,t){switch(t.type){case"text":case"textarea":case"select":n[e]=t.$input.val();break;case"checkbox":n[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(n[t.radio]=t.value)}}),n},e.contextMenu.fromMenu=function(t){var n={};return function t(n,r,i){return i||(i=0),r.each(function(){var r,o,a=e(this),s=this,c=this.nodeName.toLowerCase();switch("label"===c&&a.find("input, textarea, select").length&&(r=a.text(),c=(s=(a=a.children().first()).get(0)).nodeName.toLowerCase()),c){case"menu":o={name:a.attr("label"),items:{}},i=t(o.items,a.children(),i);break;case"a":case"button":o={name:a.text(),disabled:!!a.attr("disabled"),callback:function(){a.get(0).click()}};break;case"menuitem":case"command":switch(a.attr("type")){case void 0:case"command":case"menuitem":o={name:a.attr("label"),disabled:!!a.attr("disabled"),icon:a.attr("icon"),callback:function(){a.get(0).click()}};break;case"checkbox":o={type:"checkbox",disabled:!!a.attr("disabled"),name:a.attr("label"),selected:!!a.attr("checked")};break;case"radio":o={type:"radio",disabled:!!a.attr("disabled"),name:a.attr("label"),radio:a.attr("radiogroup"),value:a.attr("id"),selected:!!a.attr("checked")};break;default:o=void 0}break;case"hr":o="-------";break;case"input":switch(a.attr("type")){case"text":o={type:"text",name:r||p(s),disabled:!!a.attr("disabled"),value:a.val()};break;case"checkbox":o={type:"checkbox",name:r||p(s),disabled:!!a.attr("disabled"),selected:!!a.attr("checked")};break;case"radio":o={type:"radio",name:r||p(s),disabled:!!a.attr("disabled"),radio:!!a.attr("name"),value:a.val(),selected:!!a.attr("checked")};break;default:o=void 0}break;case"select":o={type:"select",name:r||p(s),disabled:!!a.attr("disabled"),selected:a.val(),options:{}},a.children().each(function(){o.options[this.value]=e(this).text()});break;case"textarea":o={type:"textarea",name:r||p(s),disabled:!!a.attr("disabled"),value:a.val()};break;case"label":break;default:o={type:"html",html:a.clone(!0)}}o&&(n["key"+ ++i]=o)}),i}(n,e(t).children()),n},e.contextMenu.defaults=l,e.contextMenu.types=c,e.contextMenu.handle=d,e.contextMenu.op=f,e.contextMenu.menus=s},"function"==typeof define&&define.amd?define(["jquery"],r):r("object"==typeof n?e("jquery"):jQuery)},{jquery:400}],400:[function(e,t,n){!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,c=n.indexOf,l={},u=l.toString,d=l.hasOwnProperty,f=d.toString,p=f.call(Object),h={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},g=function(e){return null!=e&&e===e.window},v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var i,o,a=(n=n||r).createElement("script");if(a.text=e,t)for(i in v)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&a.setAttribute(i,o);n.head.appendChild(a).parentNode.removeChild(a)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[u.call(e)]||"object":typeof e}var w=function(e,t){return new w.fn.init(e,t)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!m(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.4.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||w.isPlainObject(n)?n:{},i=!1,a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=i(e))||"function"==typeof(n=d.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){y(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(x(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(x(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var k=function(e){var t,n,r,i,o,a,s,c,l,u,d,f,p,h,m,g,v,y,b,w="sizzle"+1*new Date,_=e.document,x=0,k=0,j=ce(),C=ce(),E=ce(),S=ce(),T=function(e,t){return e===t&&(d=!0),0},O={}.hasOwnProperty,A=[],P=A.pop,N=A.push,M=A.push,R=A.slice,I=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+L+"*\\]",Y=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",B=new RegExp(L+"+","g"),H=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),X=new RegExp("^"+L+"*,"+L+"*"),q=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp(L+"|>"),W=new RegExp(Y),V=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+Y),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(A=R.call(_.childNodes),_.childNodes),A[_.childNodes.length].nodeType}catch(e){M={apply:A.length?function(e,t){N.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,l,u,d,h,v,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!i&&((t?t.ownerDocument||t:_)!==p&&f(t),t=t||p,m)){if(11!==x&&(d=Z.exec(e)))if(o=d[1]){if(9===x){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(y&&(l=y.getElementById(o))&&b(t,l)&&l.id===o)return r.push(l),r}else{if(d[2])return M.apply(r,t.getElementsByTagName(e)),r;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return M.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!g||!g.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===x&&U.test(e)){for((u=t.getAttribute("id"))?u=u.replace(re,ie):t.setAttribute("id",u=w),s=(h=a(e)).length;s--;)h[s]="#"+u+" "+be(h[s]);v=h.join(","),y=ee.test(e)&&ve(t.parentNode)||t}try{return M.apply(r,y.querySelectorAll(v)),r}catch(t){S(e,!0)}finally{u===w&&t.removeAttribute("id")}}}return c(e.replace(H,"$1"),t,r,i)}function ce(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function le(e){return e[w]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return le(function(t){return t=+t,le(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!G.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:_;return a!==p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,m=!o(p),_!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Q.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",Y)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),b=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===_&&b(_,e)?-1:t===p||t.ownerDocument===_&&b(_,t)?1:u?I(u,e)-I(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:u?I(u,e)-I(u,t):0;if(i===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?fe(a[r],s[r]):a[r]===_?-1:s[r]===_?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),n.matchesSelector&&m&&!S[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){S(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:le,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(b=(p=(l=(u=(d=(f=g)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===x&&l[1])&&l[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[x,p,b];break}}else if(y&&(b=p=(l=(u=(d=(f=t)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===x&&l[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[x,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=I(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:le(function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[w]?le(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:le(function(e){return function(t){return se(e,t).length>0}}),contains:le(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:le(function(e){return V.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:ge(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=k++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,c){var l,u,d,f=[x,s];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=u[o])&&l[0]===x&&l[1]===s)return f[2]=l[2];if(u[o]=f,f[2]=e(t,n,c))return!0}return!1}}function _e(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ke(e,t,n,r,i,o){return r&&!r[w]&&(r=ke(r)),i&&!i[w]&&(i=ke(i,o)),le(function(o,a,s,c){var l,u,d,f=[],p=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:xe(m,f,e,s,c),v=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,v,s,c),r)for(l=xe(v,p),r(l,[],s,c),u=l.length;u--;)(d=l[u])&&(v[p[u]]=!(g[p[u]]=d));if(o){if(i||e){if(i){for(l=[],u=v.length;u--;)(d=v[u])&&l.push(g[u]=d);i(null,v=[],l,c)}for(u=v.length;u--;)(d=v[u])&&(l=i?I(o,d):f[u])>-1&&(o[l]=!(a[l]=d))}}else v=xe(v===a?v.splice(h,v.length):v),i?i(null,a,v,c):M.apply(a,v)})}function je(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],c=a?1:0,u=we(function(e){return e===t},s,!0),d=we(function(e){return I(t,e)>-1},s,!0),f=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,i}];c<o;c++)if(n=r.relative[e[c].type])f=[we(_e(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[w]){for(i=++c;i<o&&!r.relative[e[i].type];i++);return ke(c>1&&_e(f),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(H,"$1"),n,c<i&&je(e.slice(c,i)),i<o&&je(e=e.slice(i)),i<o&&be(e))}f.push(n)}return _e(f)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,i,o,a,s,c,l,u=C[e+" "];if(u)return t?0:u.slice(0);for(s=e,c=[],l=r.preFilter;s;){for(a in n&&!(i=X.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(i=$[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,c).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=E[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=je(t[n]))[w]?i.push(s):o.push(s);(s=E(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,c,u){var d,h,g,v=0,y="0",b=o&&[],w=[],_=l,k=o||i&&r.find.TAG("*",u),j=x+=null==_?1:Math.random()||.1,C=k.length;for(u&&(l=a===p||a||u);y!==C&&null!=(d=k[y]);y++){if(i&&d){for(h=0,a||d.ownerDocument===p||(f(d),s=!m);g=e[h++];)if(g(d,a||p,s)){c.push(d);break}u&&(x=j)}n&&((d=!g&&d)&&v--,o&&b.push(d))}if(v+=y,n&&y!==v){for(h=0;g=t[h++];)g(b,w,a,s);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=P.call(c));w=xe(w)}M.apply(c,w),u&&!o&&w.length>0&&v+t.length>1&&se.uniqueSort(c)}return u&&(x=j,l=_),b};return n?le(o):o}(o,i))).selector=e}return s},c=se.select=function(e,t,n,i){var o,c,l,u,d,f="function"==typeof e&&e,p=!i&&a(e=f.selector||e);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=$.needsContext.test(e)?0:c.length;o--&&(l=c[o],!r.relative[u=l.type]);)if((d=r.find[u])&&(i=d(l.matches[0].replace(te,ne),ee.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(o,1),!(e=i.length&&be(c)))return M.apply(n,i),n;break}}return(f||s(e,p))(i,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de(D,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(e);w.find=k,w.expr=k.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=k.uniqueSort,w.text=k.getText,w.isXMLDoc=k.isXML,w.contains=k.contains,w.escapeSelector=k.escape;var j=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},E=w.expr.match.needsContext;function S(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,n){return m(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return c.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&E.test(e)?w(e):e||[],!1).length}});var A,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||A,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),T.test(i[1])&&w.isPlainObject(t))for(i in t)m(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,A=w(r);var N=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!E.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(w(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return j(e,"parentNode")},parentsUntil:function(e,t,n){return j(e,"parentNode",n)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return j(e,"nextSibling")},prevAll:function(e){return j(e,"previousSibling")},nextUntil:function(e,t,n){return j(e,"nextSibling",n)},prevUntil:function(e,t,n){return j(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(S(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(M[e]||w.uniqueSort(i),N.test(e)&&i.reverse()),this.pushStack(i)}});var I=/[^\x20\t\r\n\f]+/g;function D(e){return e}function L(e){throw e}function F(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(I)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,c=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){m(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=m(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,c=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(l)?i?l.call(e,a(o,n,D,i),a(o,n,L,i)):(o++,l.call(e,a(o,n,D,i),a(o,n,L,i),a(o,n,D,n.notifyWith))):(r!==D&&(s=void 0,c=[e]),(i||n.resolveWith)(s,c))}},u=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,u.stackTrace),t+1>=o&&(r!==L&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),e.setTimeout(u))}}return w.Deferred(function(e){n[0][3].add(a(0,e,m(i)?i:D,e.notifyWith)),n[1][3].add(a(0,e,m(t)?t:D)),n[2][3].add(a(0,e,m(r)?r:L))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(F(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||m(i[n]&&i[n].then)))return a.then();for(;n--;)F(i[n],s(n),a.reject);return a.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&z.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var Y=w.Deferred();function B(){r.removeEventListener("DOMContentLoaded",B),e.removeEventListener("load",B),w.ready()}w.fn.ready=function(e){return Y.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||Y.resolveWith(r,[w]))}}),w.ready.then=Y.then,"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",B),e.addEventListener("load",B));var H=function(e,t,n,r,i,o,a){var s=0,c=e.length,l=null==n;if("object"===b(n))for(s in i=!0,n)H(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):o},X=/^-ms-/,q=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function W(e){return e.replace(X,"ms-").replace(q,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function $(){this.expando=w.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[W(t)]=n;else for(r in t)i[W(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(W):(t=W(t))in r?[t]:t.match(I)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var G=new $,K=new $,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:J.test(e)?JSON.parse(e):e)}(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||G.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return G.access(e,t,n)},_removeData:function(e,t){G.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!G.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=W(r.slice(5)),Z(o,r,i[r]));G.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):H(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=K.get(o,e))?n:void 0!==(n=Z(o,e))?n:void 0;this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=G.get(e,t),n&&(!r||Array.isArray(n)?r=G.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){w.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return G.get(e,n)||G.access(e,n,{empty:w.Callbacks("once memory").add(function(){G.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=G.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=r.documentElement,ie=function(e){return w.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function ce(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},c=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),u=e.nodeType&&(w.cssNumber[t]||"px"!==l&&+c)&&te.exec(w.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;a--;)w.style(e,t,u+l),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),u/=o;u*=2,w.style(e,t,u+l),n=n||[]}return n&&(u=+u||+c||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=i)),i}var le={};function ue(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function de(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=G.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ue(r))):"none"!==n&&(i[o]="none",G.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&S(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)G.set(e[n],"globalEval",!t||G.get(t[n],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ye,be,we=/<|&#?\w+;/;function _e(e,t,n,r,i){for(var o,a,s,c,l,u,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===b(o))w.merge(f,o.nodeType?[o]:o);else if(we.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(pe.exec(o)||["",""])[1].toLowerCase(),c=me[s]||me._default,a.innerHTML=c[1]+w.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;w.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",p=0;o=f[p++];)if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=ie(o),a=ge(d.appendChild(o),"script"),l&&ve(a),n)for(u=0;o=a[u++];)he.test(o.type||"")&&n.push(o);return d}ye=r.createDocumentFragment().appendChild(r.createElement("div")),(be=r.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),ye.appendChild(be),h.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var xe=/^key/,ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,je=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return r.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}function Oe(e,t,n){n?(G.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,i,a=G.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),G.set(this,t,a),r=n(this,t),this[t](),a!==(i=G.get(this,t))||r?G.set(this,t,!1):i={},a!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else a.length&&(G.set(this,t,{value:w.event.trigger(w.extend(a[0],w.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===G.get(e,t)&&w.event.add(e,t,Ce)}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,l,u,d,f,p,h,m,g=G.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(re,i),n.guid||(n.guid=w.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(I)||[""]).length;l--;)p=m=(s=je.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=w.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=w.event.special[p]||{},u=w.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=c[p])||((f=c[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),w.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,l,u,d,f,p,h,m,g=G.hasData(e)&&G.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(I)||[""]).length;l--;)if(p=m=(s=je.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=w.event.special[p]||{},f=c[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||w.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)w.event.remove(e,p+t[l],n,r,!0);w.isEmptyObject(c)&&G.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=w.event.fix(e),c=new Array(arguments.length),l=(G.get(this,"events")||{})[s.type]||[],u=w.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=w.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((w.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,c))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&S(t,"input")&&Oe(t,"click",Ce),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&S(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&S(t,"input")&&G.get(t,"click")||S(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return Oe(this,e,Se),!1},trigger:function(){return Oe(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){w.event.remove(this,e,n,t)})}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pe=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return S(e,"table")&&S(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function De(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s,c,l;if(1===t.nodeType){if(G.hasData(e)&&(o=G.access(e),a=G.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n]);K.hasData(e)&&(s=K.access(e),c=w.extend({},s),K.set(t,c))}}function Fe(e,t,n,r){t=a.apply([],t);var i,o,s,c,l,u,d=0,f=e.length,p=f-1,g=t[0],v=m(g);if(v||f>1&&"string"==typeof g&&!h.checkClone&&Ne.test(g))return e.each(function(i){var o=e.eq(i);v&&(t[0]=g.call(this,i,o.html())),Fe(o,t,n,r)});if(f&&(o=(i=_e(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(c=(s=w.map(ge(i,"script"),Ie)).length;d<f;d++)l=i,d!==p&&(l=w.clone(l,!0,!0),c&&w.merge(s,ge(l,"script"))),n.call(e[d],l,d);if(c)for(u=s[s.length-1].ownerDocument,w.map(s,De),d=0;d<c;d++)l=s[d],he.test(l.type||"")&&!G.access(l,"globalEval")&&w.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):y(l.textContent.replace(Me,""),l,u))}return e}function ze(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ge(r)),r.parentNode&&(n&&ie(r)&&ve(ge(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ae,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,c,l,u=e.cloneNode(!0),d=ie(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ge(u),r=0,i=(o=ge(e)).length;r<i;r++)s=o[r],c=a[r],l=void 0,"input"===(l=c.nodeName.toLowerCase())&&fe.test(s.type)?c.checked=s.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ge(e),a=a||ge(u),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,u);return(a=ge(u,"script")).length>0&&ve(a,!d&&ge(e,"script")),u},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[G.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[G.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return ze(this,e,!0)},remove:function(e){return ze(this,e)},text:function(e){return H(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var Ye=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Be=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},He=new RegExp(ne.join("|"),"i");function Xe(e,t,n){var r,i,o,a,s=e.style;return(n=n||Be(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&Ye.test(a)&&He.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(l).appendChild(u);var t=e.getComputedStyle(u);i="1%"!==t.top,c=12===n(t.marginLeft),u.style.right="60%",s=36===n(t.right),o=36===n(t.width),u.style.position="absolute",a=12===n(u.offsetWidth/3),re.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,c,l=r.createElement("div"),u=r.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),a}}))}();var Ue=["Webkit","Moz","ms"],We=r.createElement("div").style,Ve={};function $e(e){var t=w.cssProps[e]||Ve[e];return t||(e in We?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;n--;)if((e=Ue[n]+t)in We)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,o){var a="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=w.css(e,n+ne[a],!0,i)),r?("content"===n&&(c-=w.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(c-=w.css(e,"border"+ne[a]+"Width",!0,i))):(c+=w.css(e,"padding"+ne[a],!0,i),"padding"!==n?c+=w.css(e,"border"+ne[a]+"Width",!0,i):s+=w.css(e,"border"+ne[a]+"Width",!0,i));return!r&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c}function tt(e,t,n){var r=Be(e),i=(!h.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),o=i,a=Xe(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ye.test(a)){if(!n)return a;a="auto"}return(!h.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===w.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(i?"border":"content"),o,r,a)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Xe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=W(t),c=Ke.test(t),l=e.style;if(c||(t=$e(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=ce(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=W(t);return Ke.test(t)||(t=$e(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Xe(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,r):se(e,Je,function(){return tt(e,t,r)})},set:function(e,n,r){var i,o=Be(e),a=!h.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===w.css(e,"boxSizing",!1,o),c=r?et(e,t,r,s,o):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-et(e,t,"border",!1,o)-.5)),c&&(i=te.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ze(0,n,c)}}}),w.cssHooks.marginLeft=qe(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Xe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ne[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ze)}),w.fn.extend({css:function(e,t){return H(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Be(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=nt,nt.prototype={constructor:nt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}},nt.prototype.init.prototype=nt.prototype,nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},nt.propHooks.scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=nt.prototype.init,w.fx.step={};var rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){it&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(st):e.setTimeout(st,w.fx.interval),w.fx.tick())}function ct(){return e.setTimeout(function(){rt=void 0}),rt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(e,t,n){var r,i,o=0,a=dt.prefilters.length,s=w.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=rt||ct(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=W(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,l.opts.specialEasing);o<a;o++)if(r=dt.prefilters[o].call(l,e,u,l.opts))return m(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(u,ut,l),m(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(I);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,c,l,u,d="width"in t||"height"in t,f=this,p={},h=e.style,m=e.nodeType&&ae(e),g=G.get(e,"fxshow");for(r in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||w.style(e,r)}if((c=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=g&&g.display)&&(l=G.get(e,"display")),"none"===(u=w.css(e,"display"))&&(l?u=l:(de([e],!0),l=e.style.display||l,u=w.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===w.css(e,"float")&&(c||(f.done(function(){h.display=l}),null==l&&(u=h.display,l="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,p)c||(g?"hidden"in g&&(m=g.hidden):g=G.access(e,"fxshow",{display:l}),o&&(g.hidden=!m),m&&de([e],!0),f.done(function(){for(r in m||de([e]),G.remove(e,"fxshow"),p)w.style(e,r,p[r])})),c=ut(m?g[r]:0,r,f),r in g||(g[r]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=dt(this,w.extend({},e),o);(i||G.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=G.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&at.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=G.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,r,i)}}),w.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),rt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){it||(it=!0,st())},w.fx.stop=function(){it=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var ft,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return H(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&S(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(I);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||w.find.attr;pt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=pt[a],pt[a]=i,i=null!=n(e,t,r)?a:null,pt[a]=o),i}});var ht=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function gt(e){return(e.match(I)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}w.fn.extend({prop:function(e,t){return H(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,c=0;if(m(e))return this.each(function(t){w(this).addClass(e.call(this,t,vt(this)))});if((t=yt(e)).length)for(;n=this[c++];)if(i=vt(n),r=1===n.nodeType&&" "+gt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=gt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,c=0;if(m(e))return this.each(function(t){w(this).removeClass(e.call(this,t,vt(this)))});if(!arguments.length)return this.attr("class","");if((t=yt(e)).length)for(;n=this[c++];)if(i=vt(n),r=1===n.nodeType&&" "+gt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=gt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):m(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,vt(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=w(this),a=yt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&G.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":G.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+gt(vt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=m(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:gt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?o+1:i.length;for(r=o<0?c:a?o:0;r<c;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=w.makeArray(t),a=i.length;a--;)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,_t=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,c,l,u,f,p,h,v=[i||r],y=d.call(t,"type")?t.type:t,b=d.call(t,"namespace")?t.namespace.split("."):[];if(s=h=c=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[w.expando]?t:new w.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),p=w.event.special[y]||{},o||!p.trigger||!1!==p.trigger.apply(i,n))){if(!o&&!p.noBubble&&!g(i)){for(l=p.delegateType||y,wt.test(l+y)||(s=s.parentNode);s;s=s.parentNode)v.push(s),c=s;c===(i.ownerDocument||r)&&v.push(c.defaultView||c.parentWindow||e)}for(a=0;(s=v[a++])&&!t.isPropagationStopped();)h=s,t.type=a>1?l:p.bindType||y,(f=(G.get(s,"events")||{})[t.type]&&G.get(s,"handle"))&&f.apply(s,n),(f=u&&s[u])&&f.apply&&V(s)&&(t.result=f.apply(s,n),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),n)||!V(i)||u&&m(i[y])&&!g(i)&&((c=i[u])&&(i[u]=null),w.event.triggered=y,t.isPropagationStopped()&&h.addEventListener(y,_t),i[y](),t.isPropagationStopped()&&h.removeEventListener(y,_t),w.event.triggered=void 0,c&&(i[u]=c)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=G.access(r,t);i||r.addEventListener(e,n,!0),G.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=G.access(r,t)-1;i?G.access(r,t,i):(r.removeEventListener(e,n,!0),G.remove(r,t))}}});var xt=e.location,kt=Date.now(),jt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||Ct.test(e)?r(e,i):Ot(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==b(t))r(e,t);else for(i in t)Ot(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)Ot(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Tt.test(this.nodeName)&&!St.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var At=/%20/g,Pt=/#.*$/,Nt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,It=/^\/\//,Dt={},Lt={},Ft="*/".concat("*"),zt=r.createElement("a");function Yt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(I)||[];if(m(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Bt(e,t,n,r){var i={},o=e===Lt;function a(s){var c;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),c}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Ht(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}zt.href=xt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,w.ajaxSettings),t):Ht(w.ajaxSettings,e)},ajaxPrefilter:Yt(Dt),ajaxTransport:Yt(Lt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,c,l,u,d,f,p,h=w.ajaxSetup({},n),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?w(m):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=h.statusCode||{},_={},x={},k="canceled",j={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Mt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)j.always(e[j.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return i&&i.abort(t),C(0,t),this}};if(v.promise(j),h.url=((t||h.url||xt.href)+"").replace(It,xt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(I)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=zt.protocol+"//"+zt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),Bt(Dt,h,n,j),u)return j;for(f in(d=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Rt.test(h.type),o=h.url.replace(Pt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(At,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(jt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Nt,"$1"),p=(jt.test(o)?"&":"?")+"_="+kt+++p),h.url=o+p),h.ifModified&&(w.lastModified[o]&&j.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&j.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&j.setRequestHeader("Content-Type",h.contentType),j.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ft+"; q=0.01":""):h.accepts["*"]),h.headers)j.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(m,j,h)||u))return j.abort();if(k="abort",y.add(h.complete),j.done(h.success),j.fail(h.error),i=Bt(Lt,h,n,j)){if(j.readyState=1,d&&g.trigger("ajaxSend",[j,h]),u)return j;h.async&&h.timeout>0&&(c=e.setTimeout(function(){j.abort("timeout")},h.timeout));try{u=!1,i.send(_,C)}catch(e){if(u)throw e;C(-1,e)}}else C(-1,"No Transport");function C(t,n,r,s){var l,f,p,_,x,k=n;u||(u=!0,c&&e.clearTimeout(c),i=void 0,a=s||"",j.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(_=function(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(h,j,r)),_=function(e,t,n,r){var i,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(h,_,j,l),l?(h.ifModified&&((x=j.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=x),(x=j.getResponseHeader("etag"))&&(w.etag[o]=x)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=_.state,f=_.data,l=!(p=_.error))):(p=k,!t&&k||(k="error",t<0&&(t=0))),j.status=t,j.statusText=(n||k)+"",l?v.resolveWith(m,[f,k,j]):v.rejectWith(m,[j,k,p]),j.statusCode(b),b=void 0,d&&g.trigger(l?"ajaxSuccess":"ajaxError",[j,h,l?f:p]),y.fireWith(m,[j,k]),d&&(g.trigger("ajaxComplete",[j,h]),--w.active||w.event.trigger("ajaxStop")))}return j},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return m(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e,t){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=m(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},qt=w.ajaxSettings.xhr();h.cors=!!qt&&"withCredentials"in qt,h.ajax=qt=!!qt,w.ajaxTransport(function(t){var n,r;if(h.cors||qt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,o){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}});var Ut,Wt=[],Vt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||w.expando+"_"+kt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Vt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Vt,"$1"+i):!1!==t.jsonp&&(t.url+=(jt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Wt.push(i)),a&&m(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=((Ut=r.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),a=!n&&[],(o=T.exec(e))?[t.createElement(o[1])]:(o=_e([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes)));var i,o,a},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=gt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,l=w.css(e,"position"),u=w(e),d={};"static"===l&&(e.style.position="relative"),s=u.offset(),o=w.css(e,"top"),c=w.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),m(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||re})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return H(this,function(e,r,i){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=qe(h.pixelPosition,function(e,n){if(n)return n=Xe(e,t),Ye.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return H(this,function(t,n,i){var o;return g(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=o.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(o.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=S,w.isFunction=m,w.isWindow=g,w.camelCase=W,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var $t=e.jQuery,Gt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Gt),t&&e.jQuery===w&&(e.jQuery=$t),w},t||(e.jQuery=e.$=w),w})},{}],401:[function(e,t,n){var r,i;r=this,i=function(){"use strict";var n,r;function i(){return n.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return At(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=h(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?f(h(t),e):h(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var v=i.momentProperties=[];function y(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)s(i=t[r=v[n]])||(e[r]=i);return e}var b=!1;function w(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function _(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function x(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function k(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=x(t)),n}function j(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&k(e[r])!==k(t[r]))&&a++;return a+o}function C(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return f(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var S,T={};function O(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),T[e]||(C(t),T[e]=!0)}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var n,r=f({},e);for(n in t)d(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&a(e[n])&&(r[n]=f({},r[n]));return r}function N(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var M={};function R(e,t){var n=e.toLowerCase();M[n]=M[n+"s"]=M[t]=e}function I(e){return"string"==typeof e?M[e]||M[e.toLowerCase()]:void 0}function D(e){var t,n,r={};for(n in e)d(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var L={};function F(e,t){L[e]=t}function z(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Y=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},X={};function q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(X[e]=i),t&&(X[t[0]]=function(){return z(i.apply(this,arguments),t[1],t[2])}),n&&(X[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function U(e,t){return e.isValid()?(t=W(t,e.localeData()),H[t]=H[t]||function(e){var t,n,r,i=e.match(Y);for(t=0,n=i.length;t<n;t++)X[i[t]]?i[t]=X[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=A(i[r])?i[r].call(t,e):i[r];return o}}(t),H[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(B.lastIndex=0;n>=0&&B.test(e);)e=e.replace(B,r),B.lastIndex=0,n-=1;return e}var V=/\d/,$=/\d\d/,G=/\d{3}/,K=/\d{4}/,J=/[+-]?\d{6}/,Q=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ie=/\d+/,oe=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={};function ue(e,t,n){le[e]=A(t)?t:function(e,r){return e&&n?n:t}}function de(e,t){return d(le,e)?le[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function he(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=k(e)}),n=0;n<e.length;n++)pe[e[n]]=r}function me(e,t){he(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ge(e,t,n){null!=t&&d(pe,e)&&pe[e](t,n._a,n,e)}var ve=0,ye=1,be=2,we=3,_e=4,xe=5,ke=6,je=7,Ce=8;function Ee(e){return Se(e)?366:365}function Se(e){return e%4==0&&e%100!=0||e%400==0}q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),R("year","y"),F("year",1),ue("Y",oe),ue("YY",Q,$),ue("YYYY",ne,K),ue("YYYYY",re,J),ue("YYYYYY",re,J),he(["YYYYY","YYYYYY"],ve),he("YYYY",function(e,t){t[ve]=2===e.length?i.parseTwoDigitYear(e):k(e)}),he("YY",function(e,t){t[ve]=i.parseTwoDigitYear(e)}),he("Y",function(e,t){t[ve]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)};var Te,Oe=Ae("FullYear",!0);function Ae(e,t){return function(n){return null!=n?(Ne(this,e,n),i.updateOffset(this,t),this):Pe(this,e)}}function Pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ne(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Se(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Me(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Me(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Se(e)?29:28:31-r%7%2}Te=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),F("month",8),ue("M",Q),ue("MM",Q,$),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),he(["M","MM"],function(e,t){t[ye]=k(e)-1}),he(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ye]=i:h(n).invalidMonth=e});var Re=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=k(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Me(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Fe(e){return null!=e?(Le(this,e),i.updateOffset(this,!0),this):Pe(this,"Month")}var ze=ce,Ye=ce;function Be(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),i[t]=fe(i[t]);for(t=0;t<24;t++)o[t]=fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function He(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Xe(e,t,n){var r=7+t-n;return-((7+He(e,0,r).getUTCDay()-t)%7)+r-1}function qe(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+Xe(e,r,i);return s<=0?a=Ee(o=e-1)+s:s>Ee(e)?(o=e+1,a=s-Ee(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Ue(e,t,n){var r,i,o=Xe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+We(i=e.year()-1,t,n):a>We(e.year(),t,n)?(r=a-We(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function We(e,t,n){var r=Xe(e,t,n),i=Xe(e+1,t,n);return(Ee(e)-r+i)/7}function Ve(e,t){return e.slice(t,7).concat(e.slice(0,t))}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),F("week",5),F("isoWeek",5),ue("w",Q),ue("ww",Q,$),ue("W",Q),ue("WW",Q,$),me(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=k(e)}),q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ue("d",Q),ue("e",Q),ue("E",Q),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),me(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),me(["d","e","E"],function(e,t,n,r){t[r]=k(e)});var $e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Je=ce,Qe=ce,Ze=ce;function et(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),c.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(e),s.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),c[t]=fe(c[t]),l[t]=fe(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function tt(){return this.hours()%12||12}function nt(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rt(e,t){return t._meridiemParse}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,tt),q("k",["kk",2],0,function(){return this.hours()||24}),q("hmm",0,0,function(){return""+tt.apply(this)+z(this.minutes(),2)}),q("hmmss",0,0,function(){return""+tt.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),nt("a",!0),nt("A",!1),R("hour","h"),F("hour",13),ue("a",rt),ue("A",rt),ue("H",Q),ue("h",Q),ue("k",Q),ue("HH",Q,$),ue("hh",Q,$),ue("kk",Q,$),ue("hmm",Z),ue("hmmss",ee),ue("Hmm",Z),ue("Hmmss",ee),he(["H","HH"],we),he(["k","kk"],function(e,t,n){var r=k(e);t[we]=24===r?0:r}),he(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),he(["h","hh"],function(e,t,n){t[we]=k(e),h(n).bigHour=!0}),he("hmm",function(e,t,n){var r=e.length-2;t[we]=k(e.substr(0,r)),t[_e]=k(e.substr(r)),h(n).bigHour=!0}),he("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[we]=k(e.substr(0,r)),t[_e]=k(e.substr(r,2)),t[xe]=k(e.substr(i)),h(n).bigHour=!0}),he("Hmm",function(e,t,n){var r=e.length-2;t[we]=k(e.substr(0,r)),t[_e]=k(e.substr(r))}),he("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[we]=k(e.substr(0,r)),t[_e]=k(e.substr(r,2)),t[xe]=k(e.substr(i))});var it,ot=Ae("Hours",!0),at={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:De,week:{dow:0,doy:6},weekdays:$e,weekdaysMin:Ke,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},st={},ct={};function lt(e){return e?e.toLowerCase().replace("_","-"):e}function ut(n){var r=null;if(!st[n]&&void 0!==t&&t&&t.exports)try{r=it._abbr,e("./locale/"+n),dt(r)}catch(e){}return st[n]}function dt(e,t){var n;return e&&((n=s(t)?pt(e):ft(e,t))?it=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),it._abbr}function ft(e,t){if(null!==t){var n,r=at;if(t.abbr=e,null!=st[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])r=st[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return ct[t.parentLocale]||(ct[t.parentLocale]=[]),ct[t.parentLocale].push({name:e,config:t}),null;r=n._config}return st[e]=new N(P(r,t)),ct[e]&&ct[e].forEach(function(e){ft(e.name,e.config)}),dt(e),st[e]}return delete st[e],null}function pt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return it;if(!o(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=lt(e[o]).split("-")).length,n=(n=lt(e[o+1]))?n.split("-"):null;t>0;){if(r=ut(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&j(i,n,!0)>=t-1)break;t--}o++}return it}(e)}function ht(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[ye]<0||n[ye]>11?ye:n[be]<1||n[be]>Me(n[ve],n[ye])?be:n[we]<0||n[we]>24||24===n[we]&&(0!==n[_e]||0!==n[xe]||0!==n[ke])?we:n[_e]<0||n[_e]>59?_e:n[xe]<0||n[xe]>59?xe:n[ke]<0||n[ke]>999?ke:-1,h(e)._overflowDayOfYear&&(t<ve||t>be)&&(t=be),h(e)._overflowWeeks&&-1===t&&(t=je),h(e)._overflowWeekday&&-1===t&&(t=Ce),h(e).overflow=t),e}function mt(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t,n,r,o,a,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ye]&&function(e){var t,n,r,i,o,a,s,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=mt(t.GG,e._a[ve],Ue(Pt(),1,4).year),r=mt(t.W,1),((i=mt(t.E,1))<1||i>7)&&(c=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var l=Ue(Pt(),o,a);n=mt(t.gg,e._a[ve],l.year),r=mt(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(c=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o}r<1||r>We(n,o,a)?h(e)._overflowWeeks=!0:null!=c?h(e)._overflowWeekday=!0:(s=qe(n,r,i,o,a),e._a[ve]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=mt(e._a[ve],r[ve]),(e._dayOfYear>Ee(a)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=He(a,0,e._dayOfYear),e._a[ye]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[we]&&0===e._a[_e]&&0===e._a[xe]&&0===e._a[ke]&&(e._nextDay=!0,e._a[we]=0),e._d=(e._useUTC?He:function(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[we]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}var vt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xt=/^\/?Date\((\-?\d+)/i;function kt(e){var t,n,r,i,o,a,s=e._i,c=vt.exec(s)||yt.exec(s);if(c){for(h(e).iso=!0,t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(c[1])){i=wt[t][0],r=!1!==wt[t][2];break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(c[3])){o=(c[2]||" ")+_t[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(c[4]){if(!bt.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Tt(e)}else e._isValid=!1}var jt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ct(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Et={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,n,r,i,o,a,s,c=jt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){var l=(t=c[4],n=c[3],r=c[2],i=c[5],o=c[6],a=c[7],s=[Ct(t),De.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(o,10)],a&&s.push(parseInt(a,10)),s);if(!function(e,t,n){return!e||Ge.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],l,e))return;e._a=l,e._tzm=function(e,t,n){if(e)return Et[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(c[8],c[9],c[10]),e._d=He.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function Tt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],h(e).empty=!0;var t,n,r,o,a,s=""+e._i,c=s.length,l=0;for(r=W(e._f,e._locale).match(Y)||[],t=0;t<r.length;t++)o=r[t],(n=(s.match(de(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),l+=n.length),X[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),ge(o,n,e)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=c-l,s.length>0&&h(e).unusedInput.push(s),e._a[we]<=12&&!0===h(e).bigHour&&e._a[we]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[we]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[we],e._meridiem),gt(e),ht(e)}else St(e);else kt(e)}function Ot(e){var t=e._i,n=e._f;return e._locale=e._locale||pt(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new w(ht(t)):(l(t)?e._d=t:o(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Tt(t),m(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));f(e,n||t)}(e):n?Tt(e):function(e){var t=e._i;s(t)?e._d=new Date(i.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=xt.exec(e._i);null===t?(kt(e),!1===e._isValid&&(delete e._isValid,St(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),gt(e)):a(t)?function(e){if(!e._d){var t=D(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),gt(e)}}(e):c(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function At(e,t,n,r,i){var s,c={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=i,c._l=n,c._i=e,c._f=t,c._strict=r,(s=new w(ht(Ot(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Pt(e,t,n,r){return At(e,t,n,r,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Nt=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Mt=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()});function Rt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var It=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Dt(e){var t=D(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Te.call(It,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<It.length;++r)if(e[It[r]]){if(n)return!1;parseFloat(e[It[r]])!==k(e[It[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=pt(),this._bubble()}function Lt(e){return e instanceof Dt}function Ft(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function zt(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+z(~~(e/60),2)+t+z(~~e%60,2)})}zt("Z",":"),zt("ZZ",""),ue("Z",se),ue("ZZ",se),he(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Bt(se,e)});var Yt=/([\+\-]|\d\d)/gi;function Bt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Yt)||["-",0,0],i=60*r[1]+k(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ht(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(_(e)||l(e)?e.valueOf():Pt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Pt(e).local()}function Xt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Ut=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vt(e,t){var n,r,i,o=e,a=null;return Lt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Ut.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:k(a[be])*n,h:k(a[we])*n,m:k(a[_e])*n,s:k(a[xe])*n,ms:k(Ft(1e3*a[ke]))*n}):(a=Wt.exec(e))?(n="-"===a[1]?-1:1,o={y:$t(a[2],n),M:$t(a[3],n),w:$t(a[4],n),d:$t(a[5],n),h:$t(a[6],n),m:$t(a[7],n),s:$t(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ht(t,e),e.isBefore(t)?n=Gt(e,t):((n=Gt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Pt(o.from),Pt(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Dt(o),Lt(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function $t(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Jt(this,Vt(n="string"==typeof n?+n:n,r),e),this}}function Jt(e,t,n,r){var o=t._milliseconds,a=Ft(t._days),s=Ft(t._months);e.isValid()&&(r=null==r||r,s&&Le(e,Pe(e,"Month")+s*n),a&&Ne(e,"Date",Pe(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,a||s))}Vt.fn=Dt.prototype,Vt.invalid=function(){return Vt(NaN)};var Qt=Kt(1,"add"),Zt=Kt(-1,"subtract");function en(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=pt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function rn(){return this._locale}var on=1e3,an=60*on,sn=60*an,cn=3506328*sn;function ln(e,t){return(e%t+t)%t}function un(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-cn:new Date(e,t,n).valueOf()}function dn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-cn:Date.UTC(e,t,n)}function fn(e,t){q(0,[e,e.length],0,t)}function pn(e,t,n,r,i){var o;return null==e?Ue(this,r,i).year:(t>(o=We(e,r,i))&&(t=o),function(e,t,n,r,i){var o=qe(e,t,n,r,i),a=He(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,r,i))}q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),fn("gggg","weekYear"),fn("ggggg","weekYear"),fn("GGGG","isoWeekYear"),fn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ue("G",oe),ue("g",oe),ue("GG",Q,$),ue("gg",Q,$),ue("GGGG",ne,K),ue("gggg",ne,K),ue("GGGGG",re,J),ue("ggggg",re,J),me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=k(e)}),me(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),R("quarter","Q"),F("quarter",7),ue("Q",V),he("Q",function(e,t){t[ye]=3*(k(e)-1)}),q("D",["DD",2],"Do","date"),R("date","D"),F("date",9),ue("D",Q),ue("DD",Q,$),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),he(["D","DD"],be),he("Do",function(e,t){t[be]=k(e.match(Q)[0])});var hn=Ae("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),F("dayOfYear",4),ue("DDD",te),ue("DDDD",G),he(["DDD","DDDD"],function(e,t,n){n._dayOfYear=k(e)}),q("m",["mm",2],0,"minute"),R("minute","m"),F("minute",14),ue("m",Q),ue("mm",Q,$),he(["m","mm"],_e);var mn=Ae("Minutes",!1);q("s",["ss",2],0,"second"),R("second","s"),F("second",15),ue("s",Q),ue("ss",Q,$),he(["s","ss"],xe);var gn,vn=Ae("Seconds",!1);for(q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),F("millisecond",16),ue("S",te,V),ue("SS",te,$),ue("SSS",te,G),gn="SSSS";gn.length<=9;gn+="S")ue(gn,ie);function yn(e,t){t[ke]=k(1e3*("0."+e))}for(gn="S";gn.length<=9;gn+="S")he(gn,yn);var bn=Ae("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var wn=w.prototype;function _n(e){return e}wn.add=Qt,wn.calendar=function(e,t){var n=e||Pt(),r=Ht(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=t&&(A(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Pt(n)))},wn.clone=function(){return new w(this)},wn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ht(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":o=en(this,r)/12;break;case"month":o=en(this,r);break;case"quarter":o=en(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:x(o)},wn.endOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?dn:un;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=sn-ln(t+(this._isUTC?0:this.utcOffset()*an),sn)-1;break;case"minute":t=this._d.valueOf(),t+=an-ln(t,an)-1;break;case"second":t=this._d.valueOf(),t+=on-ln(t,on)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},wn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)},wn.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Pt(e).isValid())?Vt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.fromNow=function(e){return this.from(Pt(),e)},wn.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Pt(e).isValid())?Vt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.toNow=function(e){return this.to(Pt(),e)},wn.get=function(e){return A(this[e=I(e)])?this[e]():this},wn.invalidAt=function(){return h(this).overflow},wn.isAfter=function(e,t){var n=_(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},wn.isBefore=function(e,t){var n=_(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},wn.isBetween=function(e,t,n,r){var i=_(e)?e:Pt(e),o=_(t)?t:Pt(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},wn.isSame=function(e,t){var n,r=_(e)?e:Pt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},wn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},wn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},wn.isValid=function(){return m(this)},wn.lang=nn,wn.locale=tn,wn.localeData=rn,wn.max=Mt,wn.min=Nt,wn.parsingFlags=function(){return f({},h(this))},wn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:L[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=D(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(A(this[e=I(e)]))return this[e](t);return this},wn.startOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?dn:un;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ln(t+(this._isUTC?0:this.utcOffset()*an),sn);break;case"minute":t=this._d.valueOf(),t-=ln(t,an);break;case"second":t=this._d.valueOf(),t-=ln(t,on)}return this._d.setTime(t),i.updateOffset(this,!0),this},wn.subtract=Zt,wn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},wn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},wn.toDate=function(){return new Date(this.valueOf())},wn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},wn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},wn.toJSON=function(){return this.isValid()?this.toISOString():null},wn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wn.unix=function(){return Math.floor(this.valueOf()/1e3)},wn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wn.year=Oe,wn.isLeapYear=function(){return Se(this.year())},wn.weekYear=function(e){return pn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wn.isoWeekYear=function(e){return pn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},wn.quarter=wn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},wn.month=Fe,wn.daysInMonth=function(){return Me(this.year(),this.month())},wn.week=wn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},wn.isoWeek=wn.isoWeeks=function(e){var t=Ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},wn.weeksInYear=function(){var e=this.localeData()._week;return We(this.year(),e.dow,e.doy)},wn.isoWeeksInYear=function(){return We(this.year(),1,4)},wn.date=hn,wn.day=wn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},wn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},wn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},wn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},wn.hour=wn.hours=ot,wn.minute=wn.minutes=mn,wn.second=wn.seconds=vn,wn.millisecond=wn.milliseconds=bn,wn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Bt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Xt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Jt(this,Vt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Xt(this)},wn.utc=function(e){return this.utcOffset(0,e)},wn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Xt(this),"m")),this},wn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bt(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},wn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},wn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wn.isLocal=function(){return!!this.isValid()&&!this._isUTC},wn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wn.isUtc=qt,wn.isUTC=qt,wn.zoneAbbr=function(){return this._isUTC?"UTC":""},wn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wn.dates=E("dates accessor is deprecated. Use date instead.",hn),wn.months=E("months accessor is deprecated. Use month instead",Fe),wn.years=E("years accessor is deprecated. Use year instead",Oe),wn.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),wn.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Ot(e))._a){var t=e._isUTC?p(e._a):Pt(e._a);this._isDSTShifted=this.isValid()&&j(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var xn=N.prototype;function kn(e,t,n,r){var i=pt(),o=p().set(r,t);return i[n](o,e)}function jn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return kn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=kn(e,r,n,"month");return i}function Cn(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=pt(),a=e?o._week.dow:0;if(null!=n)return kn(t,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=kn(t,(i+a)%7,r,"day");return s}xn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r},xn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},xn.invalidDate=function(){return this._invalidDate},xn.ordinal=function(e){return this._ordinal.replace("%d",e)},xn.preparse=_n,xn.postformat=_n,xn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)},xn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)},xn.set=function(e){var t,n;for(n in e)A(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},xn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Re).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},xn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Re.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},xn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Te.call(this._shortMonthsParse,a))?i:null:-1!==(i=Te.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Te.call(this._shortMonthsParse,a))?i:-1!==(i=Te.call(this._longMonthsParse,a))?i:null:-1!==(i=Te.call(this._longMonthsParse,a))?i:-1!==(i=Te.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},xn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Be.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ye),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},xn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Be.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=ze),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},xn.week=function(e){return Ue(e,this._week.dow,this._week.doy).week},xn.firstDayOfYear=function(){return this._week.doy},xn.firstDayOfWeek=function(){return this._week.dow},xn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ve(n,this._week.dow):e?n[e.day()]:n},xn.weekdaysMin=function(e){return!0===e?Ve(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},xn.weekdaysShort=function(e){return!0===e?Ve(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},xn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Te.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Te.call(this._minWeekdaysParse,a))?i:-1!==(i=Te.call(this._weekdaysParse,a))?i:-1!==(i=Te.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},xn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},xn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},xn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},xn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},xn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===k(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",dt),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",pt);var En=Math.abs;function Sn(e,t,n,r){var i=Vt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Tn(e){return e<0?Math.floor(e):Math.ceil(e)}function On(e){return 4800*e/146097}function An(e){return 146097*e/4800}function Pn(e){return function(){return this.as(e)}}var Nn=Pn("ms"),Mn=Pn("s"),Rn=Pn("m"),In=Pn("h"),Dn=Pn("d"),Ln=Pn("w"),Fn=Pn("M"),zn=Pn("Q"),Yn=Pn("y");function Bn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hn=Bn("milliseconds"),Xn=Bn("seconds"),qn=Bn("minutes"),Un=Bn("hours"),Wn=Bn("days"),Vn=Bn("months"),$n=Bn("years"),Gn=Math.round,Kn={ss:44,s:45,m:45,h:22,d:26,M:11},Jn=Math.abs;function Qn(e){return(e>0)-(e<0)||+e}function Zn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Jn(this._milliseconds)/1e3,r=Jn(this._days),i=Jn(this._months);e=x(n/60),t=x(e/60),n%=60,e%=60;var o=x(i/12),a=i%=12,s=r,c=t,l=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Qn(this._months)!==Qn(d)?"-":"",h=Qn(this._days)!==Qn(d)?"-":"",m=Qn(this._milliseconds)!==Qn(d)?"-":"";return f+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?h+s+"D":"")+(c||l||u?"T":"")+(c?m+c+"H":"")+(l?m+l+"M":"")+(u?m+u+"S":"")}var er=Dt.prototype;return er.isValid=function(){return this._isValid},er.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},er.add=function(e,t){return Sn(this,e,t,1)},er.subtract=function(e,t){return Sn(this,e,t,-1)},er.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+On(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(An(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},er.asMilliseconds=Nn,er.asSeconds=Mn,er.asMinutes=Rn,er.asHours=In,er.asDays=Dn,er.asWeeks=Ln,er.asMonths=Fn,er.asQuarters=zn,er.asYears=Yn,er.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},er._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Tn(An(s)+a),a=0,s=0),c.milliseconds=o%1e3,e=x(o/1e3),c.seconds=e%60,t=x(e/60),c.minutes=t%60,n=x(t/60),c.hours=n%24,a+=x(n/24),s+=i=x(On(a)),a-=Tn(An(i)),r=x(s/12),s%=12,c.days=a,c.months=s,c.years=r,this},er.clone=function(){return Vt(this)},er.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},er.milliseconds=Hn,er.seconds=Xn,er.minutes=qn,er.hours=Un,er.days=Wn,er.weeks=function(){return x(this.days()/7)},er.months=Vn,er.years=$n,er.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Vt(e).abs(),i=Gn(r.as("s")),o=Gn(r.as("m")),a=Gn(r.as("h")),s=Gn(r.as("d")),c=Gn(r.as("M")),l=Gn(r.as("y")),u=i<=Kn.ss&&["s",i]||i<Kn.s&&["ss",i]||o<=1&&["m"]||o<Kn.m&&["mm",o]||a<=1&&["h"]||a<Kn.h&&["hh",a]||s<=1&&["d"]||s<Kn.d&&["dd",s]||c<=1&&["M"]||c<Kn.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},er.toISOString=Zn,er.toString=Zn,er.toJSON=Zn,er.locale=tn,er.localeData=rn,er.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zn),er.lang=nn,q("X",0,0,"unix"),q("x",0,0,"valueOf"),ue("x",oe),ue("X",/[+-]?\d+(\.\d{1,3})?/),he("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),he("x",function(e,t,n){n._d=new Date(k(e))}),i.version="2.24.0",n=Pt,i.fn=wn,i.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return Pt(1e3*e)},i.months=function(e,t){return jn(e,t,"months")},i.isDate=l,i.locale=dt,i.invalid=g,i.duration=Vt,i.isMoment=_,i.weekdays=function(e,t,n){return Cn(e,t,n,"weekdays")},i.parseZone=function(){return Pt.apply(null,arguments).parseZone()},i.localeData=pt,i.isDuration=Lt,i.monthsShort=function(e,t){return jn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return Cn(e,t,n,"weekdaysMin")},i.defineLocale=ft,i.updateLocale=function(e,t){if(null!=t){var n,r,i=at;null!=(r=ut(e))&&(i=r._config),(n=new N(t=P(i,t))).parentLocale=st[e],st[e]=n,dt(e)}else null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]);return st[e]},i.locales=function(){return S(st)},i.weekdaysShort=function(e,t,n){return Cn(e,t,n,"weekdaysShort")},i.normalizeUnits=I,i.relativeTimeRounding=function(e){return void 0===e?Gn:"function"==typeof e&&(Gn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Kn[e]&&(void 0===t?Kn[e]:(Kn[e]=t,"s"===e&&(Kn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=wn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i},"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):r.moment=i()},{}],402:[function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var u=0;u<a.length;u++)o.call(n,a[u])&&(s[a[u]]=n[a[u]])}}return s}},{}],403:[function(e,t,n){var r,i;r=this,i=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),i={},o=0,a={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(_(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!_(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var c=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,s=(n=t.URL||t.webkitURL||null,r=e.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),c=new t.Worker(s);return c.onmessage=g,c.id=o++,i[c.id]=c}();return c.userStep=r.step,c.userChunk=r.chunk,c.userComplete=r.complete,c.userError=r.error,r.step=_(r.step),r.chunk=_(r.chunk),r.complete=_(r.complete),r.error=_(r.error),delete r.worker,void c.postMessage({input:n,config:r,workerId:c.id})}var p=null;return a.NODE_STREAM_INPUT,"string"==typeof n?p=r.download?new l(r):new d(r):!0===n.readable&&_(n.read)&&_(n.on)?p=new f(r):(t.File&&n instanceof File||n instanceof Object)&&(p=new u(r)),p.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",o="\r\n",s='"',c=s+s,l=!1,u=null;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(l=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(c=t.escapeChar+s)}}();var d=new RegExp(h(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,l);if("object"==typeof e[0])return p(u||f(e[0]),e,l)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:f(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function p(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,c=!Array.isArray(t[0]);if(s&&r){for(var l=0;l<e.length;l++)0<l&&(a+=i),a+=m(e[l],l);0<t.length&&(a+=o)}for(var u=0;u<t.length;u++){var d=s?e.length:t[u].length,f=!1,p=s?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!s&&(f="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&s){for(var h=[],g=0;g<d;g++){var v=c?e[g]:g;h.push(t[u][v])}f=""===h.join("").trim()}if(!f){for(var y=0;y<d;y++){0<y&&!p&&(a+=i);var b=s&&c?e[y]:y;a+=m(t[u][b],y)}u<t.length-1&&(!n||0<d&&!p)&&(a+=o)}}return a}function m(e,t){return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(e=e.toString().replace(d,c),"boolean"==typeof n&&n||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e,a.BAD_DELIMITERS)||-1<e.indexOf(i)||" "===e.charAt(0)||" "===e.charAt(e.length-1)?s+e+s:e)}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=m,a.ParserHandle=p,a.NetworkStreamer=l,a.FileStreamer=u,a.StringStreamer=d,a.ReadableStreamStreamer=f,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each(function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})}),i(),this;function i(){if(0!==r.length){var t,n,i,c=r[0];if(_(e.before)){var l=e.before(c.file,c.inputElem);if("object"==typeof l){if("abort"===l.action)return"AbortError",t=c.file,n=c.inputElem,i=l.reason,void(_(e.error)&&e.error({name:"AbortError"},t,n,i));if("skip"===l.action)return void o();"object"==typeof l.config&&(c.instanceConfig=s.extend(c.instanceConfig,l.config))}else if("skip"===l)return void o()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){_(u)&&u(e,c.file,c.inputElem),o()},a.parse(c.file,c.instanceConfig)}else _(e.complete)&&e.complete()}function o(){r.splice(0,1),i()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var c=s.meta.cursor;this._finished||(this._partialLine=o.substring(c-this._baseIndex),this._baseIndex=c),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:s,workerId:a.WORKER_ID,finished:l});else if(_(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!l||!_(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function l(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),c.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open("GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send()}catch(e){this._chunkError(e.message)}n&&0===t.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substr(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),c.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,n=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(n)}}}function f(e){c.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=w(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=w(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(e){var t,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,c=0,l=0,u=!1,d=!1,f=[],p={data:[],errors:[],meta:{}};if(_(e.step)){var g=e.step;e.step=function(t){if(p=t,w())y();else{if(y(),0===p.data.length)return;c+=t.data.length,e.preview&&c>e.preview?n.abort():g(p,s)}}}function v(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){if(p&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<p.data.length;t++)v(p.data[t])&&p.data.splice(t--,1);return w()&&function(){if(p)if(Array.isArray(p.data[0])){for(var t=0;w()&&t<p.data.length;t++)p.data[t].forEach(n);p.data.splice(0,1)}else p.data.forEach(n);function n(t){_(e.transformHeader)&&(t=e.transformHeader(t)),f.push(t)}}(),function(){if(!p||!e.header&&!e.dynamicTyping&&!e.transform)return p;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var o=r,a=t[r];e.header&&(o=r>=f.length?"__parsed_extra":f[r]),e.transform&&(a=e.transform(a,o)),a=x(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return e.header&&(r>f.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+r,l+n):r<f.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+r,l+n)),i}var n=1;return!p.data[0]||Array.isArray(p.data[0])?(p.data=p.data.map(t),n=p.data.length):p.data=t(p.data,0),e.header&&p.meta&&(p.meta.fields=f),l+=n,p}()}function w(){return e.header&&0===f.length}function x(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(i.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){p.errors.push({type:e,code:t,message:n,row:r})}this.parse=function(i,o,s){var c=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substr(0,1048576);var n=new RegExp(h(t)+"([^]*?)"+h(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,c)),r=!1,e.delimiter)_(e.delimiter)&&(e.delimiter=e.delimiter(i),p.meta.delimiter=e.delimiter);else{var l=function(t,n,r,i,o){var s,c,l;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var u=0;u<o.length;u++){var d=o[u],f=0,p=0,h=0;l=void 0;for(var g=new m({comments:i,delimiter:d,newline:n,preview:10}).parse(t),y=0;y<g.data.length;y++)if(r&&v(g.data[y]))h++;else{var b=g.data[y].length;p+=b,void 0!==l?1<b&&(f+=Math.abs(b-l),l=b):l=0}0<g.data.length&&(p/=g.data.length-h),(void 0===c||c<f)&&1.99<p&&(c=f,s=d)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);l.successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),p.meta.delimiter=e.delimiter}var d=b(e);return e.preview&&e.header&&d.preview++,t=i,n=new m(d),p=n.parse(t,o,s),y(),u?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){s.streamer._halted?(u=!1,s.streamer.parseChunk(t,!0)):setTimeout(this.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),p.meta.aborted=!0,_(e.complete)&&e.complete(p),t=""}}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,o=e.step,s=e.preview,c=e.fastMode,l=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(l=e.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(e,a,f){if("string"!=typeof e)throw new Error("Input must be a string");var p=e.length,m=n.length,g=r.length,v=i.length,y=_(o),b=[],w=[],x=[],k=u=0;if(!e)return L();if(c||!1!==c&&-1===e.indexOf(t)){for(var j=e.split(r),C=0;C<j.length;C++){if(x=j[C],u+=x.length,C!==j.length-1)u+=r.length;else if(f)return L();if(!i||x.substr(0,v)!==i){if(y){if(b=[],M(x.split(n)),F(),d)return L()}else M(x.split(n));if(s&&s<=C)return b=b.slice(0,s),L(!0)}}return L()}for(var E=e.indexOf(n,u),S=e.indexOf(r,u),T=new RegExp(h(l)+h(t),"g"),O=e.indexOf(t,u);;)if(e[u]!==t)if(i&&0===x.length&&e.substr(u,v)===i){if(-1===S)return L();u=S+g,S=e.indexOf(r,u),E=e.indexOf(n,u)}else{if(-1!==E&&(E<S||-1===S)){if(-1===O){x.push(e.substring(u,E)),u=E+m,E=e.indexOf(n,u);continue}var A=z(E,O,S);if(A&&A.nextDelim){E=A.nextDelim,O=A.quoteSearch,x.push(e.substring(u,E)),u=E+m,E=e.indexOf(n,u);continue}}if(-1===S)break;if(x.push(e.substring(u,S)),D(S+g),y&&(F(),d))return L();if(s&&b.length>=s)return L(!0)}else for(O=u,u++;;){if(-1===(O=e.indexOf(t,O+1)))return f||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),I();if(O===p-1)return I(e.substring(u,O).replace(T,t));if(t!==l||e[O+1]!==l){if(t===l||0===O||e[O-1]!==l){var P=R(-1===S?E:Math.min(E,S));if(e[O+1+P]===n){x.push(e.substring(u,O).replace(T,t)),e[u=O+1+P+m]!==t&&(O=e.indexOf(t,u)),E=e.indexOf(n,u),S=e.indexOf(r,u);break}var N=R(S);if(e.substr(O+1+N,g)===r){if(x.push(e.substring(u,O).replace(T,t)),D(O+1+N+g),E=e.indexOf(n,u),O=e.indexOf(t,u),y&&(F(),d))return L();if(s&&b.length>=s)return L(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),O++}}else O++}return I();function M(e){b.push(e),k=u}function R(t){var n=0;if(-1!==t){var r=e.substring(O+1,t);r&&""===r.trim()&&(n=r.length)}return n}function I(t){return f||(void 0===t&&(t=e.substr(u)),x.push(t),u=p,M(x),y&&F()),L()}function D(t){u=t,M(x),x=[],S=e.indexOf(r,u)}function L(e,t){return{data:t?b[0]:b,errors:w,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:k+(a||0)}}}function F(){o(L(void 0,!0)),b=[],w=[]}function z(r,i,o){var a={nextDelim:void 0,quoteSearch:void 0},s=e.indexOf(t,i+1);if(i<r&&r<s&&(s<o||-1===o)){var c=e.indexOf(n,s);if(-1===c)return a;s<c&&(s=e.indexOf(t,s+1)),a=z(c,s,o)}else a={nextDelim:r,quoteSearch:i};return a}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(_(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!r);a++);delete t.results}else _(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];_(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function _(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&t.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(c.prototype)).constructor=l,(u.prototype=Object.create(c.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(c.prototype)).constructor=f,a},"function"==typeof define&&define.amd?define([],i):"object"==typeof t&&void 0!==n?t.exports=i():r.Papa=i()},{}],404:[function(e,t,n){"use strict";t.exports=function(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(e,t,r){t&&(i[n.q.name][t]=r)}),i}},{}],405:[function(e,t,n){var r,i;r=window,i=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("./src/sass/index.scss");var r,i=n("./src/js/init.js");var o=((r=i)&&r.__esModule?r:{default:r}).default.init;"undefined"!=typeof window&&(window.printJS=o),t.default=o},"./src/js/browser.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")}};t.default=r},"./src/js/functions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.addWrapper=function(e,t){return'<div style="font-family:'+t.font+" !important; font-size: "+t.font_size+' !important; width:100%;">'+e+"</div>"},t.capitalizePrint=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.collectStyles=function(e,t){var n=document.defaultView||window,i="",o=n.getComputedStyle(e,"");return Object.keys(o).map(function(e){(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(o[e])||function(e,t){for(var n=0;n<e.length;n++)if("object"===(void 0===t?"undefined":r(t))&&-1!==t.indexOf(e[n]))return!0;return!1}(t.targetStyles,o[e]))&&o.getPropertyValue(o[e])&&(i+=o[e]+":"+o.getPropertyValue(o[e])+";")}),i+="max-width: "+t.maxWidth+"px !important;"+t.font_size+" !important;"},t.addHeader=function(e,t){var n=document.createElement("div");if(s(t.header))n.innerHTML=t.header;else{var r=document.createElement("h1"),i=document.createTextNode(t.header);r.appendChild(i),r.setAttribute("style",t.headerStyle),n.appendChild(r)}e.insertBefore(n,e.childNodes[0])},t.cleanUp=function(e){e.showModal&&i.default.close();e.onLoadingEnd&&e.onLoadingEnd();(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);if(e.onPrintDialogClose){var t="mouseover";(o.default.isChrome()||o.default.isFirefox())&&(t="focus");window.addEventListener(t,function n(){window.removeEventListener(t,n),e.onPrintDialogClose()})}},t.isRawHTML=s;var i=a(n("./src/js/modal.js")),o=a(n("./src/js/browser.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}},"./src/js/html.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./src/js/functions.js"),o=n("./src/js/print.js"),a=(r=o)&&r.__esModule?r:{default:r};t.default={print:function(e,t){var n=document.getElementById(e.printable);n?(e.printableElement=function e(t,n){var r=t.cloneNode();var o=!0;var a=!1;var s=void 0;try{for(var c,l=t.childNodes[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value;if(-1===n.ignoreElements.indexOf(u.id)){var d=e(u,n);r.appendChild(d)}}}catch(e){a=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}n.scanStyles&&1===t.nodeType&&r.setAttribute("style",(0,i.collectStyles)(t,n));switch(t.tagName){case"SELECT":r.value=t.value;break;case"CANVAS":r.getContext("2d").drawImage(t,0,0)}return r}(n,e),e.header&&(0,i.addHeader)(e.printableElement,e),a.default.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)}}},"./src/js/image.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./src/js/functions.js"),o=n("./src/js/print.js"),a=(r=o)&&r.__esModule?r:{default:r};t.default={print:function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach(function(t){var n=document.createElement("img");n.setAttribute("style",e.imageStyle),n.src=t;var r=document.createElement("div");r.appendChild(n),e.printableElement.appendChild(r)}),e.header&&(0,i.addHeader)(e.printableElement,e),a.default.send(e,t)}}},"./src/js/init.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=d(n("./src/js/browser.js")),o=d(n("./src/js/modal.js")),a=d(n("./src/js/pdf.js")),s=d(n("./src/js/html.js")),c=d(n("./src/js/raw-html.js")),l=d(n("./src/js/image.js")),u=d(n("./src/js/json.js"));function d(e){return e&&e.__esModule?e:{default:e}}var f=["pdf","html","image","json","raw-html"];t.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:null,onPdfOpen:null,onBrowserIncompatible:function(){return!0},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],imageStyle:"max-width: 100%;",repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(void 0===t?"undefined":r(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var n in e.printable=t.printable,e.base64=void 0!==t.base64,e.fallbackPrintable=void 0!==t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,"+e.fallbackPrintable:e.fallbackPrintable,e)"printable"!==n&&"fallbackPrintable"!==n&&"base64"!==n&&(e[n]=void 0!==t[n]?t[n]:e[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+(void 0===t?"undefined":r(t)))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!=typeof e.type||-1===f.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&o.default.show(e),e.onLoadingStart&&e.onLoadingStart();var d=document.getElementById(e.frameId);d&&d.parentNode.removeChild(d);var p=void 0;switch((p=document.createElement("iframe")).setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute;"),p.setAttribute("id",e.frameId),"pdf"!==e.type&&(p.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(e){p.srcdoc+='<link rel="stylesheet" href="'+e+'">'})),p.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(i.default.isFirefox()||i.default.isEdge()||i.default.isIE())try{if(console.info("PrintJS currently doesn't support PDF printing in Firefox, Internet Explorer and Edge."),!0===e.onBrowserIncompatible())window.open(e.fallbackPrintable,"_blank").focus(),e.onPdfOpen&&e.onPdfOpen()}catch(t){e.onError(t)}finally{e.showModal&&o.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else a.default.print(e,p);break;case"image":l.default.print(e,p);break;case"html":s.default.print(e,p);break;case"raw-html":c.default.print(e,p);break;case"json":u.default.print(e,p)}}}},"./src/js/json.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n("./src/js/functions.js"),a=n("./src/js/print.js"),s=(r=a)&&r.__esModule?r:{default:r};t.default={print:function(e,t){if("object"!==i(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map(function(t){return{field:"object"===(void 0===t?"undefined":i(t))?t.field:t,displayName:"object"===(void 0===t?"undefined":i(t))?t.displayName:t,columnSize:"object"===(void 0===t?"undefined":i(t))&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}}),e.printableElement=document.createElement("div"),e.header&&(0,o.addHeader)(e.printableElement,e),e.printableElement.innerHTML+=function(e){var t=e.printable,n=e.properties,r='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(r+="<thead>");r+="<tr>";for(var i=0;i<n.length;i++)r+='<th style="width:'+n[i].columnSize+";"+e.gridHeaderStyle+'">'+(0,o.capitalizePrint)(n[i].displayName)+"</th>";r+="</tr>",e.repeatTableHeader&&(r+="</thead>");r+="<tbody>";for(var a=0;a<t.length;a++){r+="<tr>";for(var s=0;s<n.length;s++){var c=t[a],l=n[s].field.split(".");if(l.length>1)for(var u=0;u<l.length;u++)c=c[l[u]];else c=c[n[s].field];r+='<td style="width:'+n[s].columnSize+e.gridStyle+'">'+c+"</td>"}r+="</tr>"}return r+="</tbody></table>"}(e),s.default.send(e,t)}}},"./src/js/modal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var i=document.createElement("div");i.setAttribute("class","printClose"),i.setAttribute("id","printClose"),n.appendChild(i);var o=document.createElement("span");o.setAttribute("class","printSpinner"),n.appendChild(o);var a=document.createTextNode(e.modalMessage);n.appendChild(a),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",function(){r.close()})},close:function(){var e=document.getElementById("printJS-Modal");e.parentNode.removeChild(e)}};t.default=r},"./src/js/pdf.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./src/js/print.js"),o=(r=i)&&r.__esModule?r:{default:r},a=n("./src/js/functions.js");function s(e,t,n){var r=new window.Blob([n],{type:"application/pdf"});r=window.URL.createObjectURL(r),t.setAttribute("src",r),o.default.send(e,t)}t.default={print:function(e,t){if(e.base64){var n=Uint8Array.from(atob(e.printable),function(e){return e.charCodeAt(0)});s(e,t,n)}else{e.printable=/^(blob|http)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var r=new window.XMLHttpRequest;r.responseType="arraybuffer",r.addEventListener("load",function(){if(-1===[200,201].indexOf(r.status))return(0,a.cleanUp)(e),void e.onError(r.statusText);s(e,t,r.response)}),r.open("GET",e.printable,!0),r.send()}}}},"./src/js/print.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./src/js/browser.js"),o=(r=i)&&r.__esModule?r:{default:r},a=n("./src/js/functions.js");var s={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var n=document.getElementById(e.frameId);n.onload=function(){if("pdf"!==e.type){var t=n.contentWindow||n.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var r=document.createElement("style");r.innerHTML=e.style,t.head.appendChild(r)}var i=t.getElementsByTagName("img");i.length>0?function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.push(l(s))}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return Promise.all(t)}(i).then(function(){return c(n,e)}):c(n,e)}else c(n,e)}}};function c(e,t){try{if(e.focus(),o.default.isEdge()||o.default.isIE())try{e.contentWindow.document.execCommand("print",!1,null)}catch(t){e.contentWindow.print()}else e.contentWindow.print()}catch(e){t.onError(e)}finally{(0,a.cleanUp)(t)}}function l(e){return new Promise(function(t){!function n(){e&&void 0!==e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(n,500)}()})}t.default=s},"./src/js/raw-html.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("./src/js/print.js"),o=(r=i)&&r.__esModule?r:{default:r};t.default={print:function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,o.default.send(e,t)}}},"./src/sass/index.scss":function(e,t,n){},0:function(e,t,n){e.exports=n("./src/index.js")}}).default},"object"==typeof n&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.printJS=i():r.printJS=i()},{}],406:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,u=[],d=!1,f=-1;function p(){d&&l&&(d=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!d){var e=c(p);d=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||d||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],407:[function(e,t,n){"use strict";var r=e("err-code"),i=e("retry"),o=Object.prototype.hasOwnProperty;function a(e){return e&&"EPROMISERETRY"===e.code&&o.call(e,"retried")}t.exports=function(e,t){var n,o;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),o=i.operation(t),new Promise(function(t,n){o.attempt(function(i){Promise.resolve().then(function(){return e(function(e){throw a(e)&&(e=e.retried),r("Retrying","EPROMISERETRY",{retried:e})},i)}).then(t,function(e){a(e)&&(e=e.retried,o.retry(e||new Error))||n(e)})})})}},{"err-code":329,retry:421}],408:[function(e,t,n){"use strict";e("./requirePromise")();var r=e("es-abstract/es7"),i=e("function-bind"),o=function(e,t){return new e(function(e){e(t)})},a=Promise,s=i.call(Function.call,a.prototype.then),c=function(e){s(this,null,function(){});var t=r.SpeciesConstructor(this,a),n=e,i=e;return r.IsCallable(e)&&(n=function(e,t){return function(n){var r=t();return o(e,r).then(function(){return n})}}(t,e),i=function(e,t){return function(n){var r=t();return o(e,r).then(function(){throw n})}}(t,e)),this.then(n,i)};if(Object.getOwnPropertyDescriptor){var l=Object.getOwnPropertyDescriptor(c,"name");l&&l.configurable&&Object.defineProperty(c,"name",{configurable:!0,value:"finally"})}t.exports=c},{"./requirePromise":411,"es-abstract/es7":334,"function-bind":389}],409:[function(e,t,n){"use strict";var r=e("function-bind"),i=e("define-properties"),o=e("./implementation"),a=e("./polyfill"),s=e("./shim"),c=r.call(Function.call,a());i(c,{getPolyfill:a,implementation:o,shim:s}),t.exports=c},{"./implementation":408,"./polyfill":410,"./shim":412,"define-properties":324,"function-bind":389}],410:[function(e,t,n){"use strict";var r=e("./requirePromise"),i=e("./implementation");t.exports=function(){return r(),"function"==typeof Promise.prototype.finally?Promise.prototype.finally:i}},{"./implementation":408,"./requirePromise":411}],411:[function(e,t,n){"use strict";t.exports=function(){if("function"!=typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.")}},{}],412:[function(e,t,n){"use strict";var r=e("./requirePromise"),i=e("./polyfill"),o=e("define-properties");t.exports=function(){r();var e=i();return o(Promise.prototype,{finally:e},{finally:function(){return Promise.prototype.finally!==e}}),e}},{"./polyfill":410,"./requirePromise":411,"define-properties":324}],413:[function(e,t,n){arguments[4][154][0].apply(n,arguments)},{"decode-uri-component":323,dup:154,"object-assign":402,"strict-uri-encode":428}],414:[function(e,t,n){var r,o;r=function(e){return e.createModule("ClassApplier",["WrappedSelection"],function(e,t){var n=e.dom,r=n.DomPosition,o=n.arrayContains,a=e.util,s=a.forEach,c=a.isHostMethod(document,"createElementNS");function l(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))return!1;return!0}function u(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function d(e,t){return!!e&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e)}function f(e,t){return"object"==typeof e.classList?e.classList.contains(t):d("string"==typeof e.className?e.className:e.getAttribute("class"),t)}function p(e,t){if("object"==typeof e.classList)e.classList.add(t);else{var n="string"==typeof e.className,r=n?e.className:e.getAttribute("class");r?d(r,t)||(r+=" "+t):r=t,n?e.className=r:e.setAttribute("class",r)}}var h=function(){function e(e,t,n){return t&&n?" ":""}return function(t,n){if("object"==typeof t.classList)t.classList.remove(n);else{var r="string"==typeof t.className,i=r?t.className:t.getAttribute("class");i=i.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),e),r?t.className=i:t.setAttribute("class",i)}}}();function m(e){return"string"==typeof e.className?e.className:e.getAttribute("class")}function g(e){return e&&e.split(/\s+/).sort().join(" ")}function v(e){return g(m(e))}function y(e,t){return v(e)==v(t)}function b(e,t){for(var n=t.split(/\s+/),r=0,i=n.length;r<i;++r)if(!f(e,u(n[r])))return!1;return!0}function w(e,t,r,i){-1==r&&(r=t.childNodes.length);var o=e.parentNode,a=n.getNodeIndex(e);s(i,function(e){!function(e,t,n,r,i){var o=e.node,a=e.offset,s=o,c=a;o==r&&a>i&&++c,o!=t||a!=n&&a!=n+1||(s=r,c+=i-n),o==t&&a>n+1&&--c,e.node=s,e.offset=c}(e,o,a,t,r)}),t.childNodes.length==r?t.appendChild(e):t.insertBefore(e,t.childNodes[r])}function _(e,t){var r=e.parentNode,i=n.getNodeIndex(e);s(t,function(e){!function(e,t,n){e.node==t&&e.offset>n&&--e.offset}(e,r,i)}),n.removeNode(e)}function x(e,t){return function(e,t,n,r,i){for(var o,a=[];o=e.firstChild;)w(o,t,n++,i),a.push(o);return r&&_(e,i),a}(e,e.parentNode,n.getNodeIndex(e),!0,t)}function k(e,t){var n=e.cloneRange();n.selectNodeContents(t);var r=n.intersection(e);return""!=(r?r.toString():"")}function j(e){for(var t,n=e.getNodes([3]),r=0;(t=n[r])&&!k(e,t);)++r;for(var i=n.length-1;(t=n[i])&&!k(e,t);)--i;return n.slice(r,i+1)}function C(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,r,i,o=0,a=e.attributes.length;o<a;++o)if("class"!=(i=(n=e.attributes[o]).name)){if(null===n!=(null===(r=t.attributes.getNamedItem(i))))return!1;if(n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}function E(e,t){for(var n,r=0,i=e.attributes.length;r<i;++r)if(n=e.attributes[r].name,(!t||!o(t,n))&&e.attributes[r].specified&&"class"!=n)return!0;return!1}var S=n.getComputedStyleProperty,T="boolean"==typeof document.createElement("div").isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return!(!e||1!=e.nodeType||"false"==e.contentEditable)&&("true"==e.contentEditable||T(e.parentNode))};function O(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||T(e)&&!T(e.parentNode))}function A(e){return(T(e)||1!=e.nodeType&&T(e.parentNode))&&!O(e)}var P=/^inline(-block|-table)?$/i;function N(e){return e&&1==e.nodeType&&!P.test(S(e,"display"))}var M=/[^\r\n\t\f \u200B]/;function R(e){var t,n,i=[];for(t=0;n=e[t++];)i.push(new r(n.startContainer,n.startOffset),new r(n.endContainer,n.endOffset));return i}function I(e,t){for(var n,r,i,o=0,a=e.length;o<a;++o)n=e[o],r=t[2*o],i=t[2*o+1],n.setStartAndEnd(r.node,r.offset,i.node,i.offset)}function D(e,r,i,o){var a,s,c=0==i;if(n.isAncestorOf(r,e))return e;if(n.isCharacterDataNode(r)){var l=n.getNodeIndex(r);if(0==i)i=l;else{if(i!=r.length)throw t.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+i+" in "+r.data);i=l+1}r=r.parentNode}if(function(e,t){return n.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:t>0&&t<e.childNodes.length}(r,i)){a=r.cloneNode(!1),s=r.parentNode,a.id&&a.removeAttribute("id");for(var u,d=0;u=r.childNodes[i];)w(u,a,d++,o);return w(a,s,n.getNodeIndex(r)+1,o),r==e?a:D(e,s,n.getNodeIndex(a),o)}if(e!=r){a=r.parentNode;var f=n.getNodeIndex(r);return c||f++,D(e,a,f,o)}return e}function L(e){var t=e?"nextSibling":"previousSibling";return function(n,r){var i,o,a=n.parentNode,s=n[t];if(s){if(s&&3==s.nodeType)return s}else if(r&&(s=a[t])&&1==s.nodeType&&(o=s,(i=a).namespaceURI==o.namespaceURI&&i.tagName.toLowerCase()==o.tagName.toLowerCase()&&y(i,o)&&C(i,o)&&"inline"==S(i,"display")&&"inline"==S(o,"display"))){var c=s[e?"firstChild":"lastChild"];if(c&&3==c.nodeType)return c}return null}}var F=L(!1),z=L(!0);function Y(e){this.isElementMerge=1==e.nodeType,this.textNodes=[];var t=this.isElementMerge?e.lastChild:e;t&&(this.textNodes[0]=t)}Y.prototype={doMerge:function(e){var t=this.textNodes,r=t[0];if(t.length>1){var i,o=n.getNodeIndex(r),a=[],c=0;s(t,function(t,l){i=t.parentNode,l>0&&(i.removeChild(t),i.hasChildNodes()||n.removeNode(i),e&&s(e,function(e){e.node==t&&(e.node=r,e.offset+=c),e.node==i&&e.offset>o&&(--e.offset,e.offset==o+1&&l<len-1&&(e.node=r,e.offset=c))})),a[l]=t.data,c+=t.data.length}),r.data=a.join("")}return r.data},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var e=[];return s(this.textNodes,function(t,n){e[n]="'"+t.data+"'"}),"[Merge("+e.join(",")+")]"}};var B=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],H={};function X(e,t,n){var r,i,o,a,s=this;s.cssClass=s.className=e;var c=null,d={};if("object"==typeof t&&null!==t){for(void 0!==t.elementTagName&&(t.elementTagName=t.elementTagName.toLowerCase()),n=t.tagNames,c=t.elementProperties,d=t.elementAttributes,i=0;a=B[i++];)t.hasOwnProperty(a)&&(s[a]=t[a]);r=t.normalize}else r=t;s.normalize=void 0===r||r,s.attrExceptions=[];var f=document.createElement(s.elementTagName);s.elementProperties=s.copyPropertiesToElement(c,f,!0),l(d,function(e,t){s.attrExceptions.push(e),d[e]=""+t}),s.elementAttributes=d,s.elementSortedClassName=s.elementProperties.hasOwnProperty("className")?g(s.elementProperties.className+" "+e):e,s.applyToAnyTagName=!1;var p=typeof n;if("string"==p)"*"==n?s.applyToAnyTagName=!0:s.tagNames=u(n.toLowerCase()).split(/\s*,\s*/);else if("object"==p&&"number"==typeof n.length)for(s.tagNames=[],i=0,o=n.length;i<o;++i)"*"==n[i]?s.applyToAnyTagName=!0:s.tagNames.push(n[i].toLowerCase());else s.tagNames=[s.elementTagName]}X.prototype={elementTagName:"span",elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(e,t,n){var r,i,o,a,s,c,l={};for(var u in e)if(e.hasOwnProperty(u))if(a=e[u],s=t[u],"className"==u)p(t,a),p(t,this.className),t[u]=g(t[u]),n&&(l[u]=a);else if("style"==u){for(r in i=s,n&&(l[u]=o={}),e[u])e[u].hasOwnProperty(r)&&(i[r]=a[r],n&&(o[r]=i[r]));this.attrExceptions.push(u)}else t[u]=a,n&&(l[u]=t[u],c=H.hasOwnProperty(u)?H[u]:u,this.attrExceptions.push(c));return n?l:""},copyAttributesToElement:function(e,t){for(var n in e)e.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&t.setAttribute(n,e[n])},appliesToElement:function(e){return o(this.tagNames,e.tagName.toLowerCase())},getEmptyElements:function(e){var t=this;return e.getNodes([1],function(e){return t.appliesToElement(e)&&!e.hasChildNodes()})},hasClass:function(e){return 1==e.nodeType&&(this.applyToAnyTagName||this.appliesToElement(e))&&f(e,this.className)},getSelfOrAncestorWithClass:function(e){for(;e;){if(this.hasClass(e))return e;e=e.parentNode}return null},isModifiable:function(e){return!this.applyToEditableOnly||A(e)},isIgnorableWhiteSpaceNode:function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&function(e){if(0==e.data.length)return!0;if(M.test(e.data))return!1;switch(S(e.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return N(e.previousSibling)||N(e.nextSibling)}(e)},postApply:function(e,t,n,r){var o,a,c=e[0],l=e[e.length-1],u=[],d=c,f=l,p=0,h=l.length;s(e,function(e){(a=F(e,!r))?(o||(o=new Y(a),u.push(o)),o.textNodes.push(e),e===c&&(d=o.textNodes[0],p=d.length),e===l&&(f=o.textNodes[0],h=o.getLength())):o=null});var m=z(l,!r);if(m&&(o||(o=new Y(l),u.push(o)),o.textNodes.push(m)),u.length){for(i=0,len=u.length;i<len;++i)u[i].doMerge(n);t.setStartAndEnd(d,p,f,h)}},createContainer:function(e){var t=n.getDocument(e),r=c&&!n.isHtmlNamespace(e)&&e.namespaceURI?t.createElementNS(e.namespaceURI,this.elementTagName):t.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,r,!1),this.copyAttributesToElement(this.elementAttributes,r),p(r,this.className),this.onElementCreate&&this.onElementCreate(r,this),r},elementHasProperties:function(e,t){var n=this;return l(t,function(t,r){if("className"==t)return b(e,r);if("object"==typeof r){if(!n.elementHasProperties(e[t],r))return!1}else if(e[t]!==r)return!1})},elementHasAttributes:function(e,t){return l(t,function(t,n){if(e.getAttribute(t)!==n)return!1})},applyToTextNode:function(e,t){if(function(e){var t=e.parentNode;return t&&1==t.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(t.nodeName)}(e)){var n=e.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))p(n,this.className);else{var r=e.parentNode,i=this.createContainer(r);r.insertBefore(i,e),i.appendChild(e)}}},isRemovable:function(e){return e.tagName.toLowerCase()==this.elementTagName&&v(e)==this.elementSortedClassName&&this.elementHasProperties(e,this.elementProperties)&&!E(e,this.attrExceptions)&&this.elementHasAttributes(e,this.elementAttributes)&&this.isModifiable(e)},isEmptyContainer:function(e){var t=e.childNodes.length;return 1==e.nodeType&&this.isRemovable(e)&&(0==t||1==t&&this.isEmptyContainer(e.firstChild))},removeEmptyContainers:function(e){var t=this,n=e.getNodes([1],function(e){return t.isEmptyContainer(e)}),r=[e],i=R(r);s(n,function(e){_(e,i)}),I(r,i)},undoToTextNode:function(e,t,n,r){if(!t.containsNode(n)){var i=t.cloneRange();i.selectNode(n),i.isPointInRange(t.endContainer,t.endOffset)&&(D(n,t.endContainer,t.endOffset,r),t.setEndAfter(n)),i.isPointInRange(t.startContainer,t.startOffset)&&(n=D(n,t.startContainer,t.startOffset,r))}this.isRemovable(n)?x(n,r):h(n,this.className)},splitAncestorWithClass:function(e,t,n){var r=this.getSelfOrAncestorWithClass(e);r&&D(r,e,t,n)},undoToAncestor:function(e,t){this.isRemovable(e)?x(e,t):h(e,this.className)},applyToRange:function(e,t){var n=this,r=R((t=t||[])||[]);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e);var i=j(e);if(i.length){s(i,function(e){n.isIgnorableWhiteSpaceNode(e)||n.getSelfOrAncestorWithClass(e)||!n.isModifiable(e)||n.applyToTextNode(e,r)});var o=i[i.length-1];e.setStartAndEnd(i[0],0,o,o.length),n.normalize&&n.postApply(i,e,r,!1),I(t,r)}var a=n.getEmptyElements(e);s(a,function(e){p(e,n.className)})},applyToRanges:function(e){for(var t=e.length;t--;)this.applyToRange(e[t],e);return e},applyToSelection:function(t){var n=e.getSelection(t);n.setRanges(this.applyToRanges(n.getAllRanges()))},undoToRange:function(e,t){var n=this,r=R(t=t||[]);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e,r);var i,o,a=j(e),c=a[a.length-1];if(a.length){n.splitAncestorWithClass(e.endContainer,e.endOffset,r),n.splitAncestorWithClass(e.startContainer,e.startOffset,r);for(var l=0,u=a.length;l<u;++l)i=a[l],(o=n.getSelfOrAncestorWithClass(i))&&n.isModifiable(i)&&n.undoToAncestor(o,r);e.setStartAndEnd(a[0],0,c,c.length),n.normalize&&n.postApply(a,e,r,!0),I(t,r)}var d=n.getEmptyElements(e);s(d,function(e){h(e,n.className)})},undoToRanges:function(e){for(var t=e.length;t--;)this.undoToRange(e[t],e);return e},undoToSelection:function(t){var n=e.getSelection(t),r=e.getSelection(t).getAllRanges();this.undoToRanges(r),n.setRanges(r)},isAppliedToRange:function(e){if(e.collapsed||""==e.toString())return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);var t=e.getNodes([3]);if(t.length)for(var n,r=0;n=t[r++];)if(!this.isIgnorableWhiteSpaceNode(n)&&k(e,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(e){var t=e.length;if(0==t)return!1;for(;t--;)if(!this.isAppliedToRange(e[t]))return!1;return!0},isAppliedToSelection:function(t){var n=e.getSelection(t);return this.isAppliedToRanges(n.getAllRanges())},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},toggleSelection:function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},getElementsWithClassIntersectingRange:function(e){var t=[],n=this;return e.getNodes([3],function(e){var r=n.getSelfOrAncestorWithClass(e);r&&!o(t,r)&&t.push(r)}),t},detach:function(){}},X.util={hasClass:f,addClass:p,removeClass:h,getClass:m,hasSameClasses:y,hasAllClasses:b,replaceWithOwnChildren:x,elementsHaveSameNonClassAttributes:C,elementHasNonClassAttributes:E,splitNodeAt:D,isEditableElement:T,isEditingHost:O,isEditable:A},e.CssClassApplier=e.ClassApplier=X,e.createClassApplier=function(e,t,n){return new X(e,t,n)},a.createAliasForDeprecatedMethod(e,"createCssClassApplier","createClassApplier",t)}),e},o=this,"function"==typeof define&&define.amd?define(["./rangy-core"],r):void 0!==t&&"object"==typeof n?t.exports=r(e("rangy")):r(o.rangy)},{rangy:415}],415:[function(e,t,n){var r,i;r=function(){var e="object",t="function",n="undefined",r=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],i=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],o=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],a=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function s(n,r){var i=typeof n[r];return i==t||!(i!=e||!n[r])||"unknown"==i}function c(t,n){return!(typeof t[n]!=e||!t[n])}function l(e,t){return typeof e[t]!=n}function u(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}var d=u(s),f=u(c),p=u(l);function h(e){return e&&d(e,a)&&p(e,o)}function m(e){return c(e,"body")?e.body:e.getElementsByTagName("body")[0]}var g,v,y={},b=typeof window!=n&&typeof document!=n,w={isHostMethod:s,isHostObject:c,isHostProperty:l,areHostMethods:d,areHostObjects:f,areHostProperties:p,isTextRange:h,getBody:m,forEach:[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)}},_={version:"1.3.0",initialized:!1,isBrowser:b,supported:!0,util:w,features:{},modules:y,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function x(e){typeof console!=n&&s(console,"log")&&console.log(e)}function k(e,t){b&&t?alert(e):x(e)}function j(e){_.initialized=!0,_.supported=!1,k("Rangy is not supported in this environment. Reason: "+e,_.config.alertOnFail)}_.fail=j,_.warn=function(e){k("Rangy warning: "+e,_.config.alertOnWarn)},!{}.hasOwnProperty?j("hasOwnProperty not supported"):(w.extend=g=function(e,t,n){var r,i;for(var o in t)t.hasOwnProperty(o)&&(r=e[o],i=t[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&g(r,i,!0),e[o]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},w.createOptions=function(e,t){var n={};return g(n,t),e&&g(n,e),n}),b||j("Rangy can only run in a browser"),function(){var e;if(b){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t}),w.toArray=e}(),b&&(s(document,"addEventListener")?v=function(e,t,n){e.addEventListener(t,n,!1)}:s(document,"attachEvent")?v=function(e,t,n){e.attachEvent("on"+t,n)}:j("Document does not have required addEventListener or attachEvent method"),w.addListener=v);var C=[];function E(e){return e.message||e.description||String(e)}function S(){if(b&&!_.initialized){var e,t=!1,n=!1;s(document,"createRange")&&(e=document.createRange(),d(e,i)&&p(e,r)&&(t=!0));var o=m(document);if(o&&"body"==o.nodeName.toLowerCase())if(o&&s(o,"createTextRange")&&h(e=o.createTextRange())&&(n=!0),t||n){var a;for(var c in _.initialized=!0,_.features={implementsDomRange:t,implementsTextRange:n},y)(a=y[c])instanceof P&&a.init(a,_);for(var l=0,u=C.length;l<u;++l)try{C[l](_)}catch(e){x("Rangy init listener threw an exception. Continuing. Detail: "+E(e))}}else j("Neither Range nor TextRange are available");else j("No body element found")}}function T(e,t,n){n&&(e+=" in module "+n.name),_.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function O(e,t,n,r){e[t]=function(){return T(t,n,r),e[n].apply(e,w.toArray(arguments))}}w.deprecationNotice=T,w.createAliasForDeprecatedMethod=O,_.init=S,_.addInitListener=function(e){_.initialized?e(_):C.push(e)};var A=[];function P(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function N(e,t,n){var r=new P(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(_,t),t.supported=!0}catch(t){x("Module '"+e+"' failed to load: "+E(t)),t.stack&&x(t.stack)}}});return y[e]=r,r}function M(){}_.addShimListener=function(e){A.push(e)},b&&(_.shim=_.createMissingNativeApi=function(e){e=e||window,S();for(var t=0,n=A.length;t<n;++t)A[t](e)},O(_,"createMissingNativeApi","shim")),P.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(t=n[r],!((e=y[t])&&e instanceof P))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){_.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){_.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},_.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=N(e,n,t);_.initialized&&_.supported&&r.init()},_.createCoreModule=function(e,t,n){N(e,t,n)},_.RangePrototype=M,_.rangePrototype=new M,_.selectionPrototype=new function(){},_.createCoreModule("DomUtil",[],function(e,t){var n="undefined",r=e.util,i=r.getBody;r.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),r.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var o=document.createElement("div");r.areHostMethods(o,["insertBefore","appendChild","cloneNode"]||!r.areHostObjects(o,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),r.isHostProperty(o,"innerHTML")||t.fail("Element is missing innerHTML property");var a=document.createTextNode("test");r.areHostMethods(a,["splitText","deleteData","insertData","appendData","cloneNode"]||!r.areHostObjects(o,["previousSibling","nextSibling","childNodes","parentNode"])||!r.areHostProperties(a,["data"]))||t.fail("Incomplete Text Node implementation");var s=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};function c(e){for(var t=0;e=e.previousSibling;)++t;return t}function l(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(s(r,n))return n;return null}function u(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function d(e,t,n){for(var r,i=n?e:e.parentNode;i;){if((r=i.parentNode)===t)return i;i=r}return null}function f(e){var t=e.nodeType;return 3==t||4==t||8==t}function p(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=n)return e.ownerDocument;if(typeof e.document!=n)return e.document;if(e.parentNode)return h(e.parentNode);throw t.createError("getDocument: no document found for node")}function m(e){var r=h(e);if(typeof r.defaultView!=n)return r.defaultView;if(typeof r.parentWindow!=n)return r.parentWindow;throw t.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=n)return e.contentDocument;if(typeof e.contentWindow!=n)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){return e&&r.isHostMethod(e,"setTimeout")&&r.isHostObject(e,"document")}var y,b=!1;function w(e){try{return e.parentNode,!1}catch(e){return!0}}function _(e){if(!e)return"[No node]";if(b&&w(e))return"[Broken node]";if(f(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+c(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function x(e){this.root=e,this._next=e}function k(e,t){this.node=e,this.offset=t}function j(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",b=w(n),e.features.crashyTextNodes=b}(),typeof window.getComputedStyle!=n?y=function(e,t){return m(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=n?y=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),x.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},k.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+_(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},j.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},j.prototype.toString=function(){return this.message},e.dom={arrayContains:s,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==n||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:c,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:l,isAncestorOf:u,isOrIsAncestorOf:function(e,t){return u(e,t,!0)},getClosestAncestorIn:d,isCharacterDataNode:f,isTextOrCommentNode:function(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:p,splitDataNode:function(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),p(r,e),n)for(var i,o=0;i=n[o++];)i.node==e&&i.offset>t?(i.node=r,i.offset-=t):i.node==e.parentNode&&i.offset>c(e)&&++i.offset;return r},getDocument:h,getWindow:m,getIframeWindow:function(e){if(typeof e.contentWindow!=n)return e.contentWindow;if(typeof e.contentDocument!=n)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:g,getBody:i,isWindow:v,getContentDocument:function(e,t,n){var i;if(e?r.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):h(e):v(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,n,r,i){var o,a,s,u,f;if(e==r)return n===i?0:n<i?-1:1;if(o=d(r,e,!0))return n<=c(o)?-1:1;if(o=d(e,r,!0))return c(o)<i?-1:1;if(!(a=l(e,r)))throw new Error("comparePoints error: nodes have no common ancestor");if((s=e===a?a:d(e,a,!0))===(u=r===a?a:d(r,a,!0)))throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(f=a.firstChild;f;){if(f===s)return-1;if(f===u)return 1;f=f.nextSibling}},isBrokenNode:w,inspectNode:_,getComputedStyleProperty:y,createTestElement:function(e,t,n){var r=i(e),o=e.createElement("div");o.contentEditable=""+!!n,t&&(o.innerHTML=t);var a=r.firstChild;return a?r.insertBefore(o,a):r.appendChild(o),o},removeNode:function(e){return e.parentNode.removeChild(e)},fragmentFromNodeChildren:function(e){for(var t,n=h(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new x(e)},DomPosition:k},e.DOMException=j}),_.createCoreModule("DomRange",["DomUtil"],function(e,t){var n=e.dom,r=e.util,i=n.DomPosition,o=e.DOMException,a=n.isCharacterDataNode,s=n.getNodeIndex,c=n.isOrIsAncestorOf,l=n.getDocument,u=n.comparePoints,d=n.splitDataNode,f=n.getClosestAncestorIn,p=n.getNodeLength,h=n.arrayContains,m=n.getRootContainer,g=e.features.crashyTextNodes,v=n.removeNode;function y(e,t){return 3!=e.nodeType&&(c(e,t.startContainer)||c(e,t.endContainer))}function b(e){return e.document||l(e.startContainer)}function w(e){return new i(e.parentNode,s(e))}function _(e){return new i(e.parentNode,s(e)+1)}function x(e,t,r){var i=11==e.nodeType?e.firstChild:e;return a(t)?r==t.length?n.insertAfter(e,t):t.parentNode.insertBefore(e,0==r?t:d(t,r)):r>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[r]),i}function k(e,t,n){if(U(e),U(t),b(t)!=b(e))throw new o("WRONG_DOCUMENT_ERR");var r=u(e.startContainer,e.startOffset,t.endContainer,t.endOffset),i=u(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&i>=0:r<0&&i>0}function j(e,t,r){var i,o,a,s;for(r=r||{stop:!1};a=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(a))return void(r.stop=!0);if(j(s=e.getSubtreeIterator(),t,r),s.detach(),r.stop)return}else for(i=n.createIterator(a);o=i.next();)if(!1===t(o))return void(r.stop=!0)}function C(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(C(t=e.getSubtreeIterator()),t.detach()):e.remove()}function E(e){for(var t,n,r=b(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(E(n)),n.detach()):e.remove(),10==t.nodeType)throw new o("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function S(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+n.inspectNode(e.startContainer)+":"+e.startOffset+", "+n.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function T(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&a(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||a(this.sc)?f(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||a(this.ec)?f(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}T.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,a(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!a(n)||n!==this.sc&&n!==this.ec?n.parentNode&&v(n):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return y(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new fe(b(this.range));var t=this._current,n=t,r=0,i=t,o=p(t);c(t,this.sc)&&(n=this.sc,r=this.so),c(t,this.ec)&&(i=this.ec,o=this.eo),de(e,n,r,i,o)}return new T(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var O=[1,3,4,5,7,8,10],A=[2,9,11],P=[1,3,4,5,7,8,10,11],N=[1,3,4,5,7,8];function M(e){return function(t,n){for(var r,i=n?t:t.parentNode;i;){if(r=i.nodeType,h(e,r))return i;i=i.parentNode}return null}}var R=M([9,11]),I=M([5,6,10,12]),D=M([6,10,12]);function L(e,t){if(D(e,t))throw new o("INVALID_NODE_TYPE_ERR")}function F(e,t){if(!h(t,e.nodeType))throw new o("INVALID_NODE_TYPE_ERR")}function z(e,t){if(t<0||t>(a(e)?e.length:e.childNodes.length))throw new o("INDEX_SIZE_ERR")}function Y(e,t){if(R(e,!0)!==R(t,!0))throw new o("WRONG_DOCUMENT_ERR")}function B(e){if(I(e,!0))throw new o("NO_MODIFICATION_ALLOWED_ERR")}function H(e,t){if(!e)throw new o(t)}function X(e,t){return t<=(a(e)?e.length:e.childNodes.length)}function q(e){return!!e.startContainer&&!!e.endContainer&&!(g&&(n.isBrokenNode(e.startContainer)||n.isBrokenNode(e.endContainer)))&&m(e.startContainer)==m(e.endContainer)&&X(e.startContainer,e.startOffset)&&X(e.endContainer,e.endOffset)}function U(e){if(!q(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}var W=document.createElement("style"),V=!1;try{W.innerHTML="<b>x</b>",V=3==W.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=V;var $=V?function(e){var t=this.startContainer,r=l(t);if(!t)throw new o("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:a(t)&&(i=n.parentElement(t)),(i=null===i||"HTML"==i.nodeName&&n.isHtmlNamespace(l(i).documentElement)&&n.isHtmlNamespace(i)?r.createElement("body"):i.cloneNode(!1)).innerHTML=e,n.fragmentFromNodeChildren(i)}:function(e){var t=b(this).createElement("body");return t.innerHTML=e,n.fragmentFromNodeChildren(t)};function G(e,t){U(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,c=n===i;a(i)&&o>0&&o<i.length&&d(i,o,t),a(n)&&r>0&&r<n.length&&(n=d(n,r,t),c?(o-=r,i=n):i==n.parentNode&&o>=s(n)&&o++,r=0),e.setStartAndEnd(n,r,i,o)}function K(e){U(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Q=0,Z=1,ee=2,te=3,ne=0,re=1,ie=2,oe=3;function ae(e){e.START_TO_START=Q,e.START_TO_END=Z,e.END_TO_END=ee,e.END_TO_START=te,e.NODE_BEFORE=ne,e.NODE_AFTER=re,e.NODE_BEFORE_AND_AFTER=ie,e.NODE_INSIDE=oe}function se(e){ae(e),ae(e.prototype)}function ce(e,t){return function(){U(this);var n,r=this.startContainer,i=this.startOffset,o=this.commonAncestorContainer,a=new T(this,!0);r!==o&&(r=(n=_(f(r,o,!0))).node,i=n.offset),j(a,B),a.reset();var s=e(a);return a.detach(),t(this,r,i,r,i),s}}function le(t,n){function i(e,t){return function(n){F(n,O),F(m(n),A);var r=(e?w:_)(n);(t?o:c)(this,r.node,r.offset)}}function o(e,t,r){var i=e.endContainer,o=e.endOffset;t===e.startContainer&&r===e.startOffset||(m(t)==m(i)&&1!=u(t,r,i,o)||(i=t,o=r),n(e,t,r,i,o))}function c(e,t,r){var i=e.startContainer,o=e.startOffset;t===e.endContainer&&r===e.endOffset||(m(t)==m(i)&&-1!=u(t,r,i,o)||(i=t,o=r),n(e,i,o,t,r))}var l=function(){};l.prototype=e.rangePrototype,t.prototype=new l,r.extend(t.prototype,{setStart:function(e,t){L(e,!0),z(e,t),o(this,e,t)},setEnd:function(e,t){L(e,!0),z(e,t),c(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],r=e[1],i=t,o=r;switch(e.length){case 3:o=e[2];break;case 4:i=e[2],o=e[3]}n(this,t,r,i,o)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(e){U(this),e?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){L(e,!0),n(this,e,0,e,p(e))},selectNode:function(e){L(e,!1),F(e,O);var t=w(e),r=_(e);n(this,t.node,t.offset,r.node,r.offset)},extractContents:ce(E,n),deleteContents:ce(C,n),canSurroundContents:function(){U(this),B(this.startContainer),B(this.endContainer);var e=new T(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},splitBoundaries:function(){G(this)},splitBoundariesPreservingPositions:function(e){G(this,e)},normalizeBoundaries:function(){U(this);var e,t=this.startContainer,r=this.startOffset,i=this.endContainer,o=this.endOffset,c=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(i=e,o=e.length,e.appendData(t.data),v(t))},l=function(e){var n=e.previousSibling;if(n&&n.nodeType==e.nodeType){t=e;var a=e.length;if(r=n.length,e.insertData(0,n.data),v(n),t==i)o+=r,i=t;else if(i==e.parentNode){var c=s(e);o==c?(i=e,o=a):o>c&&o--}}},u=!0;if(a(i))o==i.length?c(i):0==o&&(e=i.previousSibling)&&e.nodeType==i.nodeType&&(o=e.length,t==i&&(u=!1),e.appendData(i.data),v(i),i=e);else{if(o>0){var d=i.childNodes[o-1];d&&a(d)&&c(d)}u=!this.collapsed}if(u){if(a(t))0==r?l(t):r==t.length&&(e=t.nextSibling)&&e.nodeType==t.nodeType&&(i==e&&(i=t,o+=t.length),t.appendData(e.data),v(e));else if(r<t.childNodes.length){var f=t.childNodes[r];f&&a(f)&&l(f)}}else t=i,r=o;n(this,t,r,i,o)},collapseToPoint:function(e,t){L(e,!0),z(e,t),this.setStartAndEnd(e,t)}}),se(t)}function ue(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:n.getCommonAncestor(e.startContainer,e.endContainer)}function de(e,t,r,i,o){e.startContainer=t,e.startOffset=r,e.endContainer=i,e.endOffset=o,e.document=n.getDocument(t),ue(e)}function fe(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,ue(this)}r.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){var n,r,i,o;U(this),Y(this.startContainer,t.startContainer);var a=e==te||e==Q?"start":"end",s=e==Z||e==Q?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],i=t[s+"Container"],o=t[s+"Offset"],u(n,r,i,o)},insertNode:function(e){if(U(this),F(e,P),B(this.startContainer),c(e,this.startContainer))throw new o("HIERARCHY_REQUEST_ERR");var t=x(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(U(this),this.collapsed)return b(this).createDocumentFragment();if(this.startContainer===this.endContainer&&a(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=b(this).createDocumentFragment()).appendChild(e),t;var n=new T(this,!0);return e=function e(t){for(var n,r,i,a=b(t.range).createDocumentFragment();r=t.next();){if(n=t.isPartiallySelectedSubtree(),r=r.cloneNode(!n),n&&(i=t.getSubtreeIterator(),r.appendChild(e(i)),i.detach()),10==r.nodeType)throw new o("HIERARCHY_REQUEST_ERR");a.appendChild(r)}return a}(n),n.detach(),e},canSurroundContents:function(){U(this),B(this.startContainer),B(this.endContainer);var e=new T(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},surroundContents:function(e){if(F(e,N),!this.canSurroundContents())throw new o("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);x(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){U(this);for(var e,t=new fe(b(this)),n=J.length;n--;)t[e=J[n]]=this[e];return t},toString:function(){U(this);var e=this.startContainer;if(e===this.endContainer&&a(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new T(this,!0);return j(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){U(this);var t=e.parentNode,n=s(e);if(!t)throw new o("NOT_FOUND_ERR");var r=this.comparePoint(t,n),i=this.comparePoint(t,n+1);return r<0?i>0?ie:ne:i>0?re:oe},comparePoint:function(e,t){return U(this),H(e,"HIERARCHY_REQUEST_ERR"),Y(e,this.startContainer),u(e,t,this.startContainer,this.startOffset)<0?-1:u(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:$,toHtml:function(){return K(this)},intersectsNode:function(e,t){if(U(this),m(e)!=m(this.startContainer))return!1;var n=e.parentNode,r=s(e);if(!n)return!0;var i=u(n,r,this.endContainer,this.endOffset),o=u(n,r+1,this.startContainer,this.startOffset);return t?i<=0&&o>=0:i<0&&o>0},isPointInRange:function(e,t){return U(this),H(e,"HIERARCHY_REQUEST_ERR"),Y(e,this.startContainer),u(e,t,this.startContainer,this.startOffset)>=0&&u(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return k(this,e,!1)},intersectsOrTouchesRange:function(e){return k(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=u(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=u(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==u(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==u(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new o("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==oe},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,p(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return U(this),function(e,t,n){var r,i=!(!t||!t.length),o=!!n;i&&(r=new RegExp("^("+t.join("|")+")$"));var s=[];return j(new T(e,!1),function(t){if((!i||r.test(t.nodeType))&&(!o||n(t))){var c=e.startContainer;if(t!=c||!a(c)||e.startOffset!=c.length){var l=e.endContainer;t==l&&a(l)&&0==e.endOffset||s.push(t)}}}),s}(this,e,t)},getDocument:function(){return b(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var r=b(this),i=e.createRange(r);t=t||n.getBody(r),i.selectNodeContents(t);var o=this.intersection(i),a=0,s=0;return o&&(i.setEnd(o.startContainer,o.startOffset),s=(a=i.toString().length)+o.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,i,o,a,s=[t],c=!1,l=!1;!l&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!c&&e.start>=n&&e.start<=i&&(this.setStart(r,e.start-n),c=!0),c&&e.end>=n&&e.end<=i&&(this.setEnd(r,e.end-n),l=!0),n=i;else for(o=(a=r.childNodes).length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return fe.rangesEqual(this,e)},isValid:function(){return q(this)},inspect:function(){return S(this)},detach:function(){}}),le(fe,de),r.extend(fe,{rangeProperties:J,RangeIterator:T,copyComparisonConstants:se,createPrototypeRange:le,inspect:S,toHtml:K,getRangeDocument:b,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=fe}),_.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,i=e.dom,o=e.util,a=i.DomPosition,s=e.DomRange,c=i.getBody,l=i.getContentDocument,u=i.isCharacterDataNode;if(e.features.implementsDomRange&&function(){var r,a,u=s.rangeProperties;function d(e){for(var t,n=u.length;n--;)e[t=u[n]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,d(this)},s.createPrototypeRange(n,function(e,t,n,r,i){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=i,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(r,i),e.setStart(t,n))}),(r=n.prototype).selectNode=function(e){this.nativeRange.selectNode(e),d(this)},r.cloneContents=function(){return this.nativeRange.cloneContents()},r.surroundContents=function(e){this.nativeRange.surroundContents(e),d(this)},r.collapse=function(e){this.nativeRange.collapse(e),d(this)},r.cloneRange=function(){return new n(this.nativeRange.cloneRange())},r.refresh=function(){d(this)},r.toString=function(){return this.nativeRange.toString()};var f=document.createTextNode("test");c(document).appendChild(f);var p=document.createRange();p.setStart(f,0),p.setEnd(f,0);try{p.setStart(f,1),r.setStart=function(e,t){this.nativeRange.setStart(e,t),d(this)},r.setEnd=function(e,t){this.nativeRange.setEnd(e,t),d(this)},a=function(e){return function(t){this.nativeRange[e](t),d(this)}}}catch(e){r.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}d(this)},r.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}d(this)},a=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}d(this)}}}r.setStartBefore=a("setStartBefore","setEndBefore"),r.setStartAfter=a("setStartAfter","setEndAfter"),r.setEndBefore=a("setEndBefore","setStartBefore"),r.setEndAfter=a("setEndAfter","setStartAfter"),r.selectNodeContents=function(e){this.setStartAndEnd(e,0,i.getNodeLength(e))},p.selectNodeContents(f),p.setEnd(f,3);var h=document.createRange();h.selectNodeContents(f),h.setEnd(f,4),h.setStart(f,2),-1==p.compareBoundaryPoints(p.START_TO_END,h)&&1==p.compareBoundaryPoints(p.END_TO_START,h)?r.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:r.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var m=document.createElement("div");m.innerHTML="123";var g=m.firstChild,v=c(document);v.appendChild(m),p.setStart(g,1),p.setEnd(g,2),p.deleteContents(),"13"==g.data&&(r.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},r.extractContents=function(){var e=this.nativeRange.extractContents();return d(this),e}),v.removeChild(m),v=null,o.isHostMethod(p,"createContextualFragment")&&(r.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),c(document).removeChild(f),r.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return(e=l(e,t,"createNativeRange")).createRange()}}(),e.features.implementsTextRange){var d=function(e,t,n,r,o){var s=e.duplicate();s.collapse(n);var c=s.parentElement();if(i.isOrIsAncestorOf(t,c)||(c=t),!c.canHaveHTML){var l=new a(c.parentNode,i.getNodeIndex(c));return{boundaryPosition:l,nodeInfo:{nodeIndex:l.offset,containerElement:l.node}}}var d=i.getDocument(c).createElement("span");d.parentNode&&i.removeNode(d);for(var f,p,h,m,g,v=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==c?o.nodeIndex:0,b=c.childNodes.length,w=b,_=w;_==b?c.appendChild(d):c.insertBefore(d,c.childNodes[_]),s.moveToElementText(d),0!=(f=s.compareEndPoints(v,e))&&y!=w;){if(-1==f){if(w==y+1)break;y=_}else w=w==y+1?y:_;_=Math.floor((y+w)/2),c.removeChild(d)}if(g=d.nextSibling,-1==f&&g&&u(g)){var x;if(s.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(g.data)){var k=s.duplicate(),j=k.text.replace(/\r\n/g,"\r").length;for(x=k.moveStart("character",j);-1==(f=k.compareEndPoints("StartToEnd",k));)x++,k.moveStart("character",1)}else x=s.text.length;m=new a(g,x)}else p=(r||!n)&&d.previousSibling,m=(h=(r||n)&&d.nextSibling)&&u(h)?new a(h,0):p&&u(p)?new a(p,p.data.length):new a(c,i.getNodeIndex(d));return i.removeNode(d),{boundaryPosition:m,nodeInfo:{nodeIndex:_,containerElement:c}}},f=function(e,t){var n,r,o,a,s=e.offset,l=i.getDocument(e.node),d=c(l).createTextRange(),f=u(e.node);return f?r=(n=e.node).parentNode:(n=s<(a=e.node.childNodes).length?a[s]:null,r=e.node),(o=l.createElement("span")).innerHTML="&#feff;",n?r.insertBefore(o,n):r.appendChild(o),d.moveToElementText(o),d.collapse(!t),r.removeChild(o),f&&d[t?"moveStart":"moveEnd"]("character",s),d};((r=function(e){this.textRange=e,this.refresh()}).prototype=new s(document)).refresh=function(){var e,t,n,r,o=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();(n=e.duplicate()).collapse(!1);var o=n.parentElement(),a=r==o?r:i.getCommonAncestor(r,o);return a==t?a:i.getCommonAncestor(t,a)}(this.textRange);0==(r=this.textRange).compareEndPoints("StartToEnd",r)?t=e=d(this.textRange,o,!0,!0).boundaryPosition:(e=(n=d(this.textRange,o,!0,!1)).boundaryPosition,t=d(this.textRange,o,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var p=function(e){if(e.collapsed)return f(new a(e.startContainer,e.startOffset),!0);var t=f(new a(e.startContainer,e.startOffset),!0),n=f(new a(e.endContainer,e.endOffset),!1),r=c(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=p,r.prototype.toTextRange=function(){return p(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var h=Function("return this;")();void 0===h.Range&&(h.Range=r),e.createNativeRange=function(e){return e=l(e,t,"createNativeRange"),c(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=l(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=l(e,t,"createRangyRange"),new s(e)},o.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),_.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){e.config.checkSelectionRanges=!0;var n,r,i=e.dom,o=e.util,a=o.isHostMethod,s=e.DomRange,c=e.WrappedRange,l=e.DOMException,u=i.DomPosition,d=e.features,f=i.getDocument,p=i.getBody,h=s.rangesEqual;function m(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function g(e,n){if(e){if(i.isWindow(e))return e;if(e instanceof H)return e.win;var r=i.getContentDocument(e,t,n);return i.getWindow(r)}return window}function v(e){return g(e,"getDocSelection").document.selection}function y(e){var t=!1;return e.anchorNode&&(t=1==i.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var b=a(window,"getSelection"),w=o.isHostObject(document,"selection");d.implementsWinGetSelection=b,d.implementsDocSelection=w;var _=w&&(!b||e.config.preferTextRange);if(_)n=v,e.isSelectionValid=function(e){var t=g(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||f(n.createRange().parentElement())==t};else{if(!b)return t.fail("Neither document.selection or window.getSelection() detected."),!1;n=function(e){return g(e,"getWinSelection").getSelection()},e.isSelectionValid=function(){return!0}}e.getNativeSelection=n;var x=n();if(!x)return t.fail("Native selection was null (possibly issue 138?)"),!1;var k=e.createNativeRange(document),j=p(document),C=o.areHostProperties(x,["anchorNode","focusNode","anchorOffset","focusOffset"]);d.selectionHasAnchorAndFocus=C;var E=a(x,"extend");d.selectionHasExtend=E;var S="number"==typeof x.rangeCount;d.selectionHasRangeCount=S;var T=!1,O=!0,A=E?function(t,n){var r=s.getRangeDocument(n),i=e.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),t.addRange(D(i)),t.extend(n.startContainer,n.startOffset)}:null;o.areHostMethods(x,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof x.rangeCount&&d.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,o=[],a=y(t),s=0;s<n;++s)o[s]=t.getRangeAt(s);var c=i.createTestElement(document,"",!1),l=c.appendChild(document.createTextNode("   ")),u=document.createRange();if(u.setStart(l,1),u.collapse(!0),t.removeAllRanges(),t.addRange(u),O=1==t.rangeCount,t.removeAllRanges(),!r){var d=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(d&&parseInt(d[1])>=36)T=!1;else{var f=u.cloneRange();u.setStart(l,0),f.setEnd(l,3),f.setStart(l,2),t.addRange(u),t.addRange(f),T=2==t.rangeCount}}for(i.removeNode(c),t.removeAllRanges(),s=0;s<n;++s)0==s&&a?A?A(t,o[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(o[s])):t.addRange(o[s])}}(),d.selectionSupportsMultipleRanges=T,d.collapsedNonEditableSelectionsSupported=O;var P,N,M=!1;function R(e,t,n){var r=n?"end":"start",i=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function I(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function D(t){var n;return t instanceof s?((n=e.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof c?n=t.nativeRange:d.implementsDomRange&&t instanceof i.getWindow(t.startContainer).Range&&(n=t),n}function L(e){var n=e.getNodes();if(!function(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!i.isAncestorOf(e[0],e[t]))return!1;return!0}(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function F(e){return!!e&&void 0!==e.text}function z(e,t){var n=new c(t);e._ranges=[n],R(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function Y(t){if(t._ranges.length=0,"None"==t.docSelection.type)I(t);else{var n=t.docSelection.createRange();if(F(n))z(t,n);else{t.rangeCount=n.length;for(var r,i=f(n.item(0)),o=0;o<t.rangeCount;++o)(r=e.createRange(i)).selectNode(n.item(o)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,R(t,t._ranges[t.rangeCount-1],!1)}}}function B(e,n){for(var r=e.docSelection.createRange(),i=L(n),o=f(r.item(0)),a=p(o).createControlRange(),s=0,c=r.length;s<c;++s)a.add(r.item(s));try{a.add(i)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),Y(e)}function H(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function X(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}j&&a(j,"createControlRange")&&(P=j.createControlRange(),o.areHostProperties(P,["item","add"])&&(M=!0)),d.implementsControlRange=M,r=C?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},a(x,"getRangeAt")?N=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:C&&(N=function(t){var n=f(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),H.prototype=e.selectionPrototype;var q=[];function U(e,t){for(var n,r,i=q.length;i--;)if(r=(n=q[i]).selection,"deleteAll"==t)X(r);else if(n.win==e)return"delete"==t?(q.splice(i,1),!0):r;return"deleteAll"==t&&(q.length=0),null}var W=function(e){if(e&&e instanceof H)return e.refresh(),e;var t=U(e=g(e,"getNativeSelection")),r=n(e),i=w?v(e):null;return t?(t.nativeSelection=r,t.docSelection=i,t.refresh()):(t=new H(r,i,e),q.push({win:e,selection:t})),t};e.getSelection=W,o.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var V,$=H.prototype;function G(e,n){for(var r,i=f(n[0].startContainer),o=p(i).createControlRange(),a=0,s=n.length;a<s;++a){r=L(n[a]);try{o.add(r)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),Y(e)}if(!_&&C&&o.areHostMethods(x,["removeAllRanges","addRange"])){$.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),I(this)};var K=function(e,t){A(e.nativeSelection,t),e.refresh()};$.addRange=S?function(t,n){if(M&&w&&"Control"==this.docSelection.type)B(this,t);else if(m(n)&&E)K(this,t);else{var i;T?i=this.rangeCount:(this.removeAllRanges(),i=0);var o=D(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var a=N(this.nativeSelection,this.rangeCount-1);a&&!h(a,t)&&(t=new c(a))}this._ranges[this.rangeCount-1]=t,R(this,t,J(this.nativeSelection)),this.isCollapsed=r(this)}else this.refresh()}}:function(e,t){m(t)&&E?K(this,e):(this.nativeSelection.addRange(D(e)),this.refresh())},$.setRanges=function(e){if(M&&w&&e.length>1)G(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(a(x,"empty")&&a(k,"select")&&M&&_))return t.fail("No means of selecting a Range or TextRange was found"),!1;$.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=f(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=f(t.item(0)))}if(e)p(e).createTextRange().select(),this.docSelection.empty()}}catch(e){}I(this)},$.addRange=function(t){"Control"==this.docSelection.type?B(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,R(this,t,!1))},$.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?G(this,e):t&&this.addRange(e[0])}}if($.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new l("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},_)V=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=p(t.win.document).createTextRange()).collapse(!0),"Control"==t.docSelection.type?Y(t):F(n)?z(t,n):I(t)};else if(a(x,"getRangeAt")&&"number"==typeof x.rangeCount)V=function(t){if(M&&w&&"Control"==t.docSelection.type)Y(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;n<i;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));R(t,t._ranges[t.rangeCount-1],J(t.nativeSelection)),t.isCollapsed=r(t)}else I(t)};else{if(!C||"boolean"!=typeof x.isCollapsed||"boolean"!=typeof k.collapsed||!d.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;V=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=N(n,0),e._ranges=[t],e.rangeCount=1,function(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}(e),e.isCollapsed=r(e)):I(e)}}$.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(V(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!h(t[i],this._ranges[i]))return!0;return!1}};var J,Q=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)h(t,n[r])||e.addRange(n[r]);e.rangeCount||I(e)};function Z(e,t){if(e.win.document!=f(t))throw new l("WRONG_DOCUMENT_ERR")}function ee(t){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0))["set"+(t?"Start":"End")](n,r):(i=e.createRange(this.win.document)).setStartAndEnd(n,r),this.setSingleRange(i,this.isBackward())}}function te(e){var t=[],n=new u(e.anchorNode,e.anchorOffset),r=new u(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var o=0,a=e.rangeCount;o<a;++o)t[o]=s.inspect(e.getRangeAt(o));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}$.removeRange=M&&w?function(e){if("Control"==this.docSelection.type){for(var t=this.docSelection.createRange(),n=L(e),r=f(t.item(0)),i=p(r).createControlRange(),o=!1,a=0,s=t.length;a<s;++a)t.item(a)!==n||o?i.add(t.item(a)):o=!0;i.select(),Y(this)}else Q(this,e)}:function(e){Q(this,e)},!_&&C&&d.implementsDomRange?(J=y,$.isBackward=function(){return J(this)}):J=$.isBackward=function(){return!1},$.isBackwards=$.isBackward,$.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},$.collapse=function(t,n){Z(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},$.collapseToStart=function(){if(!this.rangeCount)throw new l("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},$.collapseToEnd=function(){if(!this.rangeCount)throw new l("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},$.selectAllChildren=function(t){Z(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},$.deleteFromDocument=function(){if(M&&w&&"Control"==this.docSelection.type){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),i.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,o=n.length;r<o;++r)n[r].deleteContents();this.addRange(n[o-1])}}},$.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},$.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},$.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},$.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t||[]))}),n},$.setStart=ee(!0),$.setEnd=ee(!1),e.rangePrototype.select=function(e){W(this.getDocument()).setSingleRange(this,e)},$.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},$.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},$.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},$.moveToBookmark=function(t){for(var n,r,i=[],o=0;n=t.rangeBookmarks[o++];)(r=e.createRange(this.win)).moveToBookmark(n),i.push(r);t.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},$.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},$.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},$.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(s.toHtml(t))}),e.join("")},d.implementsTextRange&&($.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(F(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),$.getName=function(){return"WrappedSelection"},$.inspect=function(){return te(this)},$.detach=function(){U(this.win,"delete"),X(this)},H.detachAll=function(){U(null,"deleteAll")},H.inspect=te,H.isDirectionBackward=m,e.Selection=H,e.selectionPrototype=$,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return W(e)}),e=null})});var R=!1,I=function(e){R||(R=!0,!_.initialized&&_.config.autoInitialize&&S())};return b&&("complete"==document.readyState?I():(s(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",I,!1),v(window,"load",I))),_},i=this,"function"==typeof define&&define.amd?define(r):void 0!==t&&"object"==typeof n?t.exports=r():i.rangy=r()},{}],416:[function(e,t,n){var r,i;r=function(e){return e.createModule("Highlighter",["ClassApplier"],function(e,t){var n=e.dom,r=n.arrayContains,i=n.getBody,o=e.util.createOptions,a=e.util.forEach,s=1;function c(e,t){return e.characterRange.start-t.characterRange.start}function l(e,t){return t?e.getElementById(t):i(e)}var u={};function d(e,t){this.type=e,this.converterCreator=t}function f(e,t){u[e]=new d(e,t)}function p(e){var t=u[e];if(t instanceof d)return t.create();throw new Error("Highlighter type '"+e+"' is not valid")}function h(e,t){this.start=e,this.end=t}d.prototype.create=function(){var e=this.converterCreator();return e.type=this.type,e},e.registerHighlighterType=f,h.prototype={intersects:function(e){return this.start<e.end&&this.end>e.start},isContiguousWith:function(e){return this.start==e.end||this.end==e.start},union:function(e){return new h(Math.min(this.start,e.start),Math.max(this.end,e.end))},intersection:function(e){return new h(Math.max(this.start,e.start),Math.min(this.end,e.end))},getComplements:function(e){var t=[];if(this.start>=e.start){if(this.end<=e.end)return[];t.push(new h(e.end,this.end))}else t.push(new h(this.start,Math.min(this.end,e.start))),this.end>e.end&&t.push(new h(e.end,this.end));return t},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},h.fromCharacterRange=function(e){return new h(e.start,e.end)};var m,g={rangeToCharacterRange:function(e,t){var n=e.getBookmark(t);return new h(n.start,n.end)},characterRangeToRange:function(t,n,r){var i=e.createRange(t);return i.moveToBookmark({start:n.start,end:n.end,containerNode:r}),i},serializeSelection:function(e,t){for(var n=e.getAllRanges(),r=[],i=1==n.length&&e.isBackward(),o=0,a=n.length;o<a;++o)r[o]={characterRange:this.rangeToCharacterRange(n[o],t),backward:i};return r},restoreSelection:function(e,t,n){e.removeAllRanges();for(var r,i,o=e.win.document,a=0,s=t.length;a<s;++a)(i=t[a]).characterRange,r=this.characterRangeToRange(o,i.characterRange,n),e.addRange(r,i.backward)}};function v(e,t,n,r,i,o){i?(this.id=i,s=Math.max(s,i+1)):this.id=s++,this.characterRange=t,this.doc=e,this.classApplier=n,this.converter=r,this.containerElementId=o||null,this.applied=!1}function y(e,t){t=t||"textContent",this.doc=e||document,this.classAppliers={},this.highlights=[],this.converter=p(t)}f("textContent",function(){return g}),f("TextRange",function(){if(!m){var t=e.modules.TextRange;if(!t)throw new Error("TextRange module is missing.");if(!t.supported)throw new Error("TextRange module is present but not supported.");m={rangeToCharacterRange:function(e,t){return h.fromCharacterRange(e.toCharacterRange(t))},characterRangeToRange:function(t,n,r){var i=e.createRange(t);return i.selectCharacters(r,n.start,n.end),i},serializeSelection:function(e,t){return e.saveCharacterRanges(t)},restoreSelection:function(e,t,n){e.restoreCharacterRanges(n,t)}}}return m}),v.prototype={getContainerElement:function(){return l(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(e){this.characterRange=this.converter.rangeToCharacterRange(e,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(e){return this.getRange().containsNodeContents(e.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}},y.prototype={addClassApplier:function(e){this.classAppliers[e.className]=e},getHighlightForElement:function(e){for(var t=this.highlights,n=0,r=t.length;n<r;++n)if(t[n].containsElement(e))return t[n];return null},removeHighlights:function(e){for(var t,n=0,i=this.highlights.length;n<i;++n)t=this.highlights[n],r(e,t)&&(t.unapply(),this.highlights.splice(n--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(e){var t=[],n=this.highlights;return a(e,function(e){a(n,function(n){e.intersectsRange(n.getRange())&&!r(t,n)&&t.push(n)})}),t},highlightCharacterRanges:function(t,n,r){var i,s,c,l,u,d,f,p,m,g,y,b,w=this.highlights,_=this.converter,x=this.doc,k=[],j=t?this.classAppliers[t]:null,C=(r=o(r,{containerElementId:null,exclusive:!0})).containerElementId,E=r.exclusive;for(C&&(l=this.doc.getElementById(C))&&((u=e.createRange(this.doc)).selectNodeContents(l),d=new h(0,u.toString().length)),i=0,s=n.length;i<s;++i)if(f=n[i],y=[],d&&(f=f.intersection(d)),f.start!=f.end){for(c=0;c<w.length;++c)m=!1,C==w[c].containerElementId&&(p=w[c].characterRange,b=!(g=j==w[c].classApplier)&&E,(p.intersects(f)||p.isContiguousWith(f))&&(g||b)&&(b&&a(p.getComplements(f),function(e){y.push(new v(x,e,w[c].classApplier,_,null,C))}),m=!0,g&&(f=p.union(f)))),m?(k.push(w[c]),w[c]=new v(x,p.union(f),j,_,null,C)):y.push(w[c]);j&&y.push(new v(x,f,j,_,null,C)),this.highlights=w=y}a(k,function(e){e.unapply()});var S=[];return a(w,function(e){e.applied||(e.apply(),S.push(e))}),S},highlightRanges:function(t,n,r){var s,c=[],l=this.converter,u=(r=o(r,{containerElement:null,exclusive:!0})).containerElement,d=u?u.id:null;return u&&(s=e.createRange(u)).selectNodeContents(u),a(n,function(e){var t=u?s.intersection(e):e;c.push(l.rangeToCharacterRange(t,u||i(e.getDocument())))}),this.highlightCharacterRanges(t,c,{containerElementId:d,exclusive:r.exclusive})},highlightSelection:function(t,n){var r=this.converter,i=!!t&&this.classAppliers[t],s=(n=o(n,{containerElementId:null,selection:e.getSelection(this.doc),exclusive:!0})).containerElementId,c=n.exclusive,u=n.selection,d=l(u.win.document,s);if(!i&&!1!==t)throw new Error("No class applier found for class '"+t+"'");var f=r.serializeSelection(u,d),p=[];a(f,function(e){p.push(h.fromCharacterRange(e.characterRange))});var m=this.highlightCharacterRanges(t,p,{containerElementId:s,exclusive:c});return r.restoreSelection(u,f,d),m},unhighlightSelection:function(t){t=t||e.getSelection(this.doc);var n=this.getIntersectingHighlights(t.getAllRanges());return this.removeHighlights(n),t.removeAllRanges(),n},getHighlightsInSelection:function(t){return t=t||e.getSelection(this.doc),this.getIntersectingHighlights(t.getAllRanges())},selectionOverlapsHighlight:function(e){return this.getHighlightsInSelection(e).length>0},serialize:function(e){var t,n,r,i,s=this,l=s.highlights;return l.sort(c),t=(e=o(e,{serializeHighlightText:!1,type:s.converter.type})).type,(r=t!=s.converter.type)&&(i=p(t)),n=["type:"+t],a(l,function(t){var o,a=t.characterRange;r&&(o=t.getContainerElement(),a=i.rangeToCharacterRange(s.converter.characterRangeToRange(s.doc,a,o),o));var c=[a.start,a.end,t.id,t.classApplier.className,t.containerElementId];e.serializeHighlightText&&c.push(t.getText()),n.push(c.join("$"))}),n.join("|")},deserialize:function(e){var t,n,r,i,o,a,s,c,u=e.split("|"),d=[],f=u[0],m=!1;if(!f||!(t=/^type:(\w+)$/.exec(f)))throw new Error("Serialized highlights are invalid.");(n=t[1])!=this.converter.type&&(r=p(n),m=!0),u.shift();for(var g,y=u.length;y-- >0;){if(a=new h(+(g=u[y].split("$"))[0],+g[1]),s=g[4]||null,m&&(c=l(this.doc,s),a=this.converter.rangeToCharacterRange(r.characterRangeToRange(this.doc,a,c),c)),!(i=this.classAppliers[g[3]]))throw new Error("No class applier found for class '"+g[3]+"'");(o=new v(this.doc,a,i,this.converter,parseInt(g[2]),s)).apply(),d.push(o)}this.highlights=d}},e.Highlighter=y,e.createHighlighter=function(e,t){return new y(e,t)}}),e},i=this,"function"==typeof define&&define.amd?define(["./rangy-core"],r):void 0!==t&&"object"==typeof n?t.exports=r(e("rangy")):r(i.rangy)},{rangy:415}],417:[function(e,t,n){var r,i;r=function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){var n=e.dom,r=n.removeNode,i=e.Selection.isDirectionBackward,o="\ufeff";function a(e,t){return(t||document).getElementById(e)}function s(e,t){var r,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),a=n.getDocument(e.startContainer),s=e.cloneRange();return s.collapse(t),(r=a.createElement("span")).id=i,r.style.lineHeight="0",r.style.display="none",r.className="rangySelectionBoundary",r.appendChild(a.createTextNode(o)),s.insertNode(r),r}function c(e,n,i,o){var s=a(i,e);s?(n[o?"setStartBefore":"setEndBefore"](s),r(s)):t.warn("Marker element has been removed. Cannot restore selection.")}function l(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function u(t,n){var r,o=e.DomRange.getRangeDocument(t),a=t.toString(),c=i(n);return t.collapsed?{document:o,markerId:(r=s(t,!1)).id,collapsed:!0}:(r=s(t,!1),{document:o,startMarkerId:s(t,!0).id,endMarkerId:r.id,collapsed:!1,backward:c,toString:function(){return"original text: '"+a+"', new text: '"+t.toString()+"'"}})}function d(n,i){var o=n.document;void 0===i&&(i=!0);var s=e.createRange(o);if(n.collapsed){var l=a(n.markerId,o);if(l){l.style.display="inline";var u=l.previousSibling;u&&3==u.nodeType?(r(l),s.collapseToPoint(u,u.length)):(s.collapseBefore(l),r(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else c(o,s,n.startMarkerId,!0),c(o,s,n.endMarkerId,!1);return i&&s.normalizeBoundaries(),s}function f(t,n){var r,o,s=[],c=i(n);(t=t.slice(0)).sort(l);for(var d=0,f=t.length;d<f;++d)s[d]=u(t[d],c);for(d=f-1;d>=0;--d)r=t[d],o=e.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(a(s[d].markerId,o)):(r.setEndBefore(a(s[d].endMarkerId,o)),r.setStartAfter(a(s[d].startMarkerId,o)));return s}function p(e){for(var t=[],n=e.length-1;n>=0;n--)t[n]=d(e[n],!0);return t}function h(e,t){var n=a(t,e);n&&r(n)}e.util.extend(e,{saveRange:u,restoreRange:d,saveRanges:f,restoreRanges:p,saveSelection:function(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=e.getSelection(n),i=r.getAllRanges(),o=1==i.length&&r.isBackward(),a=f(i,o);return o?r.setSingleRange(i[0],o):r.setRanges(i),{win:n,rangeInfos:a,restored:!1}},restoreSelection:function(t,n){if(!t.restored){var r=t.rangeInfos,i=e.getSelection(t.win),o=p(r);1==r.length&&n&&e.features.selectionHasExtend&&r[0].backward?(i.removeAllRanges(),i.addRange(o[0],!0)):i.setRanges(o),t.restored=!0}},removeMarkerElement:h,removeMarkers:function(e){for(var t,n=e.rangeInfos,r=0,i=n.length;r<i;++r)(t=n[r]).collapsed?h(e.doc,t.markerId):(h(e.doc,t.startMarkerId),h(e.doc,t.endMarkerId))}})}),e},i=this,"function"==typeof define&&define.amd?define(["./rangy-core"],r):void 0!==t&&"object"==typeof n?t.exports=r(e("rangy")):r(i.rangy)},{rangy:415}],418:[function(e,t,n){var r,i;r=function(e){return e.createModule("Serializer",["WrappedSelection"],function(e,t){var n=e.util;"undefined"!=typeof encodeURIComponent&&"undefined"!=typeof decodeURIComponent||t.fail("encodeURIComponent and/or decodeURIComponent method is missing");var r=function(){var e=null;return function(t){for(var n=function(e){for(var t,n=[],r=0,i=e.length;r<i;++r)(t=e.charCodeAt(r))<128?n.push(t):t<2048?n.push(t>>6|192,63&t|128):n.push(t>>12|224,t>>6&63|128,63&t|128);return n}(t),r=-1,i=(e||(e=function(){for(var e,t,n=[],r=0;r<256;++r){for(t=r,e=8;e--;)1==(1&t)?t=t>>>1^3988292384:t>>>=1;n[r]=t>>>0}return n}()),e),o=0,a=n.length;o<a;++o)r=r>>>8^i[255&(r^n[o])];return(-1^r)>>>0}}(),i=e.dom;function o(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e,t){t=t||[];var n=e.nodeType,r=e.childNodes,i=r.length,s=[n,e.nodeName,i].join(":"),c="",l="";switch(n){case 3:c=o(e.nodeValue);break;case 8:c="\x3c!--"+o(e.nodeValue)+"--\x3e";break;default:c="<"+s+">",l="</>"}c&&t.push(c);for(var u=0;u<i;++u)a(r[u],t);return l&&t.push(l),t}function s(e){var t=a(e).join("");return r(t).toString(16)}function c(e,t,n){var r=[],o=e;for(n=n||i.getDocument(e).documentElement;o&&o!=n;)r.push(i.getNodeIndex(o,!0)),o=o.parentNode;return r.join("/")+":"+t}function l(e,n,r){n||(n=(r||document).documentElement);for(var o,a=e.split(":"),s=n,c=a[0]?a[0].split("/"):[],l=c.length;l--;){if(!((o=parseInt(c[l],10))<s.childNodes.length))throw t.createError("deserializePosition() failed: node "+i.inspectNode(s)+" has no child with index "+o+", "+l);s=s.childNodes[o]}return new i.DomPosition(s,parseInt(a[1],10))}function u(n,r,o){if(o=o||e.DomRange.getRangeDocument(n).documentElement,!i.isOrIsAncestorOf(o,n.commonAncestorContainer))throw t.createError("serializeRange(): range "+n.inspect()+" is not wholly contained within specified root node "+i.inspectNode(o));var a=c(n.startContainer,n.startOffset,o)+","+c(n.endContainer,n.endOffset,o);return r||(a+="{"+s(o)+"}"),a}var d=/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/;function f(n,r,o){r?o=o||i.getDocument(r):r=(o=o||document).documentElement;var a=d.exec(n),c=a[4];if(c){var u=s(r);if(c!==u)throw t.createError("deserializeRange(): checksums of serialized range root node ("+c+") and target root node ("+u+") do not match")}var f=l(a[1],r,o),p=l(a[2],r,o),h=e.createRange(o);return h.setStartAndEnd(f.node,f.offset,p.node,p.offset),h}function p(e,t,n){t||(t=(n||document).documentElement);var r=d.exec(e)[3];return!r||r===s(t)}function h(t,n,r){for(var i=(t=e.getSelection(t)).getAllRanges(),o=[],a=0,s=i.length;a<s;++a)o[a]=u(i[a],n,r);return o.join("|")}function m(t,n,r){n?r=r||i.getWindow(n):n=(r=r||window).document.documentElement;for(var o=t.split("|"),a=e.getSelection(r),s=[],c=0,l=o.length;c<l;++c)s[c]=f(o[c],n,r.document);return a.setRanges(s),a}var g="rangySerializedSelection";n.extend(e,{serializePosition:c,deserializePosition:l,serializeRange:u,deserializeRange:f,canDeserializeRange:p,serializeSelection:h,deserializeSelection:m,canDeserializeSelection:function(e,t,n){var r;t?r=n?n.document:i.getDocument(t):t=(n=n||window).document.documentElement;for(var o=e.split("|"),a=0,s=o.length;a<s;++a)if(!p(o[a],t,r))return!1;return!0},restoreSelectionFromCookie:function(e){var t=function(e){for(var t,n,r=e.split(/[;,]/),i=0,o=r.length;i<o;++i)if((t=r[i].split("="))[0].replace(/^\s+/,"")==g&&(n=t[1]))return decodeURIComponent(n.replace(/\s+$/,""));return null}((e=e||window).document.cookie);t&&m(t,e.doc)},saveSelectionCookie:function(t,n){t=t||window;var r=(n="object"==typeof n?n:{}).expires?";expires="+n.expires.toUTCString():"",i=n.path?";path="+n.path:"",o=n.domain?";domain="+n.domain:"",a=n.secure?";secure":"",s=h(e.getSelection(t));t.document.cookie=encodeURIComponent(g)+"="+encodeURIComponent(s)+r+i+o+a},getElementChecksum:s,nodeToInfoString:a}),n.crc32=r}),e},i=this,"function"==typeof define&&define.amd?define(["./rangy-core"],r):void 0!==t&&"object"==typeof n?t.exports=r(e("rangy")):r(i.rangy)},{rangy:415}],419:[function(e,t,n){var r,i;r=function(e){return e.createModule("TextRange",["WrappedSelection"],function(e,t){var n,r,i,o="undefined",a="character",s="word",c=e.dom,l=e.util,u=l.extend,d=l.createOptions,f=c.getBody,p=/^[ \t\f\r\n]+$/,h=/^[ \t\f\r]+$/,m=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,g=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,v="en",y=e.Selection.isDirectionBackward,b=!1,w=!1;function _(e,t){for(var n=e.slice(t.start,t.end),r={isWord:t.isWord,chars:n,toString:function(){return n.join("")}},i=0,o=n.length;i<o;++i)n[i].token=r;return r}function x(e,t,n){for(var r,i=n(e,t),o=[],a=0;r=i[a++];)o.push(_(e,r));return o}n=c.createTestElement(document,"<p>1 </p><p></p>",!0),r=n.firstChild,(i=e.getSelection()).collapse(r.lastChild,2),i.setStart(r.firstChild,0),n.innerHTML="1 <br />",i.collapse(n,2),i.setStart(n.firstChild,0),b=1==(""+i).length,n.innerHTML="1 <p>1</p>",i.collapse(n,2),i.setStart(n.firstChild,0),w=1==(""+i).length,c.removeNode(n),i.removeAllRanges();var k={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""};var j={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!b,includeSpaceBeforeBlock:!w,includePreLineTrailingSpace:!0},C={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(e,t){var n,r=e.join(""),i=[];function o(e,t,n){i.push({start:e,end:t,isWord:n})}for(var a,s,c=0;n=t.wordRegex.exec(r);){if(s=(a=n.index)+n[0].length,a>c&&o(c,a,!1),t.includeTrailingSpace)for(;g.test(e[s]);)++s;o(a,s,!0),c=s}return c<e.length&&o(c,e.length,!1),i}}},E={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},S={wordOptions:null,characterOptions:null},T={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},O={wordOptions:null,characterOptions:null,direction:"forward"};function A(e,t){var n=d(e,t);return t.hasOwnProperty("wordOptions")&&(n.wordOptions=function(e){var t,n;return e?(t=e.language||v,u(n={},C[t]||C[v]),u(n,e),n):C[v]}(n.wordOptions)),t.hasOwnProperty("characterOptions")&&(n.characterOptions=d(n.characterOptions,k)),n}var P,N,M,R=c.getComputedStyleProperty;N=document.createElement("table"),(M=f(document)).appendChild(N),P="block"==R(N,"display"),M.removeChild(N);var I={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};function D(e,t){var n=R(e,"display",t),r=e.tagName.toLowerCase();return"block"==n&&P&&I.hasOwnProperty(r)?I[r]:n}function L(e){for(var t=function(e){return function(e){var t=[];for(;e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}(e).concat([e])}(e),n=0,r=t.length;n<r;++n)if(1==t[n].nodeType&&"none"==D(t[n]))return!0;return!1}function F(e,t){return!t&&e.hasChildNodes()?e.firstChild:function(e){for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}(e)}function z(e){var t=e.previousSibling;if(t){for(e=t;e.hasChildNodes();)e=e.lastChild;return e}var n=e.parentNode;return n&&1==n.nodeType?n:null}function Y(e){if(!e||3!=e.nodeType)return!1;var t=e.data;if(""===t)return!0;var n=e.parentNode;if(!n||1!=n.nodeType)return!1;var r=R(e.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(t)&&/^(normal|nowrap)$/.test(r)||/^[\t\r ]+$/.test(t)&&"pre-line"==r}function B(e){return""===e.data||!!Y(e)&&(!e.parentNode||!!L(e))}function H(e){var t,n,r=e.nodeType;return 7==r||8==r||L(e)||/^(script|style)$/i.test(e.nodeName)||3==(t=e).nodeType&&(n=t.parentNode)&&"hidden"==R(n,"visibility")||B(e)}function X(e,t){var n=e.nodeType;return 7==n||8==n||1==n&&"none"==D(e,t)}function q(){this.store={}}q.prototype={get:function(e){return this.store.hasOwnProperty(e)?this.store[e]:null},set:function(e,t){return this.store[e]=t}};function U(e,t,n){return function(r){var i=this.cache;if(i.hasOwnProperty(e))return 0,i[e];0;var o=t.call(this,n?this[n]:this,r);return i[e]=o,o}}function W(e,t){this.node=e,this.session=t,this.cache=new q,this.positions=new q}var V={getPosition:function(e){var t=this.positions;return t.get(e)||t.set(e,new $(this,e))},toString:function(){return"[NodeWrapper("+c.inspectNode(this.node)+")]"}};W.prototype=V;function $(e,t){this.offset=t,this.nodeWrapper=e,this.node=e.node,this.session=e.session,this.cache=new q}u(V,{isCharacterDataNode:U("isCharacterDataNode",c.isCharacterDataNode,"node"),getNodeIndex:U("nodeIndex",c.getNodeIndex,"node"),getLength:U("nodeLength",c.getNodeLength,"node"),containsPositions:U("containsPositions",function(e){return c.isCharacterDataNode(e)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(e.nodeName)},"node"),isWhitespace:U("isWhitespace",Y,"node"),isCollapsedWhitespace:U("isCollapsedWhitespace",B,"node"),getComputedDisplay:U("computedDisplay",D,"node"),isCollapsed:U("collapsed",H,"node"),isIgnored:U("ignored",X,"node"),next:U("nextPos",F,"node"),previous:U("previous",z,"node"),getTextNodeInfo:U("textNodeInfo",function(e){var t=null,n=!1,r=R(e.parentNode,"whiteSpace"),i="pre-line"==r;return i?(t=h,n=!0):"normal"!=r&&"nowrap"!=r||(t=p,n=!0),{node:e,text:e.data,spaceRegex:t,collapseSpaces:n,preLine:i}},"node"),hasInnerText:U("hasInnerText",function(e,t){for(var n=this.session,r=n.getPosition(e.parentNode,this.getNodeIndex()+1),i=n.getPosition(e,0),o=t?r:i,a=t?i:r;o!==a;){if(o.prepopulateChar(),o.isDefinitelyNonEmpty())return!0;o=t?o.previousVisible():o.nextVisible()}return!1},"node"),isRenderedBlock:U("isRenderedBlock",function(e){for(var t=e.getElementsByTagName("br"),n=0,r=t.length;n<r;++n)if(!H(t[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:U("trailingSpace",function(e){if("br"==e.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var t=e.lastChild;t;){if(!X(t))return 1==t.nodeType?this.session.getNodeWrapper(t).getTrailingSpace():"";t=t.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:U("leadingSpace",function(e){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var G={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){var e=this;if(!e.prepopulatedChar){var t=e.node,n=e.offset,r="",i="EMPTY",o=!1;if(n>0)if(3==t.nodeType){var a=t.data,s=a.charAt(n-1),c=e.nodeWrapper.getTextNodeInfo(),l=c.spaceRegex;c.collapseSpaces?l.test(s)?n>1&&l.test(a.charAt(n-2))||(c.preLine&&"\n"===a.charAt(n)?(r=" ",i="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(r=" ",i="COLLAPSIBLE_SPACE")):(r=s,i="NON_SPACE",o=!0):(r=s,i="UNCOLLAPSIBLE_SPACE",o=!0)}else{var u=t.childNodes[n-1];if(u&&1==u.nodeType&&!H(u)&&("br"==u.tagName.toLowerCase()?(r="\n",e.isBr=!0,i="COLLAPSIBLE_SPACE",o=!1):e.checkForTrailingSpace=!0),!r){var d=t.childNodes[n];d&&1==d.nodeType&&!H(d)&&(e.checkForLeadingSpace=!0)}}e.prepopulatedChar=!0,e.character=r,e.characterType=i,e.isCharInvariant=o}},isDefinitelyNonEmpty:function(){var e=this.characterType;return"NON_SPACE"==e||"UNCOLLAPSIBLE_SPACE"==e},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();e&&(this.isTrailingSpace=!0,this.character=e,this.characterType="COLLAPSIBLE_SPACE"),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();t&&(this.isLeadingSpace=!0,this.character=t,this.characterType="COLLAPSIBLE_SPACE"),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(e){for(var t=this;t=t.previousVisible();)if(""!==t.getCharacter(e))return t;return null},getCharacter:function(e){this.resolveLeadingAndTrailingSpaces();var t=this.character,n=function(e){var t=e||"",n="string"==typeof t?t.split(""):t;return n.sort(function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}),n.join("").replace(/(.)\1+/g,"$1")}(e.ignoreCharacters),r=""!==t&&n.indexOf(t)>-1;if(this.isCharInvariant)return r?"":t;var i=["character",e.includeSpaceBeforeBr,e.includeBlockContentTrailingSpace,e.includePreLineTrailingSpace,n].join("_"),o=this.cache.get(i);if(null!==o)return o;var a,s,c="",l="COLLAPSIBLE_SPACE"==this.characterType,u=!1,d=this;function f(){return u||(s=d.getPrecedingUncollapsedPosition(e),u=!0),s}return l&&("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type?c="\n":" "==t&&(!f()||s.isTrailingSpace||"\n"==s.character||" "==s.character&&"COLLAPSIBLE_SPACE"==s.characterType)||("\n"==t&&this.isLeadingSpace?f()&&"\n"!=s.character&&(c="\n"):(a=this.nextUncollapsed())&&(a.isBr?this.type="TRAILING_SPACE_BEFORE_BR":a.isTrailingSpace&&"\n"==a.character?this.type="TRAILING_SPACE_IN_BLOCK":a.isLeadingSpace&&"\n"==a.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==a.character?("TRAILING_SPACE_BEFORE_BR"!=this.type||e.includeSpaceBeforeBr)&&("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||e.includeSpaceBeforeBlock)&&("TRAILING_SPACE_IN_BLOCK"==this.type&&a.isTrailingSpace&&!e.includeBlockContentTrailingSpace||("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=a.type||e.includePreLineTrailingSpace)&&("\n"==t?a.isTrailingSpace?this.isTrailingSpace||this.isBr&&(a.type="TRAILING_LINE_BREAK_AFTER_BR",f()&&s.isLeadingSpace&&!s.isTrailingSpace&&"\n"==s.character?a.character="":a.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):c="\n":" "==t&&(c=" "))):c=t))),n.indexOf(c)>-1&&(c=""),this.cache.set(i,c),c},equals:function(e){return!!e&&this.node===e.node&&this.offset===e.offset},inspect:function(){return"[Position("+c.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};$.prototype=G,u(G,{next:U("nextPos",function(e){var t,n,r,i=e.nodeWrapper,o=e.node,a=e.offset,s=i.session;return o?(a==i.getLength()?n=(t=o.parentNode)?i.getNodeIndex()+1:0:i.isCharacterDataNode()?(t=o,n=a+1):(r=o.childNodes[a],s.getNodeWrapper(r).containsPositions()?(t=r,n=0):(t=o,n=a+1)),t?s.getPosition(t,n):null):null}),previous:U("previous",function(e){var t,n,r,i=e.nodeWrapper,o=e.node,a=e.offset,s=i.session;return 0==a?n=(t=o.parentNode)?i.getNodeIndex():0:i.isCharacterDataNode()?(t=o,n=a-1):(r=o.childNodes[a-1],s.getNodeWrapper(r).containsPositions()?(t=r,n=c.getNodeLength(r)):(t=o,n=a-1)),t?s.getPosition(t,n):null}),nextVisible:U("nextVisible",function(e){var t=e.next();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex()+1)),i}),nextUncollapsed:U("nextUncollapsed",function(e){for(var t=e;t=t.nextVisible();)if(t.resolveLeadingAndTrailingSpaces(),""!==t.character)return t;return null}),previousVisible:U("previousVisible",function(e){var t=e.previous();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex())),i})});var K=null,J=function(){function e(e){var t=new q;return{get:function(n){var r=t.get(n[e]);if(r)for(var i,o=0;i=r[o++];)if(i.node===n)return i;return null},set:function(n){var r=n.node[e];(t.get(r)||t.set(r,[])).push(n)}}}var t=l.isHostProperty(document.documentElement,"uniqueID");function n(){this.initCaches()}return n.prototype={initCaches:function(){var n;this.elementCache=t?(n=new q,{get:function(e){return n.get(e.uniqueID)},set:function(e){n.set(e.node.uniqueID,e)}}):e("tagName"),this.textNodeCache=e("data"),this.otherNodeCache=e("nodeName")},getNodeWrapper:function(e){var t;switch(e.nodeType){case 1:t=this.elementCache;break;case 3:t=this.textNodeCache;break;default:t=this.otherNodeCache}var n=t.get(e);return n||(n=new W(e,this),t.set(n)),n},getPosition:function(e,t){return this.getNodeWrapper(e).getPosition(t)},getRangeBoundaryPosition:function(e,t){var n=t?"start":"end";return this.getPosition(e[n+"Container"],e[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},n}();function Q(){return K||(Z(),K=new J)}function Z(){K&&K.detach(),K=null}function ee(e,n,r,i){r&&(n?H(r.node)&&(r=e.previousVisible()):H(r.node)&&(r=r.nextVisible()));var o=e,a=!1;function s(){var e=null;return n?(e=o,a||(o=o.previousVisible(),a=!o||r&&o.equals(r))):a||(e=o=o.nextVisible(),a=!o||r&&o.equals(r)),a&&(o=null),e}var c,l=!1;return{next:function(){if(l)return l=!1,c;for(var e;e=s();)if(e.getCharacter(i))return c=e,e;return null},rewind:function(){if(!c)throw t.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");l=!0},dispose:function(){e=r=null}}}u(c,{nextNode:F,previousNode:z});var te=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1};function ne(e,t,n){var r=ee(e,!1,null,t),i=ee(e,!0,null,t),o=n.tokenizer;function a(e){for(var t,n,o=[],a=e?r:i,s=!1,c=!1;t=a.next();){if(n=t.character,m.test(n))c&&(c=!1,s=!0);else{if(s){a.rewind();break}c=!0}o.push(t)}return o}var s=a(!0),c=a(!1).reverse(),l=x(c.concat(s),n,o),u=s.length?l.slice(te(l,s[0].token)):[],d=c.length?l.slice(0,te(l,c.pop().token)+1):[];return{nextEndToken:function(){for(var e,t;1==u.length&&!(e=u[0]).isWord&&(t=a(!0)).length>0;)u=x(e.chars.concat(t),n,o);return u.shift()},previousStartToken:function(){for(var e,t;1==d.length&&!(e=d[0]).isWord&&(t=a(!1)).length>0;)d=x(t.reverse().concat(e.chars),n,o);return d.pop()},dispose:function(){r.dispose(),i.dispose(),u=d=null}}}function re(e,t,n,r){var i=e.getRangeBoundaryPosition(t,!0),o=e.getRangeBoundaryPosition(t,!1);return ee(r?o:i,!!r,r?i:o,n)}function ie(t,n,r,i,o){var a,s,c,l,u,d,f=y(o.direction),p=ee(t,f,t.session.getRangeBoundaryPosition(i,f),o.characterOptions),h="",m=[],g=null;function v(t,n){var r=m[t].previousVisible(),i=m[n-1];return{startPos:r,endPos:i,valid:!o.wholeWordsOnly||function(t,n,r){var i=e.createRange(t.node);return i.setStartAndEnd(t.node,t.offset,n.node,n.offset),!i.expand("word",{wordOptions:r})}(r,i,o.wordOptions)}}for(;a=p.next();)if(s=a.character,r||o.caseSensitive||(s=s.toLowerCase()),f?(m.unshift(a),h=s+h):(m.push(a),h+=s),r){if(u=n.exec(h))if(l=(c=u.index)+u[0].length,d){if(!f&&l<h.length||f&&c>0){g=v(c,l);break}}else d=!0}else if(-1!=(c=h.indexOf(n))){g=v(c,c+n.length);break}return d&&(g=v(c,l)),p.dispose(),g}function oe(e){return function(){var t=!!K,n=[Q()].concat(l.toArray(arguments)),r=e.apply(this,n);return t||Z(),r}}function ae(e,t){return oe(function(n,r,i,c){typeof i==o&&(i=r,r=a),c=A(c,S);var l=e;t&&(l=i>=0,this.collapse(!l));var u=function(e,t,n,r,i){var o,c,l,u,d=0,f=e,p=Math.abs(n);if(0!==n){var h=n<0;switch(t){case a:for(c=ee(e,h,null,r);(o=c.next())&&d<p;)++d,f=o;l=o,c.dispose();break;case s:for(var m=ne(e,r,i),g=h?m.previousStartToken:m.nextEndToken;(u=g())&&d<p;)u.isWord&&(++d,f=h?u.chars[0]:u.chars[u.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+t+"' not implemented")}h?(f=f.previousVisible(),d=-d):f&&f.isLeadingSpace&&!f.isTrailingSpace&&(t==s&&(l=(c=ee(e,!1,null,r)).next(),c.dispose()),l&&(f=l.previousVisible()))}return{position:f,unitsMoved:d}}(n.getRangeBoundaryPosition(this,l),r,i,c.characterOptions,c.wordOptions),d=u.position;return this[l?"setStart":"setEnd"](d.node,d.offset),u.unitsMoved})}function se(e){return oe(function(t,n){for(var r,i=re(t,this,n=d(n,k),!e),o=0;(r=i.next())&&m.test(r.character);)++o;i.dispose();var a=o>0;return a&&this[e?"moveStart":"moveEnd"]("character",e?o:-o,{characterOptions:n}),a})}function ce(e){return oe(function(t,n){var r=!1;return this.changeEachRange(function(t){r=t[e](n)||r}),r})}u(e.rangePrototype,{moveStart:ae(!0,!1),moveEnd:ae(!1,!1),move:ae(!0,!0),trimStart:se(!0),trimEnd:se(!1),trim:oe(function(e,t){var n=this.trimStart(t),r=this.trimEnd(t);return n||r}),expand:oe(function(e,t,n){var r=!1,i=(n=A(n,T)).characterOptions;if(t||(t=a),t==s){var o,c,l=n.wordOptions,u=e.getRangeBoundaryPosition(this,!0),d=e.getRangeBoundaryPosition(this,!1),f=ne(u,i,l).nextEndToken(),p=f.chars[0].previousVisible();if(this.collapsed)o=f;else o=ne(d,i,l).previousStartToken();return c=o.chars[o.chars.length-1],p.equals(u)||(this.setStart(p.node,p.offset),r=!0),c&&!c.equals(d)&&(this.setEnd(c.node,c.offset),r=!0),n.trim&&(n.trimStart&&(r=this.trimStart(i)||r),n.trimEnd&&(r=this.trimEnd(i)||r)),r}return this.moveEnd(a,1,n)}),text:oe(function(e,t){return this.collapsed?"":function(e,t,n){for(var r,i=[],o=re(e,t,n);r=o.next();)i.push(r);return o.dispose(),i}(e,this,d(t,k)).join("")}),selectCharacters:oe(function(e,t,n,r,i){var o={characterOptions:i};t||(t=f(this.getDocument())),this.selectNodeContents(t),this.collapse(!0),this.moveStart("character",n,o),this.collapse(!0),this.moveEnd("character",r-n,o)}),toCharacterRange:oe(function(e,t,n){t||(t=f(this.getDocument()));var r,i=t.parentNode,o=c.getNodeIndex(t),a=-1==c.comparePoints(this.startContainer,this.endContainer,i,o),s=this.cloneRange();return a?(s.setStartAndEnd(this.startContainer,this.startOffset,i,o),r=-s.text(n).length):(s.setStartAndEnd(i,o,this.startContainer,this.startOffset),r=s.text(n).length),{start:r,end:r+this.text(n).length}}),findText:oe(function(t,n,r){(r=A(r,E)).wholeWordsOnly&&(r.wordOptions.includeTrailingSpace=!1);var i=y(r.direction),o=r.withinRange;o||(o=e.createRange()).selectNodeContents(this.getDocument());var a=n,s=!1;"string"==typeof a?r.caseSensitive||(a=a.toLowerCase()):s=!0;var c=t.getRangeBoundaryPosition(this,!i),l=o.comparePoint(c.node,c.offset);-1===l?c=t.getRangeBoundaryPosition(o,!0):1===l&&(c=t.getRangeBoundaryPosition(o,!1));for(var u,d=c,f=!1;;)if(u=ie(d,a,s,o,r)){if(u.valid)return this.setStartAndEnd(u.startPos.node,u.startPos.offset,u.endPos.node,u.endPos.offset),!0;d=i?u.startPos:u.endPos}else{if(!r.wrap||f)return!1;o=o.cloneRange(),d=t.getRangeBoundaryPosition(o,!i),o.setBoundary(c.node,c.offset,i),f=!0}}),pasteHtml:function(e){if(this.deleteContents(),e){var t=this.createContextualFragment(e),n=t.lastChild;this.insertNode(t),this.collapseAfter(n)}}}),u(e.selectionPrototype,{expand:oe(function(e,t,n){this.changeEachRange(function(e){e.expand(t,n)})}),move:oe(function(e,t,n,r){var i=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var o=this.getRangeAt(0);r||(r={}),r.characterOptions=d(r.characterOptions,j),i=o.move(t,n,r),this.setSingleRange(o)}return i}),trimStart:ce("trimStart"),trimEnd:ce("trimEnd"),trim:ce("trim"),selectCharacters:oe(function(t,n,r,i,o,a){var s=e.createRange(n);s.selectCharacters(n,r,i,a),this.setSingleRange(s,o)}),saveCharacterRanges:oe(function(e,t,n){for(var r=this.getAllRanges(),i=[],o=1==r.length&&this.isBackward(),a=0,s=r.length;a<s;++a)i[a]={characterRange:r[a].toCharacterRange(t,n),backward:o,characterOptions:n};return i}),restoreCharacterRanges:oe(function(t,n,r){this.removeAllRanges();for(var i,o,a,s=0,c=r.length;s<c;++s)a=(o=r[s]).characterRange,(i=e.createRange(n)).selectCharacters(n,a.start,a.end,o.characterOptions),this.addRange(i,o.backward)}),text:oe(function(e,t){for(var n=[],r=0,i=this.rangeCount;r<i;++r)n[r]=this.getRangeAt(r).text(t);return n.join("")})}),e.innerText=function(t,n){var r=e.createRange(t);return r.selectNodeContents(t),r.text(n)},e.createWordIterator=function(e,t,n){var r=Q();n=A(n,O);var i=ne(r.getPosition(e,t),n.characterOptions,n.wordOptions),o=y(n.direction);return{next:function(){return o?i.previousStartToken():i.nextEndToken()},dispose:function(){i.dispose(),this.next=function(){}}}},e.noMutation=function(e){e(Q()),Z()},e.noMutation.createEntryPointFunction=oe,e.textRange={isBlockNode:function(e){return e&&(1==e.nodeType&&!/^(inline(-block|-table)?|none)$/.test(D(e))||9==e.nodeType||11==e.nodeType)},isCollapsedWhitespaceNode:B,createPosition:oe(function(e,t,n){return e.getPosition(t,n)})}}),e},i=this,"function"==typeof define&&define.amd?define(["./rangy-core"],r):void 0!==t&&"object"==typeof n?t.exports=r(e("rangy")):r(i.rangy)},{rangy:415}],420:[function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r=u;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",d="suspendedYield",f="executing",p="completed",h={};function m(){}function g(){}function v(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&r.call(w,o)&&(y=w);var _=v.prototype=m.prototype=Object.create(y);function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(e){var t;this._invoke=function(n,i){function o(){return new Promise(function(t,o){!function t(n,i,o,a){var s=l(e[n],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(u).then(function(e){c.value=e,o(c)},function(e){return t("throw",e,o,a)})}a(s.arg)}(n,i,t,o)})}return t=t?t.then(o,o):o()}}function j(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return g.prototype=_.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(k.prototype),k.prototype[a]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,i){var o=new k(c(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},{}],421:[function(e,t,n){t.exports=e("./lib/retry")},{"./lib/retry":422}],422:[function(e,t,n){var r=e("./retry_operation");n.operation=function(e){var t=n.timeouts(e);return new r(t,{forever:e&&e.forever,unref:e&&e.unref})},n.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort(function(e,t){return e-t}),r},n.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},n.wrap=function(e,t,r){if(t instanceof Array&&(r=t,t=null),!r)for(var i in r=[],e)"function"==typeof e[i]&&r.push(i);for(var o=0;o<r.length;o++){var a=r[o],s=e[a];e[a]=function(){var r=n.operation(t),i=Array.prototype.slice.call(arguments),o=i.pop();i.push(function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),o.apply(this,arguments))}),r.attempt(function(){s.apply(e,i)})},e[a].options=t}}},{"./retry_operation":423}],423:[function(e,t,n){function r(e,t){"boolean"==typeof t&&(t={forever:t}),this._timeouts=e,this._options=t||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=r,r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift()}var n=this,r=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),this._options.unref&&n._timeout.unref()),n._fn(n._attempts)},t);return this._options.unref&&r.unref(),!0},r.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._fn(this._attempts)},r.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},r.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t}},{}],424:[function(e,t,n){var r,i;r=this,i=function(){var e=/(auto|scroll)/,t=function(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},r=function(t){return e.test(function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),i=0;i<n.length;i+=1)if(r(n[i]))return n[i];return document.scrollingElement||document.documentElement}}},"function"==typeof define&&define.amd?define([],i):"object"==typeof t&&t.exports?t.exports=i():r.Scrollparent=i()},{}],425:[function(e,t,n){"use strict";var r=e("is-arrayish"),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},{"is-arrayish":426}],426:[function(e,t,n){t.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},{}],427:[function(e,t,n){var r,i,o,a,s,c,l,u,d,f,p,h,m;r=this,a="hasOwnProperty",s=/[\.\/]/,c=/\s*,\s*/,l=function(e,t){return e-t},u={n:{}},d=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},f=function(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},p=Object.prototype.toString,h=String,m=Array.isArray||function(e){return e instanceof Array||"[object Array]"==p.call(e)},eve=function(e,t){var n,r=o,a=Array.prototype.slice.call(arguments,2),s=eve.listeners(e),c=0,u=[],p={},h=[],m=i;h.firstDefined=d,h.lastDefined=f,i=e,o=0;for(var g=0,v=s.length;g<v;g++)"zIndex"in s[g]&&(u.push(s[g].zIndex),s[g].zIndex<0&&(p[s[g].zIndex]=s[g]));for(u.sort(l);u[c]<0;)if(n=p[u[c++]],h.push(n.apply(t,a)),o)return o=r,h;for(g=0;g<v;g++)if("zIndex"in(n=s[g]))if(n.zIndex==u[c]){if(h.push(n.apply(t,a)),o)break;do{if((n=p[u[++c]])&&h.push(n.apply(t,a)),o)break}while(n)}else p[n.zIndex]=n;else if(h.push(n.apply(t,a)),o)break;return o=r,i=m,h},eve._events=u,eve.listeners=function(e){var t,n,r,i,o,a,c,l,d=m(e)?e:e.split(s),f=u,p=[f],h=[];for(i=0,o=d.length;i<o;i++){for(l=[],a=0,c=p.length;a<c;a++)for(n=[(f=p[a].n)[d[i]],f["*"]],r=2;r--;)(t=n[r])&&(l.push(t),h=h.concat(t.f||[]));p=l}return h},eve.separator=function(e){e?(e="["+(e=h(e).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",s=new RegExp(e)):s=/[\.\/]/},eve.on=function(e,t){if("function"!=typeof t)return function(){};for(var n=m(e)?m(e[0])?e:[e]:h(e).split(c),r=0,i=n.length;r<i;r++)!function(e){for(var n,r=m(e)?e:h(e).split(s),i=u,o=0,a=r.length;o<a;o++)i=(i=i.n).hasOwnProperty(r[o])&&i[r[o]]||(i[r[o]]={n:{}});for(i.f=i.f||[],o=0,a=i.f.length;o<a;o++)if(i.f[o]==t){n=!0;break}!n&&i.f.push(t)}(n[r]);return function(e){+e==+e&&(t.zIndex=+e)}},eve.f=function(e){var t=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},eve.stop=function(){o=1},eve.nt=function(e){var t=m(i)?i.join("."):i;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},eve.nts=function(){return m(i)?i:i.split(s)},eve.off=eve.unbind=function(e,t){if(e){var n=m(e)?m(e[0])?e:[e]:h(e).split(c);if(n.length>1)for(var r=0,i=n.length;r<i;r++)eve.off(n[r],t);else{n=m(e)?e:h(e).split(s);var o,l,d,f,p,g=[u],v=[];for(r=0,i=n.length;r<i;r++)for(f=0;f<g.length;f+=d.length-2){if(d=[f,1],o=g[f].n,"*"!=n[r])o[n[r]]&&(d.push(o[n[r]]),v.unshift({n:o,name:n[r]}));else for(l in o)o[a](l)&&(d.push(o[l]),v.unshift({n:o,name:l}));g.splice.apply(g,d)}for(r=0,i=g.length;r<i;r++)for(o=g[r];o.n;){if(t){if(o.f){for(f=0,p=o.f.length;f<p;f++)if(o.f[f]==t){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(l in o.n)if(o.n[a](l)&&o.n[l].f){var y=o.n[l].f;for(f=0,p=y.length;f<p;f++)if(y[f]==t){y.splice(f,1);break}!y.length&&delete o.n[l].f}}else for(l in delete o.f,o.n)o.n[a](l)&&o.n[l].f&&delete o.n[l].f;o=o.n}e:for(r=0,i=v.length;r<i;r++){for(l in(o=v[r]).n[o.name].f)continue e;for(l in o.n[o.name].n)continue e;delete o.n[o.name]}}}else eve._events=u={n:{}}},eve.once=function(e,t){var n=function(){return eve.off(e,n),t.apply(this,arguments)};return eve.on(e,n)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},void 0!==t&&t.exports?t.exports=eve:"function"==typeof define&&define.amd?define("eve",[],function(){return eve}):r.eve=eve,function(r,i){if("function"==typeof define&&define.amd)define(["eve"],function(e){return i(r,e)});else if(void 0!==n){var o=e("eve");t.exports=i(r,o)}else i(r,r.eve)}(window||this,function(e,t){var n=function(t){var n,r={},i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16,(new Date).getTime()),!0},o=Array.isArray||function(e){return e instanceof Array||"[object Array]"==Object.prototype.toString.call(e)},a=0,s="M"+(+new Date).toString(36),c=Date.now||function(){return+new Date},l=function(e){var t=this;if(null==e)return t.s;var n=t.s-e;t.b+=t.dur*n,t.B+=t.dur*n,t.s=e},u=function(e){if(null==e)return this.spd;this.spd=e},d=function(e){var t=this;if(null==e)return t.dur;t.s=t.s*e/t.dur,t.dur=e},f=function(){var e=this;delete r[e.id],e.update(),t("mina.stop."+e.id,e)},p=function(){var e=this;e.pdif||(delete r[e.id],e.update(),e.pdif=e.get()-e.b)},h=function(){var e=this;e.pdif&&(e.b=e.get()-e.pdif,delete e.pdif,r[e.id]=e,g())},m=function(){var e,t=this;if(o(t.start)){e=[];for(var n=0,r=t.start.length;n<r;n++)e[n]=+t.start[n]+(t.end[n]-t.start[n])*t.easing(t.s)}else e=+t.start+(t.end-t.start)*t.easing(t.s);t.set(e)},g=function(e){if(e){var o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],c=s.get();o++,s.s=(c-s.b)/(s.dur/s.spd),s.s>=1&&(delete r[a],s.s=1,o--,function(e){setTimeout(function(){t("mina.finish."+e.id,e)})}(s)),s.update()}n=!!o&&i(g)}else n||(n=i(g))},v=function(e,t,n,i,o,c,y){var b={id:s+(a++).toString(36),start:e,end:t,b:n,s:0,dur:i-n,spd:1,get:o,set:c,easing:y||v.linear,status:l,speed:u,duration:d,stop:f,pause:p,resume:h,update:m};r[b.id]=b;var w,_=0;for(w in r)if(r.hasOwnProperty(w)&&2==++_)break;return 1==_&&g(),b};return v.time=c,v.getById=function(e){return r[e]||null},v.linear=function(e){return e},v.easeout=function(e){return Math.pow(e,1.7)},v.easein=function(e){return Math.pow(e,.48)},v.easeinout=function(e){if(1==e)return 1;if(0==e)return 0;var t=.48-e/1.04,n=Math.sqrt(.1734+t*t),r=n-t,i=-n-t,o=Math.pow(Math.abs(r),1/3)*(r<0?-1:1)+Math.pow(Math.abs(i),1/3)*(i<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},v.backin=function(e){if(1==e)return 1;var t=1.70158;return e*e*((t+1)*e-t)},v.backout=function(e){if(0==e)return 0;var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},v.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1},v.bounce=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},e.mina=v,v}(void 0===t?function(){}:t),r=function(e){function n(e,t){if(e){if(e.nodeType)return V(e);if(P(e,"array")&&n.set)return n.set.apply(n,e);if(e instanceof X)return e;if(null==t)return V(e=r.doc.querySelector(String(e)))}return new W(e=null==e?"100%":e,t=null==t?"100%":t)}n.version="0.5.1",n.toString=function(){return"Snap v"+this.version},n._={};var r={win:e.window,doc:e.window.document};n._.glob=r;var i,o,a="hasOwnProperty",s=String,c=parseFloat,l=parseInt,u=Math,d=u.max,f=u.min,p=u.abs,h=(u.pow,u.PI),m=(u.round,""),v=Object.prototype.toString,y=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,b=(n._.separator=/[,\s]+/,/[\s]*,[\s]*/),w={hs:1,rg:1},_=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,x=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,k=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/gi,j=0,C="S"+(+new Date).toString(36),E=function(e){return(e&&e.type?e.type:m)+C+(j++).toString(36)},S="http://www.w3.org/1999/xlink",T="http://www.w3.org/2000/svg",O={};n.url=function(e){return"url('#"+e+"')"};function A(e,t){if(t){if("#text"==e&&(e=r.doc.createTextNode(t.text||t["#text"]||"")),"#comment"==e&&(e=r.doc.createComment(t.text||t["#text"]||"")),"string"==typeof e&&(e=A(e)),"string"==typeof t)return 1==e.nodeType?"xlink:"==t.substring(0,6)?e.getAttributeNS(S,t.substring(6)):"xml:"==t.substring(0,4)?e.getAttributeNS(T,t.substring(4)):e.getAttribute(t):"text"==t?e.nodeValue:null;if(1==e.nodeType){for(var n in t)if(t[a](n)){var i=s(t[n]);i?"xlink:"==n.substring(0,6)?e.setAttributeNS(S,n.substring(6),i):"xml:"==n.substring(0,4)?e.setAttributeNS(T,n.substring(4),i):e.setAttribute(n,i):e.removeAttribute(n)}}else"text"in t&&(e.nodeValue=t.text)}else e=r.doc.createElementNS(T,e);return e}function P(e,t){return"finite"==(t=s.prototype.toLowerCase.call(t))?isFinite(e):!("array"!=t||!(e instanceof Array||Array.isArray&&Array.isArray(e)))||("null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||v.call(e).slice(8,-1).toLowerCase()==t)}function N(e,t,n){return function r(){var i=Array.prototype.slice.call(arguments,0),o=i.join("␀"),s=r.cache=r.cache||{},c=r.count=r.count||[];return s[a](o)?(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}(c,o),n?n(s[o]):s[o]):(c.length>=1e3&&delete s[c.shift()],c.push(o),s[o]=e.apply(t,i),n?n(s[o]):s[o])}}function M(e){return e%360*h/180}n._.$=A,n._.id=E,n.format=(i=/\{([^\}]+)\}/g,o=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,t){return s(e).replace(i,function(e,n){return function(e,t,n){var r=n;return t.replace(o,function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==n?e:r)+""}(e,n,t)})}),n._.clone=function e(t){if("function"==typeof t||Object(t)!==t)return t;var n=new t.constructor;for(var r in t)t[a](r)&&(n[r]=e(t[r]));return n},n._.cacher=N,n.rad=M,n.deg=function(e){return 180*e/h%360},n.sin=function(e){return u.sin(n.rad(e))},n.tan=function(e){return u.tan(n.rad(e))},n.cos=function(e){return u.cos(n.rad(e))},n.asin=function(e){return n.deg(u.asin(e))},n.acos=function(e){return n.deg(u.acos(e))},n.atan=function(e){return n.deg(u.atan(e))},n.atan2=function(e){return n.deg(u.atan2(e))},n.angle=function e(t,n,r,i,o,a){if(null==o){var s=t-r,c=n-i;return s||c?(180+180*u.atan2(-c,-s)/h+360)%360:0}return e(t,n,o,a)-e(r,i,o,a)},n.len=function(e,t,r,i){return Math.sqrt(n.len2(e,t,r,i))},n.len2=function(e,t,n,r){return(e-n)*(e-n)+(t-r)*(t-r)},n.closestPoint=function(e,t,n){function r(e){var r=e.x-t,i=e.y-n;return r*r+i*i}for(var i,o,a,s,c=e.node,l=c.getTotalLength(),u=l/c.pathSegList.numberOfItems*.125,d=1/0,f=0;f<=l;f+=u)(s=r(a=c.getPointAtLength(f)))<d&&(i=a,o=f,d=s);for(u*=.5;u>.5;){var p,h,m,g,v,y;(m=o-u)>=0&&(v=r(p=c.getPointAtLength(m)))<d?(i=p,o=m,d=v):(g=o+u)<=l&&(y=r(h=c.getPointAtLength(g)))<d?(i=h,o=g,d=y):u*=.5}return i={x:i.x,y:i.y,length:o,distance:Math.sqrt(d)}},n.is=P,n.snapTo=function(e,t,n){if(n=P(n,"finite")?n:10,P(e,"array")){for(var r=e.length;r--;)if(p(e[r]-t)<=n)return e[r]}else{var i=t%(e=+e);if(i<n)return t-i;if(i>e-n)return t-i+e}return t},n.getRGB=N(function(e){if(!e||(e=s(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:L};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:L};if(!w[a](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=R(e)),!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:L};var t,r,i,o,p,h,m=e.match(y);return m?(m[2]&&(i=l(m[2].substring(5),16),r=l(m[2].substring(3,5),16),t=l(m[2].substring(1,3),16)),m[3]&&(i=l((p=m[3].charAt(3))+p,16),r=l((p=m[3].charAt(2))+p,16),t=l((p=m[3].charAt(1))+p,16)),m[4]&&(h=m[4].split(b),t=c(h[0]),"%"==h[0].slice(-1)&&(t*=2.55),r=c(h[1]),"%"==h[1].slice(-1)&&(r*=2.55),i=c(h[2]),"%"==h[2].slice(-1)&&(i*=2.55),"rgba"==m[1].toLowerCase().slice(0,4)&&(o=c(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100)),m[5]?(h=m[5].split(b),t=c(h[0]),"%"==h[0].slice(-1)&&(t/=100),r=c(h[1]),"%"==h[1].slice(-1)&&(r/=100),i=c(h[2]),"%"==h[2].slice(-1)&&(i/=100),("deg"==h[0].slice(-3)||"°"==h[0].slice(-1))&&(t/=360),"hsba"==m[1].toLowerCase().slice(0,4)&&(o=c(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100),n.hsb2rgb(t,r,i,o)):m[6]?(h=m[6].split(b),t=c(h[0]),"%"==h[0].slice(-1)&&(t/=100),r=c(h[1]),"%"==h[1].slice(-1)&&(r/=100),i=c(h[2]),"%"==h[2].slice(-1)&&(i/=100),("deg"==h[0].slice(-3)||"°"==h[0].slice(-1))&&(t/=360),"hsla"==m[1].toLowerCase().slice(0,4)&&(o=c(h[3])),h[3]&&"%"==h[3].slice(-1)&&(o/=100),n.hsl2rgb(t,r,i,o)):(t=f(u.round(t),255),r=f(u.round(r),255),i=f(u.round(i),255),o=f(d(o,0),1),(m={r:t,g:r,b:i,toString:L}).hex="#"+(16777216|i|r<<8|t<<16).toString(16).slice(1),m.opacity=P(o,"finite")?o:1,m)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:L}},n),n.hsb=N(function(e,t,r){return n.hsb2rgb(e,t,r).hex}),n.hsl=N(function(e,t,r){return n.hsl2rgb(e,t,r).hex}),n.rgb=N(function(e,t,n,r){if(P(r,"finite")){var i=u.round;return"rgba("+[i(e),i(t),i(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|t<<8|e<<16).toString(16).slice(1)});var R=function(e){var t=r.doc.getElementsByTagName("head")[0]||r.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(R=N(function(e){if("red"==e.toLowerCase())return n;t.style.color=n,t.style.color=e;var i=r.doc.defaultView.getComputedStyle(t,m).getPropertyValue("color");return i==n?null:i}))(e)},I=function(){return"hsb("+[this.h,this.s,this.b]+")"},D=function(){return"hsl("+[this.h,this.s,this.l]+")"},L=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},F=function(e,t,r){if(null==t&&P(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,t=e.g,e=e.r),null==t&&P(e,string)){var i=n.getRGB(e);e=i.r,t=i.g,r=i.b}return(e>1||t>1||r>1)&&(e/=255,t/=255,r/=255),[e,t,r]},z=function(e,t,r,i){var o={r:e=u.round(255*e),g:t=u.round(255*t),b:r=u.round(255*r),opacity:P(i,"finite")?i:1,hex:n.rgb(e,t,r),toString:L};return P(i,"finite")&&(o.opacity=i),o};n.color=function(e){var t;return P(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=n.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):P(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=n.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(P(e,"string")&&(e=n.getRGB(e)),P(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(t=n.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=n.rgb2hsb(e),e.v=t.b):((e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=L,e},n.hsb2rgb=function(e,t,n,r){var i,o,a,s,c;return P(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,r=e.o,e=e.h),s=(c=n*t)*(1-p((e=(e*=360)%360/60)%2-1)),i=o=a=n-c,z(i+=[c,s,0,0,s,c][e=~~e],o+=[s,c,c,s,0,0][e],a+=[0,0,s,c,c,s][e],r)},n.hsl2rgb=function(e,t,n,r){var i,o,a,s,c;return P(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),s=(c=2*t*(n<.5?n:1-n))*(1-p((e=(e*=360)%360/60)%2-1)),i=o=a=n-c/2,z(i+=[c,s,0,0,s,c][e=~~e],o+=[s,c,c,s,0,0][e],a+=[0,0,s,c,c,s][e],r)},n.rgb2hsb=function(e,t,n){var r,i;return e=(n=F(e,t,n))[0],t=n[1],n=n[2],{h:((0==(i=(r=d(e,t,n))-f(e,t,n))?null:r==e?(t-n)/i:r==t?(n-e)/i+2:(e-t)/i+4)+360)%6*60/360,s:0==i?0:i/r,b:r,toString:I}},n.rgb2hsl=function(e,t,n){var r,i,o,a;return e=(n=F(e,t,n))[0],t=n[1],n=n[2],r=((i=d(e,t,n))+(o=f(e,t,n)))/2,{h:((0==(a=i-o)?null:i==e?(t-n)/a:i==t?(n-e)/a+2:(e-t)/a+4)+360)%6*60/360,s:0==a?0:r<.5?a/(2*r):a/(2-2*r),l:r,toString:D}},n.parsePathString=function(e){if(!e)return null;var t=n.path(e);if(t.arr)return n.path.clone(t.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return P(e,"array")&&P(e[0],"array")&&(i=n.path.clone(e)),i.length||s(e).replace(_,function(e,t,n){var o=[],a=t.toLowerCase();if(n.replace(k,function(e,t){t&&o.push(+t)}),"m"==a&&o.length>2&&(i.push([t].concat(o.splice(0,2))),a="l",t="m"==t?"l":"L"),"o"==a&&1==o.length&&i.push([t,o[0]]),"r"==a)i.push([t].concat(o));else for(;o.length>=r[a]&&(i.push([t].concat(o.splice(0,r[a]))),r[a]););}),i.toString=n.path.toString,t.arr=n.path.clone(i),i};var Y=n.parseTransformString=function(e){if(!e)return null;var t=[];return P(e,"array")&&P(e[0],"array")&&(t=n.path.clone(e)),t.length||s(e).replace(x,function(e,n,r){var i=[];n.toLowerCase();r.replace(k,function(e,t){t&&i.push(+t)}),t.push([n].concat(i))}),t.toString=n.path.toString,t};n._.svgTransform2string=function(e){var t=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(r.length>2?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),"skewX"==n?t.push(["m",1,0,u.tan(M(r[0])),1,0,0]):"skewY"==n?t.push(["m",1,u.tan(M(r[0])),0,1,0,0]):t.push([n.charAt(0)].concat(r)),e}),t},n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=function(e,t){var r=Y(e),i=new n.Matrix;if(r)for(var o=0,a=r.length;o<a;o++){var c,l,u,d,f,p=r[o],h=p.length,m=s(p[0]).toLowerCase(),g=p[0]!=m,v=g?i.invert():0;"t"==m&&2==h?i.translate(p[1],0):"t"==m&&3==h?g?(c=v.x(0,0),l=v.y(0,0),u=v.x(p[1],p[2]),d=v.y(p[1],p[2]),i.translate(u-c,d-l)):i.translate(p[1],p[2]):"r"==m?2==h?(f=f||t,i.rotate(p[1],f.x+f.width/2,f.y+f.height/2)):4==h&&(g?(u=v.x(p[2],p[3]),d=v.y(p[2],p[3]),i.rotate(p[1],u,d)):i.rotate(p[1],p[2],p[3])):"s"==m?2==h||3==h?(f=f||t,i.scale(p[1],p[h-1],f.x+f.width/2,f.y+f.height/2)):4==h?g?(u=v.x(p[2],p[3]),d=v.y(p[2],p[3]),i.scale(p[1],p[1],u,d)):i.scale(p[1],p[1],p[2],p[3]):5==h&&(g?(u=v.x(p[3],p[4]),d=v.y(p[3],p[4]),i.scale(p[1],p[2],u,d)):i.scale(p[1],p[2],p[3],p[4])):"m"==m&&7==h&&i.add(p[1],p[2],p[3],p[4],p[5],p[6])}return i},n._unit2px=function(e,t,n){var r=B(e).node,i={},o=r.querySelector(".svg---mgr");o||(o=A("rect"),A(o,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),r.appendChild(o));function a(e){if(null==e)return m;if(e==+e)return e;A(o,{width:e});try{return o.getBBox().width}catch(e){return 0}}function s(e){if(null==e)return m;if(e==+e)return e;A(o,{height:e});try{return o.getBBox().height}catch(e){return 0}}function c(r,o){null==t?i[r]=o(e.attr(r)||0):r==t&&(i=o(null==n?e.attr(r)||0:n))}switch(e.type){case"rect":c("rx",a),c("ry",s);case"image":c("width",a),c("height",s);case"text":c("x",a),c("y",s);break;case"circle":c("cx",a),c("cy",s),c("r",a);break;case"ellipse":c("cx",a),c("cy",s),c("rx",a),c("ry",s);break;case"line":c("x1",a),c("x2",a),c("y1",s),c("y2",s);break;case"marker":c("refX",a),c("markerWidth",a),c("refY",s),c("markerHeight",s);break;case"radialGradient":c("fx",a),c("fy",s);break;case"tspan":c("dx",a),c("dy",s);break;default:c(t,a)}return r.removeChild(o),i};r.doc.contains||r.doc.compareDocumentPosition;function B(e){return e.node.ownerSVGElement&&V(e.node.ownerSVGElement)||n.select("svg")}function H(e){P(e,"array")||(e=Array.prototype.slice.call(arguments,0));for(var t=0,n=0,r=this.node;this[t];)delete this[t++];for(t=0;t<e.length;t++)"set"==e[t].type?e[t].forEach(function(e){r.appendChild(e.node)}):r.appendChild(e[t].node);var i=r.childNodes;for(t=0;t<i.length;t++)this[n++]=V(i[t]);return this}function X(e){if(e.snap in O)return O[e.snap];var t;try{t=e.ownerSVGElement}catch(e){}this.node=e,t&&(this.paper=new W(t)),this.type=e.tagName||e.nodeName;var n=this.id=E(this);if(this.anims={},this._={transform:[]},e.snap=n,O[n]=this,"g"==this.type&&(this.add=H),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in W.prototype)W.prototype[a](r)&&(this[r]=W.prototype[r])}function q(e){this.node=e}function U(e,t){var n=A(e);return t.appendChild(n),V(n)}function W(e,t){var n,i,o,s=W.prototype;if(e&&e.tagName&&"svg"==e.tagName.toLowerCase()){if(e.snap in O)return O[e.snap];var c=e.ownerDocument;for(var l in n=new X(e),i=e.getElementsByTagName("desc")[0],o=e.getElementsByTagName("defs")[0],i||((i=A("desc")).appendChild(c.createTextNode("Created with Snap")),n.node.appendChild(i)),o||(o=A("defs"),n.node.appendChild(o)),n.defs=o,s)s[a](l)&&(n[l]=s[l]);n.paper=n.root=n}else A((n=U("svg",r.doc.body)).node,{height:t,version:1.1,width:e,xmlns:T});return n}function V(e){return e?e instanceof X||e instanceof q?e:e.tagName&&"svg"==e.tagName.toLowerCase()?new W(e):e.tagName&&"object"==e.tagName.toLowerCase()&&"image/svg+xml"==e.type?new W(e.contentDocument.getElementsByTagName("svg")[0]):new X(e):e}n._.getSomeDefs=function(e){var t=e.node.ownerSVGElement&&V(e.node.ownerSVGElement)||e.node.parentNode&&V(e.node.parentNode)||n.select("svg")||n(0,0),r=t.select("defs"),i=null!=r&&r.node;return i||(i=U("defs",t.node).node),i},n._.getSomeSVG=B,n.select=function(e){return e=s(e).replace(/([^\\]):/g,"$1\\:"),V(r.doc.querySelector(e))},n.selectAll=function(e){for(var t=r.doc.querySelectorAll(e),i=(n.set||Array)(),o=0;o<t.length;o++)i.push(V(t[o]));return i},setInterval(function(){for(var e in O)if(O[a](e)){var t=O[e],n=t.node;("svg"!=t.type&&!n.ownerSVGElement||"svg"==t.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete O[e]}},1e4),X.prototype.attr=function(e,n){var r=this.node;if(!e){if(1!=r.nodeType)return{text:r.nodeValue};for(var i=r.attributes,o={},s=0,c=i.length;s<c;s++)o[i[s].nodeName]=i[s].nodeValue;return o}if(P(e,"string")){if(!(arguments.length>1))return t("snap.util.getattr."+e,this).firstDefined();var l={};l[e]=n,e=l}for(var u in e)e[a](u)&&t("snap.util.attr."+u,this,e[u]);return this},n.parse=function(e){var t=r.doc.createDocumentFragment(),n=!0,i=r.doc.createElement("div");if((e=s(e)).match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",n=!1),i.innerHTML=e,e=i.getElementsByTagName("svg")[0])if(n)t=e;else for(;e.firstChild;)t.appendChild(e.firstChild);return new q(t)},n.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),t=r.doc.createDocumentFragment(),i=0,o=e.length;i<o;i++){var a=e[i];a.node&&a.node.nodeType&&t.appendChild(a.node),a.nodeType&&t.appendChild(a),"string"==typeof a&&t.appendChild(n.parse(a).node)}return new q(t)},n._.make=U,n._.wrap=V,W.prototype.el=function(e,t){var n=U(e,this.node);return t&&n.attr(t),n},X.prototype.children=function(){for(var e=[],t=this.node.childNodes,r=0,i=t.length;r<i;r++)e[r]=n(t[r]);return e},X.prototype.toJSON=function(){var e=[];return function e(t,n){for(var r=0,i=t.length;r<i;r++){var o={type:t[r].type,attr:t[r].attr()},a=t[r].children();n.push(o),a.length&&e(a,o.childNodes=[])}}([this],e),e[0]},t.on("snap.util.getattr",function(){var e=t.nt(),n=(e=e.substring(e.lastIndexOf(".")+1)).replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return $[a](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):A(this.node,e)});var $={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};t.on("snap.util.attr",function(e){var n=t.nt(),r={};r[n=n.substring(n.lastIndexOf(".")+1)]=e;var i=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),o=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});$[a](o)?this.node.style[i]=null==e?m:e:A(this.node,r)}),W.prototype,n.ajax=function(e,n,r,i){var o=new XMLHttpRequest,a=E();if(o){if(P(n,"function"))i=r,r=n,n=null;else if(P(n,"object")){var s=[];for(var c in n)n.hasOwnProperty(c)&&s.push(encodeURIComponent(c)+"="+encodeURIComponent(n[c]));n=s.join("&")}return o.open(n?"POST":"GET",e,!0),n&&(o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(t.once("snap.ajax."+a+".0",r),t.once("snap.ajax."+a+".200",r),t.once("snap.ajax."+a+".304",r)),o.onreadystatechange=function(){4==o.readyState&&t("snap.ajax."+a+"."+o.status,i,o)},4==o.readyState?o:(o.send(n),o)}},n.load=function(e,t,r){n.ajax(e,function(e){var i=n.parse(e.responseText);r?t.call(r,i):t(i)})};return n.getElementByPoint=function(e,t){this.canvas;var n,i,o,a,s,c,l,u=r.doc.elementFromPoint(e,t);if(r.win.opera&&"svg"==u.tagName){var d=(i=(n=u).getBoundingClientRect(),o=n.ownerDocument,a=o.body,s=o.documentElement,c=s.clientTop||a.clientTop||0,l=s.clientLeft||a.clientLeft||0,{y:i.top+(g.win.pageYOffset||s.scrollTop||a.scrollTop)-c,x:i.left+(g.win.pageXOffset||s.scrollLeft||a.scrollLeft)-l}),f=u.createSVGRect();f.x=e-d.x,f.y=t-d.y,f.width=f.height=1;var p=u.getIntersectionList(f,null);p.length&&(u=p[p.length-1])}return u?V(u):null},n.plugin=function(e){e(n,X,W,r,q)},r.win.Snap=n,n}(e||this);return r.plugin(function(n,r,i,o,a){var s=r.prototype,c=n.is,l=String,u=n._unit2px,d=n._.$,f=n._.make,p=n._.getSomeDefs,h=n._.wrap;s.getBBox=function(e){if("tspan"==this.type)return n._.box(this.node.getClientRects().item(0));if(!n.Matrix||!n.path)return this.node.getBBox();var t=this,r=new n.Matrix;if(t.removed)return n._.box();for(;"use"==t.type;)if(e||(r=r.add(t.transform().localMatrix.translate(t.attr("x")||0,t.attr("y")||0))),t.original)t=t.original;else{var i=t.attr("xlink:href");t=t.original=t.node.ownerDocument.getElementById(i.substring(i.indexOf("#")+1))}var o=t._,a=n.path.get[t.type]||n.path.get.deflt;try{return e?(o.bboxwt=a?n.path.getBBox(t.realPath=a(t)):n._.box(t.node.getBBox()),n._.box(o.bboxwt)):(t.realPath=a(t),t.matrix=t.transform().localMatrix,o.bbox=n.path.getBBox(n.path.map(t.realPath,r.add(t.matrix))),n._.box(o.bbox))}catch(e){return n._.box()}};var m=function(){return this.string};function g(e,t){if(null==t){var r=!0;if(!(t="linearGradient"==e.type||"radialGradient"==e.type?e.node.getAttribute("gradientTransform"):"pattern"==e.type?e.node.getAttribute("patternTransform"):e.node.getAttribute("transform")))return new n.Matrix;t=n._.svgTransform2string(t)}else t=n._.rgTransform.test(t)?l(t).replace(/\.{3}|\u2026/g,e._.transform||""):n._.svgTransform2string(t),c(t,"array")&&(t=n.path?n.path.toString.call(t):l(t)),e._.transform=t;var i=n._.transform2matrix(t,e.getBBox(1));if(r)return i;e.matrix=i}s.transform=function(e){var t=this._;if(null==e){for(var r,i=this,o=new n.Matrix(this.node.getCTM()),a=g(this),s=[a],c=new n.Matrix,u=a.toTransformString(),f=l(a)==l(this.matrix)?l(t.transform):u;"svg"!=i.type&&(i=i.parent());)s.push(g(i));for(r=s.length;r--;)c.add(s[r]);return{string:f,globalMatrix:o,totalMatrix:c,localMatrix:a,diffMatrix:o.clone().add(a.invert()),global:o.toTransformString(),total:c.toTransformString(),local:u,toString:m}}return e instanceof n.Matrix?(this.matrix=e,this._.transform=e.toTransformString()):g(this,e),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?d(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?d(this.node,{patternTransform:this.matrix}):d(this.node,{transform:this.matrix})),this},s.parent=function(){return h(this.node.parentNode)},s.append=s.add=function(e){if(e){if("set"==e.type){var t=this;return e.forEach(function(e){t.add(e)}),this}e=h(e),this.node.appendChild(e.node),e.paper=this.paper}return this},s.appendTo=function(e){return e&&(e=h(e)).append(this),this},s.prepend=function(e){if(e){if("set"==e.type){var t,n=this;return e.forEach(function(e){t?t.after(e):n.prepend(e),t=e}),this}var r=(e=h(e)).parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},s.prependTo=function(e){return(e=h(e)).prepend(this),this},s.before=function(e){if("set"==e.type){var t=this;return e.forEach(function(e){var n=e.parent();t.node.parentNode.insertBefore(e.node,t.node),n&&n.add()}),this.parent().add(),this}var n=(e=h(e)).parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),e.paper=this.paper,this},s.after=function(e){var t=(e=h(e)).parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},s.insertBefore=function(e){e=h(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},s.insertAfter=function(e){e=h(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},s.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},s.select=function(e){return h(this.node.querySelector(e))},s.selectAll=function(e){for(var t=this.node.querySelectorAll(e),r=(n.set||Array)(),i=0;i<t.length;i++)r.push(h(t[i]));return r},s.asPX=function(e,t){return null==t&&(t=this.attr(e)),+u(this,e,t)},s.use=function(){var e,t=this.node.id;return t||(t=this.id,d(this.node,{id:t})),e="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?f(this.type,this.node.parentNode):f("use",this.node.parentNode),d(e.node,{"xlink:href":"#"+t}),e.original=this,e},s.clone=function(){var e=h(this.node.cloneNode(!0));return d(e.node,"id")&&d(e.node,{id:e.id}),function(e){var t,r=e.selectAll("*"),i=/^\s*url\(("|'|)(.*)\1\)\s*$/,o=[],a={};function s(e,t){var r=d(e.node,t);(r=(r=r&&r.match(i))&&r[2])&&"#"==r.charAt()&&(r=r.substring(1))&&(a[r]=(a[r]||[]).concat(function(r){var i={};i[t]=n.url(r),d(e.node,i)}))}function c(e){var t=d(e.node,"xlink:href");t&&"#"==t.charAt()&&(t=t.substring(1))&&(a[t]=(a[t]||[]).concat(function(t){e.attr("xlink:href","#"+t)}))}for(var l=0,u=r.length;l<u;l++){s(t=r[l],"fill"),s(t,"stroke"),s(t,"filter"),s(t,"mask"),s(t,"clip-path"),c(t);var f=d(t.node,"id");f&&(d(t.node,{id:t.id}),o.push({old:f,id:t.id}))}for(l=0,u=o.length;l<u;l++){var p=a[o[l].old];if(p)for(var h=0,m=p.length;h<m;h++)p[h](o[l].id)}}(e),e.insertAfter(this),e},s.toDefs=function(){return p(this).appendChild(this.node),this},s.pattern=s.toPattern=function(e,t,n,r){var i=f("pattern",p(this));return null==e&&(e=this.getBBox()),c(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,e=e.x),d(i.node,{x:e,y:t,width:n,height:r,patternUnits:"userSpaceOnUse",id:i.id,viewBox:[e,t,n,r].join(" ")}),i.node.appendChild(this.node),i},s.marker=function(e,t,n,r,i,o){var a=f("marker",p(this));return null==e&&(e=this.getBBox()),c(e,"object")&&"x"in e&&(t=e.y,n=e.width,r=e.height,i=e.refX||e.cx,o=e.refY||e.cy,e=e.x),d(a.node,{viewBox:[e,t,n,r].join(" "),markerWidth:n,markerHeight:r,orient:"auto",refX:i||0,refY:o||0,id:a.id}),a.node.appendChild(this.node),a};var v={};function y(e){return function(){var t=e?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(e)for(var i=0,o=n.length;i<o;i++)t+=" "+n[i].name+'="'+n[i].value.replace(/"/g,'\\"')+'"';if(r.length){for(e&&(t+=">"),i=0,o=r.length;i<o;i++)3==r[i].nodeType?t+=r[i].nodeValue:1==r[i].nodeType&&(t+=h(r[i]).toString());e&&(t+="</"+this.type+">")}else e&&(t+="/>");return t}}s.data=function(e,r){var i=v[this.id]=v[this.id]||{};if(0==arguments.length)return t("snap.data.get."+this.id,this,i,null),i;if(1==arguments.length){if(n.is(e,"object")){for(var o in e)e.hasOwnProperty(o)&&this.data(o,e[o]);return this}return t("snap.data.get."+this.id,this,i[e],e),i[e]}return i[e]=r,t("snap.data.set."+this.id,this,r,e),this},s.removeData=function(e){return null==e?v[this.id]={}:v[this.id]&&delete v[this.id][e],this},s.outerSVG=s.toString=y(1),s.innerSVG=y(),s.toDataURL=function(){if(e&&e.btoa){var t=this.getBBox(),r=n.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+t.x.toFixed(3),y:+t.y.toFixed(3),width:+t.width.toFixed(3),height:+t.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r)))}},a.prototype.select=s.select,a.prototype.selectAll=s.selectAll}),r.plugin(function(e,r,i,o,a){var s=r.prototype,c=e.is,l=String,u="hasOwnProperty";function d(e,t,n){return function(r){var i=r.slice(e,t);return 1==i.length&&(i=i[0]),n?n(i):i}}var f=function(e,t,r,i){"function"!=typeof r||r.length||(i=r,r=n.linear),this.attr=e,this.dur=t,r&&(this.easing=r),i&&(this.callback=i)};e._.Animation=f,e.animation=function(e,t,n,r){return new f(e,t,n,r)},s.inAnim=function(){var e=[];for(var t in this.anims)this.anims[u](t)&&function(t){e.push({anim:new f(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(this.anims[t]);return e},e.animate=function(e,r,i,o,a,s){"function"!=typeof a||a.length||(s=a,a=n.linear);var c=n.time(),l=n(e,r,c,c+o,n.time,i,a);return s&&t.once("mina.finish."+l.id,s),l},s.stop=function(){for(var e=this.inAnim(),t=0,n=e.length;t<n;t++)e[t].stop();return this},s.animate=function(e,r,i,o){"function"!=typeof i||i.length||(o=i,i=n.linear),e instanceof f&&(o=e.callback,i=e.easing,r=e.dur,e=e.attr);var a,s,p,h,m=[],g=[],v={},y=this;for(var b in e)if(e[u](b)){y.equal?(a=(h=y.equal(b,l(e[b]))).from,s=h.to,p=h.f):(a=+y.attr(b),s=+e[b]);var w=c(a,"array")?a.length:1;v[b]=d(m.length,m.length+w,p),m=m.concat(a),g=g.concat(s)}var _=n.time(),x=n(m,g,_,_+r,n.time,function(e){var t={};for(var n in v)v[u](n)&&(t[n]=v[n](e));y.attr(t)},i);return y.anims[x.id]=x,x._attrs=e,x._callback=o,t("snap.animcreated."+y.id,x),t.once("mina.finish."+x.id,function(){t.off("mina.*."+x.id),delete y.anims[x.id],o&&o.call(y)}),t.once("mina.stop."+x.id,function(){t.off("mina.*."+x.id),delete y.anims[x.id]}),y}}),r.plugin(function(e,t,n,r,i){var o=Object.prototype.toString,a=String,s=Math;function c(e,t,n,r,i,a){if(null==t&&"[object SVGMatrix]"==o.call(e))return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,void(this.f=e.f);null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+i,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}!function(t){function n(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var t=s.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}t.add=function(e,t,n,r,i,o){if(e&&e instanceof c)return this.add(e.a,e.b,e.c,e.d,e.e,e.f);var a=e*this.a+t*this.c,s=e*this.b+t*this.d;return this.e+=i*this.a+o*this.c,this.f+=i*this.b+o*this.d,this.c=n*this.a+r*this.c,this.d=n*this.b+r*this.d,this.a=a,this.b=s,this},c.prototype.multLeft=function(e,t,n,r,i,o){if(e&&e instanceof c)return this.multLeft(e.a,e.b,e.c,e.d,e.e,e.f);var a=e*this.a+n*this.b,s=e*this.c+n*this.d,l=e*this.e+n*this.f+i;return this.b=t*this.a+r*this.b,this.d=t*this.c+r*this.d,this.f=t*this.e+r*this.f+o,this.a=a,this.c=s,this.e=l,this},t.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new c(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},t.clone=function(){return new c(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(e,t){return this.e+=e*this.a+t*this.c,this.f+=e*this.b+t*this.d,this},t.scale=function(e,t,n,r){return null==t&&(t=e),(n||r)&&this.translate(n,r),this.a*=e,this.b*=e,this.c*=t,this.d*=t,(n||r)&&this.translate(-n,-r),this},t.rotate=function(t,n,r){t=e.rad(t),n=n||0,r=r||0;var i=+s.cos(t).toFixed(9),o=+s.sin(t).toFixed(9);return this.add(i,o,-o,i,n,r),this.add(1,0,0,1,-n,-r)},t.skewX=function(e){return this.skew(e,0)},t.skewY=function(e){return this.skew(0,e)},t.skew=function(t,n){t=t||0,n=n||0,t=e.rad(t),n=e.rad(n);var r=s.tan(t).toFixed(9),i=s.tan(n).toFixed(9);return this.add(1,i,r,1,0,0)},t.x=function(e,t){return e*this.a+t*this.c+this.e},t.y=function(e,t){return e*this.b+t*this.d+this.f},t.get=function(e){return+this[a.fromCharCode(97+e)].toFixed(4)},t.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.determinant=function(){return this.a*this.d-this.b*this.c},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.b],[this.c,this.d]];t.scalex=s.sqrt(n(i[0])),r(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=s.sqrt(n(i[1])),r(i[1]),t.shear/=t.scaley,this.determinant()<0&&(t.scalex=-t.scalex);var o=i[0][1],a=i[1][1];return a<0?(t.rotate=e.deg(s.acos(a)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(s.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(e){var t=e||this.split();return+t.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:"")+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:"")+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:""))}}(c.prototype),e.Matrix=c,e.matrix=function(e,t,n,r,i,o){return new c(e,t,n,r,i,o)}}),r.plugin(function(e,n,r,i,o){var a,s=e._.make,c=e._.wrap,l=e.is,u=e._.getSomeDefs,d=/^url\((['"]?)([^)]+)\1\)$/,f=e._.$,p=e.url,h=String,m=e._.separator,g="";function v(r){return function(i){if(t.stop(),i instanceof o&&1==i.node.childNodes.length&&("radialGradient"==i.node.firstChild.tagName||"linearGradient"==i.node.firstChild.tagName||"pattern"==i.node.firstChild.tagName)&&(i=i.node.firstChild,u(this).appendChild(i),i=c(i)),i instanceof n)if("radialGradient"==i.type||"linearGradient"==i.type||"pattern"==i.type){i.node.id||f(i.node,{id:i.id});var a=p(i.node.id)}else a=i.attr(r);else if((a=e.color(i)).error){var s=e(u(this).ownerSVGElement).gradient(i);s?(s.node.id||f(s.node,{id:s.id}),a=p(s.node.id)):a=i}else a=h(a);var l={};l[r]=a,f(this.node,l),this.node.style[r]=g}}e.deurl=function(e){var t=String(e).match(d);return t?t[2]:e},t.on("snap.util.attr.mask",function(e){if(e instanceof n||e instanceof o){if(t.stop(),e instanceof o&&1==e.node.childNodes.length&&(e=e.node.firstChild,u(this).appendChild(e),e=c(e)),"mask"==e.type)var r=e;else(r=s("mask",u(this))).node.appendChild(e.node);!r.node.id&&f(r.node,{id:r.id}),f(this.node,{mask:p(r.id)})}}),a=function(e){if(e instanceof n||e instanceof o){t.stop();for(var r,i=e.node;i;){if("clipPath"===i.nodeName){r=new n(i);break}if("svg"===i.nodeName){r=void 0;break}i=i.parentNode}r||((r=s("clipPath",u(this))).node.appendChild(e.node),!r.node.id&&f(r.node,{id:r.id})),f(this.node,{"clip-path":p(r.node.id||r.id)})}},t.on("snap.util.attr.clip",a),t.on("snap.util.attr.clip-path",a),t.on("snap.util.attr.clipPath",a),t.on("snap.util.attr.fill",v("fill")),t.on("snap.util.attr.stroke",v("stroke"));var y=/^([lr])(?:\(([^)]*)\))?(.*)$/i;function b(e){t.stop(),e==+e&&(e+="px"),this.node.style.fontSize=e}function w(){return t.stop(),this.node.style.fontSize}t.on("snap.util.grad.parse",function(e){var t=(e=h(e)).match(y);if(!t)return null;var n=t[1],r=t[2],i=t[3];1==(r=r.split(/\s*,\s*/).map(function(e){return+e==e?+e:e})).length&&0==r[0]&&(r=[]);var o=(i=(i=i.split("-")).map(function(e){var t={color:(e=e.split(":"))[0]};return e[1]&&(t.offset=parseFloat(e[1])),t})).length,a=0,s=0;function c(e,t){for(var n=(t-a)/(e-s),r=s;r<e;r++)i[r].offset=+(+a+n*(r-s)).toFixed(2);s=e,a=t}o--;for(var l=0;l<o;l++)"offset"in i[l]&&c(l,i[l].offset);return i[o].offset=i[o].offset||100,c(o,i[o].offset),{type:n,params:r,stops:i}}),t.on("snap.util.attr.d",function(n){t.stop(),l(n,"array")&&l(n[0],"array")&&(n=e.path.toString.call(n)),(n=h(n)).match(/[ruo]/i)&&(n=e.path.toAbsolute(n)),f(this.node,{d:n})})(-1),t.on("snap.util.attr.#text",function(e){t.stop(),e=h(e);for(var n=i.doc.createTextNode(e);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),t.on("snap.util.attr.path",function(e){t.stop(),this.attr({d:e})})(-1),t.on("snap.util.attr.class",function(e){t.stop(),this.node.className.baseVal=e})(-1),t.on("snap.util.attr.viewBox",function(e){var n;n=l(e,"object")&&"x"in e?[e.x,e.y,e.width,e.height].join(" "):l(e,"array")?e.join(" "):e,f(this.node,{viewBox:n}),t.stop()})(-1),t.on("snap.util.attr.transform",function(e){this.transform(e),t.stop()})(-1),t.on("snap.util.attr.r",function(e){"rect"==this.type&&(t.stop(),f(this.node,{rx:e,ry:e}))})(-1),t.on("snap.util.attr.textpath",function(e){if(t.stop(),"text"==this.type){var r,i,o;if(!e&&this.textPath){for(i=this.textPath;i.node.firstChild;)this.node.appendChild(i.node.firstChild);return i.remove(),void delete this.textPath}if(l(e,"string")){var a=u(this),s=c(a.parentNode).path(e);a.appendChild(s.node),r=s.id,s.attr({id:r})}else(e=c(e))instanceof n&&((r=e.attr("id"))||(r=e.id,e.attr({id:r})));if(r)if(i=this.textPath,o=this.node,i)i.attr({"xlink:href":"#"+r});else{for(i=f("textPath",{"xlink:href":"#"+r});o.firstChild;)i.appendChild(o.firstChild);o.appendChild(i),this.textPath=c(i)}}})(-1),t.on("snap.util.attr.text",function(e){if("text"==this.type){for(var n=this.node,r=function(e){var t=f("tspan");if(l(e,"array"))for(var n=0;n<e.length;n++)t.appendChild(r(e[n]));else t.appendChild(i.doc.createTextNode(e));return t.normalize&&t.normalize(),t};n.firstChild;)n.removeChild(n.firstChild);for(var o=r(e);o.firstChild;)n.appendChild(o.firstChild)}t.stop()})(-1),t.on("snap.util.attr.fontSize",b)(-1),t.on("snap.util.attr.font-size",b)(-1),t.on("snap.util.getattr.transform",function(){return t.stop(),this.transform()})(-1),t.on("snap.util.getattr.textpath",function(){return t.stop(),this.textPath})(-1),function(){function n(n){return function(){t.stop();var r=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==r?r:e(i.doc.getElementById(r.match(d)[1]))}}function r(e){return function(n){t.stop();var r="marker"+e.charAt(0).toUpperCase()+e.substring(1);if(""!=n&&n){if("marker"==n.type){var i=n.node.id;return i||f(n.node,{id:n.id}),void(this.node.style[r]=p(i))}}else this.node.style[r]="none"}}t.on("snap.util.getattr.marker-end",n("end"))(-1),t.on("snap.util.getattr.markerEnd",n("end"))(-1),t.on("snap.util.getattr.marker-start",n("start"))(-1),t.on("snap.util.getattr.markerStart",n("start"))(-1),t.on("snap.util.getattr.marker-mid",n("mid"))(-1),t.on("snap.util.getattr.markerMid",n("mid"))(-1),t.on("snap.util.attr.marker-end",r("end"))(-1),t.on("snap.util.attr.markerEnd",r("end"))(-1),t.on("snap.util.attr.marker-start",r("start"))(-1),t.on("snap.util.attr.markerStart",r("start"))(-1),t.on("snap.util.attr.marker-mid",r("mid"))(-1),t.on("snap.util.attr.markerMid",r("mid"))(-1)}(),t.on("snap.util.getattr.r",function(){if("rect"==this.type&&f(this.node,"rx")==f(this.node,"ry"))return t.stop(),f(this.node,"rx")})(-1),t.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){t.stop();var e=function e(t){for(var n=[],r=t.childNodes,i=0,o=r.length;i<o;i++){var a=r[i];3==a.nodeType&&n.push(a.nodeValue),"tspan"==a.tagName&&(1==a.childNodes.length&&3==a.firstChild.nodeType?n.push(a.firstChild.nodeValue):n.push(e(a)))}return n}(this.node);return 1==e.length?e[0]:e}})(-1),t.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),t.on("snap.util.getattr.fill",function(n){if(!n){t.stop();var r=t("snap.util.getattr.fill",this,!0).firstDefined();return e(e.deurl(r))||r}})(-1),t.on("snap.util.getattr.stroke",function(n){if(!n){t.stop();var r=t("snap.util.getattr.stroke",this,!0).firstDefined();return e(e.deurl(r))||r}})(-1),t.on("snap.util.getattr.viewBox",function(){t.stop();var n=f(this.node,"viewBox");return n?(n=n.split(m),e._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),t.on("snap.util.getattr.points",function(){var e=f(this.node,"points");return t.stop(),e?e.split(m):void 0})(-1),t.on("snap.util.getattr.path",function(){var e=f(this.node,"d");return t.stop(),e})(-1),t.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),t.on("snap.util.getattr.fontSize",w)(-1),t.on("snap.util.getattr.font-size",w)(-1)}),r.plugin(function(e,t,n,r,i){var o=/\S+/g,a=String,s=t.prototype;s.addClass=function(e){var t,n,r,i=a(e||"").match(o)||[],s=this.node,c=s.className.baseVal,l=c.match(o)||[];if(i.length){for(t=0;n=i[t++];)~l.indexOf(n)||l.push(n);c!=(r=l.join(" "))&&(s.className.baseVal=r)}return this},s.removeClass=function(e){var t,n,r,i,s=a(e||"").match(o)||[],c=this.node,l=c.className.baseVal,u=l.match(o)||[];if(u.length){for(t=0;r=s[t++];)~(n=u.indexOf(r))&&u.splice(n,1);l!=(i=u.join(" "))&&(c.className.baseVal=i)}return this},s.hasClass=function(e){return!!~(this.node.className.baseVal.match(o)||[]).indexOf(e)},s.toggleClass=function(e,t){if(null!=t)return t?this.addClass(e):this.removeClass(e);var n,r,i,a,s=(e||"").match(o)||[],c=this.node,l=c.className.baseVal,u=l.match(o)||[];for(n=0;i=s[n++];)~(r=u.indexOf(i))?u.splice(r,1):u.push(i);return l!=(a=u.join(" "))&&(c.className.baseVal=a),this}}),r.plugin(function(e,n,r,i,o){var a={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"*":function(e,t){return e*t}},s=String,c=/[a-z]+$/i,l=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;function u(e){return e}function d(e){return function(t){return+t.toFixed(3)+e}}t.on("snap.util.attr",function(e){var n=s(e).match(l);if(n){var r=t.nt(),i=r.substring(r.lastIndexOf(".")+1),o=this.attr(i),u={};t.stop();var d=n[3]||"",f=o.match(c),p=a[n[1]];if(f&&f==d?e=p(parseFloat(o),+n[2]):(o=this.asPX(i),e=p(this.asPX(i),this.asPX(i,n[2]+d))),isNaN(o)||isNaN(e))return;u[i]=e,this.attr(u)}})(-10),t.on("snap.util.equal",function(e,n){var r=s(this.attr(e)||""),i=s(n).match(l);if(i){t.stop();var o=i[3]||"",f=r.match(c),p=a[i[1]];return f&&f==o?{from:parseFloat(r),to:p(parseFloat(r),+i[2]),f:d(f)}:{from:r=this.asPX(e),to:p(r,this.asPX(e,i[2]+o)),f:u}}})(-10)}),r.plugin(function(n,r,i,o,a){var s=i.prototype,c=n.is;s.rect=function(e,t,n,r,i,o){var a;return null==o&&(o=i),c(e,"object")&&"[object Object]"==e?a=e:null!=e&&(a={x:e,y:t,width:n,height:r},null!=i&&(a.rx=i,a.ry=o)),this.el("rect",a)},s.circle=function(e,t,n){var r;return c(e,"object")&&"[object Object]"==e?r=e:null!=e&&(r={cx:e,cy:t,r:n}),this.el("circle",r)};var l=function(){function e(){this.parentNode.removeChild(this)}return function(t,n){var r=o.doc.createElement("img"),i=o.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,i.removeChild(r)},r.onerror=e,i.appendChild(r),r.src=t}}();s.image=function(e,t,r,i,o){var a=this.el("image");if(c(e,"object")&&"src"in e)a.attr(e);else if(null!=e){var s={"xlink:href":e,preserveAspectRatio:"none"};null!=t&&null!=r&&(s.x=t,s.y=r),null!=i&&null!=o?(s.width=i,s.height=o):l(e,function(){n._.$(a.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(a.node,s)}return a},s.ellipse=function(e,t,n,r){var i;return c(e,"object")&&"[object Object]"==e?i=e:null!=e&&(i={cx:e,cy:t,rx:n,ry:r}),this.el("ellipse",i)},s.path=function(e){var t;return c(e,"object")&&!c(e,"array")?t=e:e&&(t={d:e}),this.el("path",t)},s.group=s.g=function(e){var t=this.el("g");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},s.svg=function(e,t,n,r,i,o,a,s){var l={};return c(e,"object")&&null==t?l=e:(null!=e&&(l.x=e),null!=t&&(l.y=t),null!=n&&(l.width=n),null!=r&&(l.height=r),null!=i&&null!=o&&null!=a&&null!=s&&(l.viewBox=[i,o,a,s])),this.el("svg",l)},s.mask=function(e){var t=this.el("mask");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},s.ptrn=function(e,t,n,r,i,o,a,s){if(c(e,"object"))var l=e;else l={patternUnits:"userSpaceOnUse"},e&&(l.x=e),t&&(l.y=t),null!=n&&(l.width=n),null!=r&&(l.height=r),l.viewBox=null!=i&&null!=o&&null!=a&&null!=s?[i,o,a,s]:[e||0,t||0,n||0,r||0];return this.el("pattern",l)},s.use=function(e){return null!=e?(e instanceof r&&(e.attr("id")||e.attr({id:n._.id(e)}),e=e.attr("id")),"#"==String(e).charAt()&&(e=e.substring(1)),this.el("use",{"xlink:href":"#"+e})):r.prototype.use.call(this)},s.symbol=function(e,t,n,r){var i={};return null!=e&&null!=t&&null!=n&&null!=r&&(i.viewBox=[e,t,n,r]),this.el("symbol",i)},s.text=function(e,t,n){var r={};return c(e,"object")?r=e:null!=e&&(r={x:e,y:t,text:n||""}),this.el("text",r)},s.line=function(e,t,n,r){var i={};return c(e,"object")?i=e:null!=e&&(i={x1:e,x2:n,y1:t,y2:r}),this.el("line",i)},s.polyline=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return c(e,"object")&&!c(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polyline",t)},s.polygon=function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments,0));var t={};return c(e,"object")&&!c(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polygon",t)},function(){var r=n._.$;function i(){return this.selectAll("stop")}function o(e,t){var i=r("stop"),o={offset:+t+"%"};e=n.color(e),o["stop-color"]=e.hex,e.opacity<1&&(o["stop-opacity"]=e.opacity),r(i,o);for(var a,s=this.stops(),c=0;c<s.length;c++){if(parseFloat(s[c].attr("offset"))>t){this.node.insertBefore(i,s[c].node),a=!0;break}}return a||this.node.appendChild(i),this}function a(){if("linearGradient"==this.type){var e=r(this.node,"x1")||0,t=r(this.node,"x2")||1,i=r(this.node,"y1")||0,o=r(this.node,"y2")||0;return n._.box(e,i,math.abs(t-e),math.abs(o-i))}var a=this.node.cx||.5,s=this.node.cy||.5,c=this.node.r||0;return n._.box(a-c,s-c,2*c,2*c)}function c(e){var r=e,i=this.stops();if("string"==typeof e&&(r=t("snap.util.grad.parse",null,"l(0,0,0,1)"+e).firstDefined().stops),n.is(r,"array")){for(var o=0;o<i.length;o++)if(r[o]){var a=n.color(r[o].color),s={offset:r[o].offset+"%"};s["stop-color"]=a.hex,a.opacity<1&&(s["stop-opacity"]=a.opacity),i[o].attr(s)}else i[o].remove();for(o=i.length;o<r.length;o++)this.addStop(r[o].color,r[o].offset);return this}}function l(e,t,s,l,u){var d=n._.make("linearGradient",e);return d.stops=i,d.addStop=o,d.getBBox=a,d.setStops=c,null!=t&&r(d.node,{x1:t,y1:s,x2:l,y2:u}),d}function u(e,t,s,c,l,u){var d=n._.make("radialGradient",e);return d.stops=i,d.addStop=o,d.getBBox=a,null!=t&&r(d.node,{cx:t,cy:s,r:c}),null!=l&&null!=u&&r(d.node,{fx:l,fy:u}),d}s.gradient=function(e){return function(e,n){var i,o=t("snap.util.grad.parse",null,n).firstDefined();if(!o)return null;o.params.unshift(e),i="l"==o.type.toLowerCase()?l.apply(0,o.params):u.apply(0,o.params),o.type!=o.type.toLowerCase()&&r(i.node,{gradientUnits:"userSpaceOnUse"});for(var a=o.stops,s=a.length,c=0;c<s;c++){var d=a[c];i.addStop(d.color,d.offset)}return i}(this.defs,e)},s.gradientLinear=function(e,t,n,r){return l(this.defs,e,t,n,r)},s.gradientRadial=function(e,t,n,r,i){return u(this.defs,e,t,n,r,i)},s.toString=function(){var e,t=this.node.ownerDocument,r=t.createDocumentFragment(),i=t.createElement("div"),o=this.node.cloneNode(!0);return r.appendChild(i),i.appendChild(o),n._.$(o,{xmlns:"http://www.w3.org/2000/svg"}),e=i.innerHTML,r.removeChild(r.firstChild),e},s.toDataURL=function(){if(e&&e.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},s.clear=function(){for(var e,t=this.node.firstChild;t;)e=t.nextSibling,"defs"!=t.tagName?t.parentNode.removeChild(t):s.clear.call({node:t}),t=e}}()}),r.plugin(function(e,t,n,r){var i=t.prototype,o=e.is,a=e._.clone,s="hasOwnProperty",c=/,?([a-z]),?/gi,l=parseFloat,u=Math,d=u.PI,f=u.min,p=u.max,h=u.pow,m=u.abs;function g(e){var t=g.ps=g.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[s](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function v(e,t,n,r){return null==e&&(e=t=n=r=0),null==t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:u.min(n,r)/2,r2:u.max(n,r)/2,r0:u.sqrt(n*n+r*r)/2,path:I(e,t,n,r),vb:[e,t,n,r].join(" ")}}function y(){return this.join(",").replace(c,"$1")}function b(e){var t=a(e);return t.toString=y,t}function w(e,t,n,r,i,o,a,s,c){return null==c?A(e,t,n,r,i,o,a,s):C(e,t,n,r,i,o,a,s,function(e,t,n,r,i,o,a,s,c){if(c<0||A(e,t,n,r,i,o,a,s)<c)return;var l,u=.5,d=1-u;l=A(e,t,n,r,i,o,a,s,d);for(;m(l-c)>.01;)l=A(e,t,n,r,i,o,a,s,d+=(l<c?1:-1)*(u/=2));return d}(e,t,n,r,i,o,a,s,c))}function _(n,r){function i(e){return+(+e).toFixed(3)}return e._.cacher(function(e,o,a){e instanceof t&&(e=e.attr("d"));for(var s,c,l,u,d,f="",p={},h=0,m=0,g=(e=X(e)).length;m<g;m++){if("M"==(l=e[m])[0])s=+l[1],c=+l[2];else{if(h+(u=w(s,c,l[1],l[2],l[3],l[4],l[5],l[6]))>o){if(r&&!p.start){if(f+=["C"+i((d=w(s,c,l[1],l[2],l[3],l[4],l[5],l[6],o-h)).start.x),i(d.start.y),i(d.m.x),i(d.m.y),i(d.x),i(d.y)],a)return f;p.start=f,f=["M"+i(d.x),i(d.y)+"C"+i(d.n.x),i(d.n.y),i(d.end.x),i(d.end.y),i(l[5]),i(l[6])].join(),h+=u,s=+l[5],c=+l[6];continue}if(!n&&!r)return d=w(s,c,l[1],l[2],l[3],l[4],l[5],l[6],o-h)}h+=u,s=+l[5],c=+l[6]}f+=l.shift()+l}return p.end=f,d=n?h:r?p:C(s,c,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,e._.clone)}var x=_(1),k=_(),j=_(0,1);function C(e,t,n,r,i,o,a,s,c){var l=1-c,f=h(l,3),p=h(l,2),m=c*c,g=m*c,v=e+2*c*(n-e)+m*(i-2*n+e),y=t+2*c*(r-t)+m*(o-2*r+t),b=n+2*c*(i-n)+m*(a-2*i+n),w=r+2*c*(o-r)+m*(s-2*o+r);return{x:f*e+3*p*c*n+3*l*c*c*i+g*a,y:f*t+3*p*c*r+3*l*c*c*o+g*s,m:{x:v,y:y},n:{x:b,y:w},start:{x:l*e+c*n,y:l*t+c*r},end:{x:l*i+c*a,y:l*o+c*s},alpha:90-180*u.atan2(v-b,y-w)/d}}function E(t,n,r,i,o,a,s,c){e.is(t,"array")||(t=[t,n,r,i,o,a,s,c]);var l=H.apply(null,t);return v(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function S(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function T(e,t){return e=v(e),S(t=v(t),e.x,e.y)||S(t,e.x2,e.y)||S(t,e.x,e.y2)||S(t,e.x2,e.y2)||S(e,t.x,t.y)||S(e,t.x2,t.y)||S(e,t.x,t.y2)||S(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function O(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n}function A(e,t,n,r,i,o,a,s,c){null==c&&(c=1);for(var l=(c=c>1?1:c<0?0:c)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,h=0;h<12;h++){var m=l*d[h]+l,g=O(m,e,n,i,a),v=O(m,t,r,o,s),y=g*g+v*v;p+=f[h]*u.sqrt(y)}return l*p}function P(e,t,n,r,i,o,a,s){if(!(p(e,n)<f(i,a)||f(e,n)>p(i,a)||p(t,r)<f(o,s)||f(t,r)>p(o,s))){var c=(e-n)*(o-s)-(t-r)*(i-a);if(c){var l=((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/c,u=((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/c,d=+l.toFixed(2),h=+u.toFixed(2);if(!(d<+f(e,n).toFixed(2)||d>+p(e,n).toFixed(2)||d<+f(i,a).toFixed(2)||d>+p(i,a).toFixed(2)||h<+f(t,r).toFixed(2)||h>+p(t,r).toFixed(2)||h<+f(o,s).toFixed(2)||h>+p(o,s).toFixed(2)))return{x:l,y:u}}}}function N(e,t,n){if(!T(E(e),E(t)))return n?0:[];for(var r=~~(A.apply(0,e)/8),i=~~(A.apply(0,t)/8),o=[],a=[],s={},c=n?0:[],l=0;l<r+1;l++){var u=C.apply(0,e.concat(l/r));o.push({x:u.x,y:u.y,t:l/r})}for(l=0;l<i+1;l++)u=C.apply(0,t.concat(l/i)),a.push({x:u.x,y:u.y,t:l/i});for(l=0;l<r;l++)for(var d=0;d<i;d++){var f=o[l],p=o[l+1],h=a[d],g=a[d+1],v=m(p.x-f.x)<.001?"y":"x",y=m(g.x-h.x)<.001?"y":"x",b=P(f.x,f.y,p.x,p.y,h.x,h.y,g.x,g.y);if(b){if(s[b.x.toFixed(4)]==b.y.toFixed(4))continue;s[b.x.toFixed(4)]=b.y.toFixed(4);var w=f.t+m((b[v]-f[v])/(p[v]-f[v]))*(p.t-f.t),_=h.t+m((b[y]-h[y])/(g[y]-h[y]))*(g.t-h.t);w>=0&&w<=1&&_>=0&&_<=1&&(n?c++:c.push({x:b.x,y:b.y,t1:w,t2:_}))}}return c}function M(e,t,n){e=X(e),t=X(t);for(var r,i,o,a,s,c,l,u,d,f,p=n?0:[],h=0,m=e.length;h<m;h++){var g=e[h];if("M"==g[0])r=s=g[1],i=c=g[2];else{"C"==g[0]?(d=[r,i].concat(g.slice(1)),r=d[6],i=d[7]):(d=[r,i,r,i,s,c,s,c],r=s,i=c);for(var v=0,y=t.length;v<y;v++){var b=t[v];if("M"==b[0])o=l=b[1],a=u=b[2];else{"C"==b[0]?(f=[o,a].concat(b.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,l,u,l,u],o=l,a=u);var w=N(d,f,n);if(n)p+=w;else{for(var _=0,x=w.length;_<x;_++)w[_].segment1=h,w[_].segment2=v,w[_].bez1=d,w[_].bez2=f;p=p.concat(w)}}}}}return p}function R(e){var t=g(e);if(t.bbox)return a(t.bbox);if(!e)return v();for(var n,r=0,i=0,o=[],s=[],c=0,l=(e=X(e)).length;c<l;c++)if("M"==(n=e[c])[0])r=n[1],i=n[2],o.push(r),s.push(i);else{var u=H(r,i,n[1],n[2],n[3],n[4],n[5],n[6]);o=o.concat(u.min.x,u.max.x),s=s.concat(u.min.y,u.max.y),r=n[5],i=n[6]}var d=f.apply(0,o),h=f.apply(0,s),m=v(d,h,p.apply(0,o)-d,p.apply(0,s)-h);return t.bbox=a(m),m}function I(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.toString=y,o}function D(e,t,n,r,i){if(null==i&&null==r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!=i)var o=Math.PI/180,a=e+n*Math.cos(-r*o),s=e+n*Math.cos(-i*o),c=[["M",a,t+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,s,t+n*Math.sin(-i*o)]];else c=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return c.toString=y,c}var L=e._unit2px,F={path:function(e){return e.attr("path")},circle:function(e){var t=L(e);return D(t.cx,t.cy,t.r)},ellipse:function(e){var t=L(e);return D(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=L(e);return I(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=L(e);return I(t.x||0,t.y||0,t.width,t.height)},line:function(e){return"M"+[e.attr("x1")||0,e.attr("y1")||0,e.attr("x2"),e.attr("y2")]},polyline:function(e){return"M"+e.attr("points")},polygon:function(e){return"M"+e.attr("points")+"z"},deflt:function(e){var t=e.node.getBBox();return I(t.x,t.y,t.width,t.height)}};function z(t){var n=g(t);if(n.abs)return b(n.abs);if(o(t,"array")&&o(t&&t[0],"array")||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var r,i=[],a=0,s=0,c=0,l=0,u=0;"M"==t[0][0]&&(c=a=+t[0][1],l=s=+t[0][2],u++,i[0]=["M",a,s]);for(var d,f,p=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),h=u,m=t.length;h<m;h++){if(i.push(d=[]),(r=(f=t[h])[0])!=r.toUpperCase())switch(d[0]=r.toUpperCase(),d[0]){case"A":d[1]=f[1],d[2]=f[2],d[3]=f[3],d[4]=f[4],d[5]=f[5],d[6]=+f[6]+a,d[7]=+f[7]+s;break;case"V":d[1]=+f[1]+s;break;case"H":d[1]=+f[1]+a;break;case"R":for(var v=[a,s].concat(f.slice(1)),w=2,_=v.length;w<_;w++)v[w]=+v[w]+a,v[++w]=+v[w]+s;i.pop(),i=i.concat(q(v,p));break;case"O":i.pop(),(v=D(a,s,f[1],f[2])).push(v[0]),i=i.concat(v);break;case"U":i.pop(),i=i.concat(D(a,s,f[1],f[2],f[3])),d=["U"].concat(i[i.length-1].slice(-2));break;case"M":c=+f[1]+a,l=+f[2]+s;default:for(w=1,_=f.length;w<_;w++)d[w]=+f[w]+(w%2?a:s)}else if("R"==r)v=[a,s].concat(f.slice(1)),i.pop(),i=i.concat(q(v,p)),d=["R"].concat(f.slice(-2));else if("O"==r)i.pop(),(v=D(a,s,f[1],f[2])).push(v[0]),i=i.concat(v);else if("U"==r)i.pop(),i=i.concat(D(a,s,f[1],f[2],f[3])),d=["U"].concat(i[i.length-1].slice(-2));else for(var x=0,k=f.length;x<k;x++)d[x]=f[x];if("O"!=(r=r.toUpperCase()))switch(d[0]){case"Z":a=+c,s=+l;break;case"H":a=d[1];break;case"V":s=d[1];break;case"M":c=d[d.length-2],l=d[d.length-1];default:a=d[d.length-2],s=d[d.length-1]}}return i.toString=y,n.abs=b(i),i}function Y(e,t,n,r){return[e,t,n,r,n,r]}function B(e,t,n,r,i,o){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function H(e,t,n,r,i,o,a,s){for(var c,l,d,h,g,v,y,b,w=[],_=[[],[]],x=0;x<2;++x)if(0==x?(l=6*e-12*n+6*i,c=-3*e+9*n-9*i+3*a,d=3*n-3*e):(l=6*t-12*r+6*o,c=-3*t+9*r-9*o+3*s,d=3*r-3*t),m(c)<1e-12){if(m(l)<1e-12)continue;0<(h=-d/l)&&h<1&&w.push(h)}else y=l*l-4*d*c,b=u.sqrt(y),y<0||(0<(g=(-l+b)/(2*c))&&g<1&&w.push(g),0<(v=(-l-b)/(2*c))&&v<1&&w.push(v));for(var k,j=w.length,C=j;j--;)k=1-(h=w[j]),_[0][j]=k*k*k*e+3*k*k*h*n+3*k*h*h*i+h*h*h*a,_[1][j]=k*k*k*t+3*k*k*h*r+3*k*h*h*o+h*h*h*s;return _[0][C]=e,_[1][C]=t,_[0][C+1]=a,_[1][C+1]=s,_[0].length=_[1].length=C+2,{min:{x:f.apply(0,_[0]),y:f.apply(0,_[1])},max:{x:p.apply(0,_[0]),y:p.apply(0,_[1])}}}function X(t,n){var r=!n&&g(t);if(!n&&r.curve)return b(r.curve);for(var i=z(t),o=n&&z(n),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=function(t,n,r){var i,o;if(!t)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(t[0]in{T:1,Q:1})&&(n.qx=n.qy=null),t[0]){case"M":n.X=t[1],n.Y=t[2];break;case"A":t=["C"].concat(function t(n,r,i,o,a,s,c,l,f,p){var h,g=120*d/180,v=d/180*(+a||0),y=[],b=e._.cacher(function(e,t,n){return{x:e*u.cos(n)-t*u.sin(n),y:e*u.sin(n)+t*u.cos(n)}});if(!i||!o)return[n,r,l,f,l,f];if(p)T=p[0],O=p[1],E=p[2],S=p[3];else{n=(h=b(n,r,-v)).x,r=h.y,l=(h=b(l,f,-v)).x,f=h.y,u.cos(d/180*a),u.sin(d/180*a);var w=(n-l)/2,_=(r-f)/2,x=w*w/(i*i)+_*_/(o*o);x>1&&(i*=x=u.sqrt(x),o*=x);var k=i*i,j=o*o,C=(s==c?-1:1)*u.sqrt(m((k*j-k*_*_-j*w*w)/(k*_*_+j*w*w))),E=C*i*_/o+(n+l)/2,S=C*-o*w/i+(r+f)/2,T=u.asin(((r-S)/o).toFixed(9)),O=u.asin(((f-S)/o).toFixed(9));(T=n<E?d-T:T)<0&&(T=2*d+T),(O=l<E?d-O:O)<0&&(O=2*d+O),c&&T>O&&(T-=2*d),!c&&O>T&&(O-=2*d)}var A=O-T;if(m(A)>g){var P=O,N=l,M=f;O=T+g*(c&&O>T?1:-1),y=t(l=E+i*u.cos(O),f=S+o*u.sin(O),i,o,a,0,c,N,M,[O,P,E,S])}A=O-T;var R=u.cos(T),I=u.sin(T),D=u.cos(O),L=u.sin(O),F=u.tan(A/4),z=4/3*i*F,Y=4/3*o*F,B=[n,r],H=[n+z*I,r-Y*R],X=[l+z*L,f-Y*D],q=[l,f];if(H[0]=2*B[0]-H[0],H[1]=2*B[1]-H[1],p)return[H,X,q].concat(y);for(var U=[],W=0,V=(y=[H,X,q].concat(y).join().split(",")).length;W<V;W++)U[W]=W%2?b(y[W-1],y[W],v).y:b(y[W],y[W+1],v).x;return U}.apply(0,[n.x,n.y].concat(t.slice(1))));break;case"S":"C"==r||"S"==r?(i=2*n.x-n.bx,o=2*n.y-n.by):(i=n.x,o=n.y),t=["C",i,o].concat(t.slice(1));break;case"T":"Q"==r||"T"==r?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),t=["C"].concat(B(n.x,n.y,n.qx,n.qy,t[1],t[2]));break;case"Q":n.qx=t[1],n.qy=t[2],t=["C"].concat(B(n.x,n.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(Y(n.x,n.y,t[1],t[2]));break;case"H":t=["C"].concat(Y(n.x,n.y,t[1],n.y));break;case"V":t=["C"].concat(Y(n.x,n.y,n.x,t[1]));break;case"Z":t=["C"].concat(Y(n.x,n.y,n.X,n.Y))}return t},f=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)v[t]="A",o&&(y[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),k=p(i.length,o&&o.length||0)}},h=function(e,t,n,r,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],k=p(i.length,o&&o.length||0))},v=[],y=[],w="",_="",x=0,k=p(i.length,o&&o.length||0);x<k;x++){i[x]&&(w=i[x][0]),"C"!=w&&(v[x]=w,x&&(_=v[x-1])),i[x]=c(i[x],a,_),"A"!=v[x]&&"C"==w&&(v[x]="C"),f(i,x),o&&(o[x]&&(w=o[x][0]),"C"!=w&&(y[x]=w,x&&(_=y[x-1])),o[x]=c(o[x],s,_),"A"!=y[x]&&"C"==w&&(y[x]="C"),f(o,x)),h(i,o,a,s,x),h(o,i,s,a,x);var j=i[x],C=o&&o[x],E=j.length,S=o&&C.length;a.x=j[E-2],a.y=j[E-1],a.bx=l(j[E-4])||a.x,a.by=l(j[E-3])||a.y,s.bx=o&&(l(C[S-4])||s.x),s.by=o&&(l(C[S-3])||s.y),s.x=o&&C[S-2],s.y=o&&C[S-1]}return o||(r.curve=b(i)),o?[i,o]:i}function q(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4==r?o[3]={x:+e[0],y:+e[1]}:i-2==r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}e.path=g,e.path.getTotalLength=x,e.path.getPointAtLength=k,e.path.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return j(e,t).end;var r=j(e,n,1);return t?j(r,t).end:r},i.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},i.getPointAtLength=function(e){return k(this.attr("d"),e)},i.getSubpath=function(t,n){return e.path.getSubpath(this.attr("d"),t,n)},e._.box=v,e.path.findDotsAtSegment=C,e.path.bezierBBox=E,e.path.isPointInsideBBox=S,e.closest=function(t,n,r,i){for(var o=100,a=v(t-o/2,n-o/2,o,o),s=[],c=r[0].hasOwnProperty("x")?function(e){return{x:r[e].x,y:r[e].y}}:function(e){return{x:r[e],y:i[e]}},l=0;o<=1e6&&!l;){for(var u=0,d=r.length;u<d;u++){var f=c(u);if(S(a,f.x,f.y)){l++,s.push(f);break}}l||(a=v(t-(o*=2)/2,n-o/2,o,o))}if(1e6!=o){var p,h=1/0;for(u=0,d=s.length;u<d;u++){var m=e.len(t,n,s[u].x,s[u].y);h>m&&(h=m,s[u].len=m,p=s[u])}return p}},e.path.isBBoxIntersect=T,e.path.intersection=function(e,t){return M(e,t)},e.path.intersectionNumber=function(e,t){return M(e,t,1)},e.path.isPointInside=function(e,t,n){var r=R(e);return S(r,t,n)&&M(e,[["M",t,n],["H",r.x2+10]],1)%2==1},e.path.getBBox=R,e.path.get=F,e.path.toRelative=function(t){var n=g(t),r=String.prototype.toLowerCase;if(n.rel)return b(n.rel);e.is(t,"array")&&e.is(t&&t[0],"array")||(t=e.parsePathString(t));var i=[],o=0,a=0,s=0,c=0,l=0;"M"==t[0][0]&&(s=o=t[0][1],c=a=t[0][2],l++,i.push(["M",o,a]));for(var u=l,d=t.length;u<d;u++){var f=i[u]=[],p=t[u];if(p[0]!=r.call(p[0]))switch(f[0]=r.call(p[0]),f[0]){case"a":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+(p[6]-o).toFixed(3),f[7]=+(p[7]-a).toFixed(3);break;case"v":f[1]=+(p[1]-a).toFixed(3);break;case"m":s=p[1],c=p[2];default:for(var h=1,m=p.length;h<m;h++)f[h]=+(p[h]-(h%2?o:a)).toFixed(3)}else{f=i[u]=[],"m"==p[0]&&(s=p[1]+o,c=p[2]+a);for(var v=0,w=p.length;v<w;v++)i[u][v]=p[v]}var _=i[u].length;switch(i[u][0]){case"z":o=s,a=c;break;case"h":o+=+i[u][_-1];break;case"v":a+=+i[u][_-1];break;default:o+=+i[u][_-2],a+=+i[u][_-1]}}return i.toString=y,n.rel=b(i),i},e.path.toAbsolute=z,e.path.toCubic=X,e.path.map=function(e,t){if(!t)return e;var n,r,i,o,a,s,c;for(i=0,a=(e=X(e)).length;i<a;i++)for(o=1,s=(c=e[i]).length;o<s;o+=2)n=t.x(c[o],c[o+1]),r=t.y(c[o],c[o+1]),c[o]=n,c[o+1]=r;return e},e.path.toString=y,e.path.clone=b}),r.plugin(function(e,r,i,o){var a=Math.max,s=Math.min,c=function(e){if(this.items=[],this.bindings={},this.length=0,this.type="set",e)for(var t=0,n=e.length;t<n;t++)e[t]&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},l=c.prototype;l.push=function(){for(var e,t,n=0,r=arguments.length;n<r;n++)(e=arguments[n])&&(this[t=this.items.length]=this.items[t]=e,this.length++);return this},l.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},l.forEach=function(e,t){for(var n=0,r=this.items.length;n<r;n++)if(!1===e.call(t,this.items[n],n))return this;return this},l.animate=function(r,i,o,a){"function"!=typeof o||o.length||(a=o,o=n.linear),r instanceof e._.Animation&&(a=r.callback,o=r.easing,i=o.dur,r=r.attr);var s=arguments;if(e.is(r,"array")&&e.is(s[s.length-1],"array"))var c=!0;var l,u=function(){l?this.b=l:l=this.b},d=0,f=this,p=a&&function(){++d==f.length&&a.call(this)};return this.forEach(function(e,n){t.once("snap.animcreated."+e.id,u),c?s[n]&&e.animate.apply(e,s[n]):e.animate(r,i,o,p)})},l.remove=function(){for(;this.length;)this.pop().remove();return this},l.bind=function(e,t,n){var r={};if("function"==typeof t)this.bindings[e]=t;else{var i=n||e;this.bindings[e]=function(e){r[i]=e,t.attr(r)}}return this},l.attr=function(e){var t={};for(var n in e)this.bindings[n]?this.bindings[n](e[n]):t[n]=e[n];for(var r=0,i=this.items.length;r<i;r++)this.items[r].attr(t);return this},l.clear=function(){for(;this.length;)this.pop()},l.splice=function(e,t,n){e=e<0?a(this.length+e,0):e,t=a(0,s(this.length-e,t));var r,i=[],o=[],l=[];for(r=2;r<arguments.length;r++)l.push(arguments[r]);for(r=0;r<t;r++)o.push(this[e+r]);for(;r<this.length-e;r++)i.push(this[e+r]);var u=l.length;for(r=0;r<u+i.length;r++)this.items[e+r]=this[e+r]=r<u?l[r]:i[r-u];for(r=this.items.length=this.length-=t-u;this[r];)delete this[r++];return new c(o)},l.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0;return!1},l.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},l.getBBox=function(){for(var e=[],t=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();e.push(o.x),t.push(o.y),n.push(o.x+o.width),r.push(o.y+o.height)}return{x:e=s.apply(0,e),y:t=s.apply(0,t),x2:n=a.apply(0,n),y2:r=a.apply(0,r),width:n-e,height:r-t,cx:e+(n-e)/2,cy:t+(r-t)/2}},l.clone=function(e){e=new c;for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},l.toString=function(){return"Snap‘s set"},l.type="set",e.Set=c,e.set=function(){var e=new c;return arguments.length&&e.push.apply(e,Array.prototype.slice.call(arguments,0)),e}}),r.plugin(function(e,n,r,i){var o={},a=/[%a-z]+$/i,s=String;function c(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}}function l(e){return e}function u(e){return e.join(" ")}function d(t){return e.rgb(t[0],t[1],t[2],t[3])}function f(e){var t,n,r,i,o,a,s=0,c=[];for(t=0,n=e.length;t<n;t++){for(o="[",a=['"'+e[t][0]+'"'],r=1,i=e[t].length;r<i;r++)a[r]="val["+s+++"]";o+=a+"]",c[t]=o}return Function("val","return Snap.path.toString.call(["+c+"])")}function p(e){for(var t=[],n=0,r=e.length;n<r;n++)for(var i=1,o=e[n].length;i<o;i++)t.push(e[n][i]);return t}function h(e){return isFinite(e)}o.stroke=o.fill="colour",n.prototype.equal=function(e,n){return t("snap.util.equal",this,e,n).firstDefined()},t.on("snap.util.equal",function(t,n){var r,i,m=s(this.attr(t)||""),g=this;if("colour"==o[t])return r=e.color(m),i=e.color(n),{from:[r.r,r.g,r.b,r.opacity],to:[i.r,i.g,i.b,i.opacity],f:d};if("viewBox"==t)return{from:r=this.attr(t).vb.split(" ").map(Number),to:i=n.split(" ").map(Number),f:u};if("transform"==t||"gradientTransform"==t||"patternTransform"==t)return"string"==typeof n&&(n=s(n).replace(/\.{3}|\u2026/g,m)),function(t,n,r){t=t||new e.Matrix,n=n||new e.Matrix,t=e.parseTransformString(t.toTransformString())||[],n=e.parseTransformString(n.toTransformString())||[];for(var i,o,a,s,l=Math.max(t.length,n.length),u=[],d=[],h=0;h<l;h++){if(a=t[h]||c(n[h]),s=n[h]||c(a),a[0]!=s[0]||"r"==a[0].toLowerCase()&&(a[2]!=s[2]||a[3]!=s[3])||"s"==a[0].toLowerCase()&&(a[3]!=s[3]||a[4]!=s[4])){t=e._.transform2matrix(t,r()),n=e._.transform2matrix(n,r()),u=[["m",t.a,t.b,t.c,t.d,t.e,t.f]],d=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(u[h]=[],d[h]=[],i=0,o=Math.max(a.length,s.length);i<o;i++)i in a&&(u[h][i]=a[i]),i in s&&(d[h][i]=s[i])}return{from:p(u),to:p(d),f:f(u)}}(m=this.matrix,n=e._.rgTransform.test(n)?e._.transform2matrix(n,this.getBBox()):e._.transform2matrix(e._.svgTransform2string(n),this.getBBox()),function(){return g.getBBox(1)});if("d"==t||"path"==t)return{from:p((r=e.path.toCubic(m,n))[0]),to:p(r[1]),f:f(r[0])};if("points"==t)return{from:r=s(m).split(e._.separator),to:i=s(n).split(e._.separator),f:function(e){return e}};if(h(m)&&h(n))return{from:parseFloat(m),to:parseFloat(n),f:l};var v,y,b,w=m.match(a),_=s(n).match(a);return w&&(y=w,b=_,e.is(y,"array")&&e.is(b,"array")&&y.toString()==b.toString())?{from:parseFloat(m),to:parseFloat(n),f:(v=w,function(e){return+e.toFixed(3)+v})}:{from:this.asPX(t),to:this.asPX(t,n),f:l}})}),r.plugin(function(e,n,r,i){for(var o=n.prototype,a=("createTouch"in i.doc),s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],c={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=function(e,t){var n="y"==e?"scrollTop":"scrollLeft",r=t&&t.node?t.node.ownerDocument:i.doc;return r[n in r.documentElement?"documentElement":"body"][n]},u=function(){return this.originalEvent.preventDefault()},d=function(){return this.originalEvent.stopPropagation()},f=function(e,t,n,r){var i=a&&c[t]?c[t]:t,o=function(i){var o=l("y",r),s=l("x",r);if(a&&c.hasOwnProperty(t))for(var f=0,p=i.targetTouches&&i.targetTouches.length;f<p;f++)if(i.targetTouches[f].target==e||e.contains(i.targetTouches[f].target)){var h=i;(i=i.targetTouches[f]).originalEvent=h,i.preventDefault=u,i.stopPropagation=d;break}var m=i.clientX+s,g=i.clientY+o;return n.call(r,i,m,g)};return t!==i&&e.addEventListener(t,o,!1),e.addEventListener(i,o,!1),function(){return t!==i&&e.removeEventListener(t,o,!1),e.removeEventListener(i,o,!1),!0}},p=[],h=function(e){for(var n,r=e.clientX,i=e.clientY,o=l("y"),s=l("x"),c=p.length;c--;){if(n=p[c],a){for(var u,d=e.touches&&e.touches.length;d--;)if((u=e.touches[d]).identifier==n.el._drag.id||n.el.node.contains(u.target)){r=u.clientX,i=u.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var f=n.el.node;f.nextSibling,f.parentNode,f.style.display;r+=s,i+=o,t("snap.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,e)}},m=function(n){e.unmousemove(h).unmouseup(m);for(var r,i=p.length;i--;)(r=p[i]).el._drag={},t("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n),t.off("snap.drag.*."+r.el.id);p=[]},g=s.length;g--;)!function(t){e[t]=o[t]=function(n,r){if(e.is(n,"function"))this.events=this.events||[],this.events.push({name:t,f:n,unbind:f(this.node||document,t,n,r||this)});else for(var i=0,o=this.events.length;i<o;i++)if(this.events[i].name==t)try{this.events[i].f.call(this)}catch(e){}return this},e["un"+t]=o["un"+t]=function(e){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==t&&(n[r].f==e||!e))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(s[g]);o.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},o.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var v=[];o.drag=function(n,r,i,o,a,s){var c,l=this;if(!arguments.length)return l.drag(function(e,t){this.attr({transform:c+(c?"T":"t")+[e,t]})},function(){c=this.transform().local});function u(c,u,d){(c.originalEvent||c).preventDefault(),l._drag.x=u,l._drag.y=d,l._drag.id=c.identifier,!p.length&&e.mousemove(h).mouseup(m),p.push({el:l,move_scope:o,start_scope:a,end_scope:s}),r&&t.on("snap.drag.start."+l.id,r),n&&t.on("snap.drag.move."+l.id,n),i&&t.on("snap.drag.end."+l.id,i),t("snap.drag.start."+l.id,a||o||l,u,d,c)}function d(e,n,r){t("snap.draginit."+l.id,l,e,n,r)}return t.on("snap.draginit."+l.id,u),l._drag={},v.push({el:l,start:u,init:d}),l.mousedown(d),l},o.undrag=function(){for(var n=v.length;n--;)v[n].el==this&&(this.unmousedown(v[n].init),v.splice(n,1),t.unbind("snap.drag.*."+this.id),t.unbind("snap.draginit."+this.id));return!v.length&&e.unmousemove(h).unmouseup(m),this}}),r.plugin(function(e,n,r,i){n.prototype;var o=r.prototype,a=/^\s*url\((.+)\)/,s=String,c=e._.$;e.filter={},o.filter=function(t){var r=this;"svg"!=r.type&&(r=r.paper);var i=e.parse(s(t)),o=e._.id(),a=(r.node.offsetWidth,r.node.offsetHeight,c("filter"));return c(a,{id:o,filterUnits:"userSpaceOnUse"}),a.appendChild(i.node),r.defs.appendChild(a),new n(a)},t.on("snap.util.getattr.filter",function(){t.stop();var n=c(this.node,"filter");if(n){var r=s(n).match(a);return r&&e.select(r[1])}}),t.on("snap.util.attr.filter",function(r){if(r instanceof n&&"filter"==r.type){t.stop();var i=r.node.id;i||(c(r.node,{id:r.id}),i=r.id),c(this.node,{filter:e.url(i)})}r&&"none"!=r||(t.stop(),this.node.removeAttribute("filter"))}),e.filter.blur=function(t,n){null==t&&(t=2);var r=null==n?t:[t,n];return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,n,r,i,o){return null==o&&(null==i?(o=r,r=4,i="#000"):(o=i,i=r,r=4)),null==r&&(r=4),null==o&&(o=1),null==t&&(t=0,n=2),null==n&&(n=t),i=e.color(i),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:t,dy:n,blur:r,opacity:o})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),r.plugin(function(e,t,n,r,i){var o=e._.box,a=e.is,s=/^[^a-z]*([tbmlrc])/i,c=function(){return"T"+this.dx+","+this.dy};t.prototype.getAlign=function(e,t){null==t&&a(e,"string")&&(t=e,e=null);var n=(e=e||this.paper).getBBox?e.getBBox():o(e),r=this.getBBox(),i={};switch(t=(t=t&&t.match(s))?t[1].toLowerCase():"c"){case"t":i.dx=0,i.dy=n.y-r.y;break;case"b":i.dx=0,i.dy=n.y2-r.y2;break;case"m":i.dx=0,i.dy=n.cy-r.cy;break;case"l":i.dx=n.x-r.x,i.dy=0;break;case"r":i.dx=n.x2-r.x2,i.dy=0;break;default:i.dx=n.cx-r.cx,i.dy=0}return i.toString=c,i},t.prototype.align=function(e,t){return this.transform("..."+this.getAlign(e,t))}}),r.plugin(function(t,n,r,i){function o(e){e=e.split(/(?=#)/);var t=new String(e[5]);return t[50]=e[0],t[100]=e[1],t[200]=e[2],t[300]=e[3],t[400]=e[4],t[500]=e[5],t[600]=e[6],t[700]=e[7],t[800]=e[8],t[900]=e[9],e[10]&&(t.A100=e[10],t.A200=e[11],t.A400=e[12],t.A700=e[13]),t}t.mui={},t.flat={},t.mui.red=o("#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000"),t.mui.pink=o("#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162"),t.mui.purple=o("#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF"),t.mui.deeppurple=o("#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA"),t.mui.indigo=o("#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE"),t.mui.blue=o("#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF"),t.mui.lightblue=o("#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA"),t.mui.cyan=o("#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4"),t.mui.teal=o("#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5"),t.mui.green=o("#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853"),t.mui.lightgreen=o("#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17"),t.mui.lime=o("#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00"),t.mui.yellow=o("#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600"),t.mui.amber=o("#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00"),t.mui.orange=o("#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00"),t.mui.deeporange=o("#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00"),t.mui.brown=o("#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723"),t.mui.grey=o("#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121"),t.mui.bluegrey=o("#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238"),t.flat.turquoise="#1abc9c",t.flat.greensea="#16a085",t.flat.sunflower="#f1c40f",t.flat.orange="#f39c12",t.flat.emerland="#2ecc71",t.flat.nephritis="#27ae60",t.flat.carrot="#e67e22",t.flat.pumpkin="#d35400",t.flat.peterriver="#3498db",t.flat.belizehole="#2980b9",t.flat.alizarin="#e74c3c",t.flat.pomegranate="#c0392b",t.flat.amethyst="#9b59b6",t.flat.wisteria="#8e44ad",t.flat.clouds="#ecf0f1",t.flat.silver="#bdc3c7",t.flat.wetasphalt="#34495e",t.flat.midnightblue="#2c3e50",t.flat.concrete="#95a5a6",t.flat.asbestos="#7f8c8d",t.importMUIColors=function(){for(var n in t.mui)t.mui.hasOwnProperty(n)&&(e[n]=t.mui[n])}}),r})},{eve:350}],428:[function(e,t,n){"use strict";t.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},{}],429:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":406,timers:429}],430:[function(e,t,n){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.tippy=r()}(this,function(){"use strict";var e="undefined"!=typeof window,t=e&&/MSIE |Trident\//.test(navigator.userAgent),n={};e&&(n.supported="requestAnimationFrame"in window,n.supportsTouch="ontouchstart"in window,n.usingTouch=!1,n.dynamicInputDetection=!0,n.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,n.onUserInputChange=function(){});var r={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},i={placement:"top",livePlacement:!0,trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:[0,20],duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",target:null,allowTitleHTML:!0,popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},o=n.supported&&Object.keys(i);function a(e){return"[object Object]"==={}.toString.call(e)}function s(e){return[].slice.call(e)}function c(e){for(var t=["","webkit"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?i+n:e;if(void 0!==document.body.style[o])return o}return null}function l(){return document.createElement("div")}var u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(e){var t=function(t){return e.querySelector(t)};return{tooltip:t(r.TOOLTIP),backdrop:t(r.BACKDROP),content:t(r.CONTENT),arrow:t(r.ARROW)||t(r.ROUND_ARROW)}}function h(e){var t=e.getAttribute("title");t&&e.setAttribute("data-original-title",t),e.removeAttribute("title")}for(var m="undefined"!=typeof window&&"undefined"!=typeof document,g=["Edge","Trident","Firefox"],v=0,y=0;y<g.length;y+=1)if(m&&navigator.userAgent.indexOf(g[y])>=0){v=1;break}var b=m&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},v))}};function w(e){return e&&"[object Function]"==={}.toString.call(e)}function _(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function x(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function k(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=_(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:k(x(e))}var j=m&&!(!window.MSInputMethodContext||!document.documentMode),C=m&&/MSIE 10/.test(navigator.userAgent);function E(e){return 11===e?j:10===e?C:j||C}function S(e){if(!e)return document.documentElement;for(var t=E(10)?document.body:null,n=e.offsetParent;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===_(n,"position")?S(n):n:e?e.ownerDocument.documentElement:document.documentElement}function T(e){return null!==e.parentNode?T(e.parentNode):e}function O(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,c=o.commonAncestorContainer;if(e!==c&&t!==c||r.contains(i))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&S(a.firstElementChild)!==a?S(c):c;var l=T(e);return l.host?O(l.host,t):O(e,T(t).host)}function A(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function P(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function N(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],E(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function M(e){var t=e.body,n=e.documentElement,r=E(10)&&getComputedStyle(n);return{height:N("Height",t,n,r),width:N("Width",t,n,r)}}var R=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function F(e){return L({},e,{right:e.left+e.width,bottom:e.top+e.height})}function z(e){var t={};try{if(E(10)){t=e.getBoundingClientRect();var n=A(e,"top"),r=A(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?M(e.ownerDocument):{},a=o.width||e.clientWidth||i.right-i.left,s=o.height||e.clientHeight||i.bottom-i.top,c=e.offsetWidth-a,l=e.offsetHeight-s;if(c||l){var u=_(e);c-=P(u,"x"),l-=P(u,"y"),i.width-=c,i.height-=l}return F(i)}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=E(10),i="HTML"===t.nodeName,o=z(e),a=z(t),s=k(e),c=_(t),l=parseFloat(c.borderTopWidth,10),u=parseFloat(c.borderLeftWidth,10);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=F({top:o.top-a.top-l,left:o.left-a.left-u,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var f=parseFloat(c.marginTop,10),p=parseFloat(c.marginLeft,10);d.top-=l-f,d.bottom-=l-f,d.left-=u-p,d.right-=u-p,d.marginTop=f,d.marginLeft=p}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=A(t,"top"),i=A(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(d,t)),d}function B(e){if(!e||!e.parentElement||E())return document.documentElement;for(var t=e.parentElement;t&&"none"===_(t,"transform");)t=t.parentElement;return t||document.documentElement}function H(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?B(e):O(e,t);if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=Y(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:A(n),s=t?0:A(n,"left");return F({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=k(x(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var c=Y(s,a,i);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===_(t,"position")||e(x(t)))}(a))o=c;else{var l=M(e.ownerDocument),u=l.height,d=l.width;o.top+=c.top-c.marginTop,o.bottom=u+c.top,o.left+=c.left-c.marginLeft,o.right=d+c.left}}var f="number"==typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function X(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=H(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(s).map(function(e){return L({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),l=c.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Y(n,r?B(t):O(t,n),r)}function U(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function W(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function V(e,t,n){n=n.split("-")[0];var r=U(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[c]/2-r[c]/2,i[s]=n===s?t[s]-r[l]:t[W(s)],i}function $(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function G(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=$(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&w(n)&&(t.offsets.popper=F(t.offsets.popper),t.offsets.reference=F(t.offsets.reference),t=n(t,e))}),t}function K(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function J(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function Q(e){var t=e.ownerDocument;return t?t.defaultView:window}function Z(e,t,n,r){n.updateBound=r,Q(e).addEventListener("resize",n.updateBound,{passive:!0});var i=k(e);return function e(t,n,r,i){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),o||e(k(a.parentNode),n,r,i),i.push(a)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function ee(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ne(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&te(t[n])&&(r="px"),e.style[n]=t[n]+r})}function re(e,t,n){var r=$(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var ie=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],oe=ie.slice(3);function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=oe.indexOf(e),r=oe.slice(n+1).concat(oe.slice(0,n));return t?r.reverse():r}var se={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ce(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf($(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return(l=l.map(function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return F(s)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){te(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}var le={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",l=s?"width":"height",u={start:D({},c,o[c]),end:D({},c,o[c]+o[l]-a[l])};e.offsets.popper=L({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],c=void 0;return c=te(+n)?[+n,0]:ce(n,o,a,s),"left"===s?(o.top+=c[0],o.left-=c[1]):"right"===s?(o.top+=c[0],o.left+=c[1]):"top"===s?(o.left+=c[0],o.top-=c[1]):"bottom"===s&&(o.left+=c[0],o.top+=c[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||S(e.instance.popper);e.instance.reference===n&&(n=S(n));var r=J("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var c=H(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=c;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),D({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),D({},n,r)}};return l.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=L({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",c=a?"left":"top",l=a?"width":"height";return n[s]<o(r[c])&&(e.offsets.popper[c]=o(r[c])-n[l]),n[c]>o(r[s])&&(e.offsets.popper[c]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!re(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",h=U(r)[l];s[p]-h<a[d]&&(e.offsets.popper[d]-=a[d]-(s[p]-h)),s[d]+h>a[p]&&(e.offsets.popper[d]+=s[d]+h-a[p]),e.offsets.popper=F(e.offsets.popper);var m=s[d]+s[l]/2-h/2,g=_(e.instance.popper),v=parseFloat(g["margin"+u],10),y=parseFloat(g["border"+u+"Width"],10),b=m-e.offsets.popper[d]-v-y;return b=Math.max(Math.min(a[l]-h,b),0),e.arrowElement=r,e.offsets.arrow=(D(n={},d,Math.round(b)),D(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(K(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=H(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=W(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case se.FLIP:a=[r,i];break;case se.CLOCKWISE:a=ae(r);break;case se.COUNTERCLOCKWISE:a=ae(r,!0);break;default:a=t.behavior}return a.forEach(function(s,c){if(r!==s||a.length===c+1)return e;r=e.placement.split("-")[0],i=W(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,f="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),p=d(l.left)<d(n.left),h=d(l.right)>d(n.right),m=d(l.top)<d(n.top),g=d(l.bottom)>d(n.bottom),v="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&m||!y&&"end"===o&&g);(f||v||b)&&(e.flipped=!0,(f||v)&&(r=a[c+1]),b&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=L({},e.offsets.popper,V(e.instance.popper,e.offsets.reference,e.placement)),e=G(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=W(t),e.offsets.popper=F(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!re(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=$(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=$(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=S(e.instance.popper),c=z(s),l={position:i.position},u={left:Math.floor(i.left),top:Math.round(i.top),bottom:Math.round(i.bottom),right:Math.floor(i.right)},d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=J("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-c.height+u.bottom:u.top,h="right"===f?"HTML"===s.nodeName?-s.clientWidth+u.right:-c.width+u.right:u.left,a&&p)l[p]="translate3d("+h+"px, "+m+"px, 0)",l[d]=0,l[f]=0,l.willChange="transform";else{var g="bottom"===d?-1:1,v="right"===f?-1:1;l[d]=m*g,l[f]=h*v,l.willChange=d+", "+f}var y={"x-placement":e.placement};return e.attributes=L({},y,e.attributes),e.styles=L({},l,e.styles),e.arrowStyles=L({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return ne(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&ne(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=q(i,t,e,n.positionFixed),a=X(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),ne(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ue=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=b(this.update.bind(this)),this.options=L({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(L({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=L({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return L({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&w(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return I(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=q(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=X(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=V(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=G(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,K(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[J("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=Z(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return ee.call(this)}}]),e}();function de(e){return e.getAttribute("x-placement").replace(/-.+/,"")}function fe(e,t,n,r){return t.length?{scale:1===t.length?""+t[0]:n?t[0]+", "+t[1]:t[1]+", "+t[0],translate:1===t.length?r?-t[0]+"px":t[0]+"px":n?r?t[0]+"px, "+-t[1]+"px":t[0]+"px, "+t[1]+"px":r?-t[1]+"px, "+t[0]+"px":t[1]+"px, "+t[0]+"px"}[e]:""}function pe(e,t){if(!e)return"";return t?e:{X:"Y",Y:"X"}[e]}function he(e,t,n){var r=de(e),i="top"===r||"bottom"===r,o="right"===r||"bottom"===r,a=function(e){var t=n.match(e);return t?t[1]:""},s=function(e){var t=n.match(e);return t?t[1].split(",").map(parseFloat):[]},l=/translateX?Y?\(([^)]+)\)/,u=/scaleX?Y?\(([^)]+)\)/,d={translate:{axis:a(/translate([XY])/),numbers:s(l)},scale:{axis:a(/scale([XY])/),numbers:s(u)}},f=n.replace(l,"translate"+pe(d.translate.axis,i)+"("+fe("translate",d.translate.numbers,i,o)+")").replace(u,"scale"+pe(d.scale.axis,i)+"("+fe("scale",d.scale.numbers,i,o)+")");t.style[c("transform")]=f}function me(e){return-(e-i.distance)+"px"}ue.Utils=("undefined"!=typeof window?window:global).PopperUtils,ue.placements=ie,ue.Defaults=le;var ge={};if(e){var ve=Element.prototype;ge=ve.matches||ve.matchesSelector||ve.webkitMatchesSelector||ve.mozMatchesSelector||ve.msMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}}var ye=ge;function be(e,t){return(Element.prototype.closest||function(e){for(var t=this;t;){if(ye.call(t,e))return t;t=t.parentElement}}).call(e,t)}function we(e,t){return Array.isArray(e)?e[t]:e}function _e(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function xe(e,t){e.filter(Boolean).forEach(function(e){e.style[c("transitionDuration")]=t+"ms"})}function ke(e){var t=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset;e.focus(),scroll(t,n)}var je={},Ce=function(e){return function(t){return t===je&&e}},Ee=function(){function e(t){for(var n in u(this,e),t)this[n]=t[n];this.state={destroyed:!1,visible:!1,enabled:!0},this._=Ce({mutationObservers:[]})}return d(e,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(e){var t=this;if(!this.state.destroyed&&this.state.enabled){var n=this.popper,r=this.reference,i=this.options,o=p(n),a=o.tooltip,s=o.backdrop,l=o.content;i.dynamicTitle&&!r.getAttribute("data-original-title")||r.hasAttribute("disabled")||(r.refObj||document.documentElement.contains(r)?(i.onShow.call(n,this),e=we(void 0!==e?e:i.duration,0),xe([n,a,s],0),n.style.visibility="visible",this.state.visible=!0,function(e){var t=this.options;this.popperInstance?(this.popperInstance.scheduleUpdate(),t.livePlacement&&!Se.call(this)&&this.popperInstance.enableEventListeners()):(this.popperInstance=Pe.call(this),t.livePlacement||this.popperInstance.disableEventListeners());if(!Se.call(this)){var n=p(this.popper),r=n.arrow;r&&(r.style.margin=""),this.popperInstance.reference=this.reference}(function(e,t,n){var r=e.popper,i=e.options,o=i.onCreate,a=i.onUpdate;i.onCreate=i.onUpdate=function(){(function(e){e.offsetHeight})(r),t&&t(),a(),i.onCreate=o,i.onUpdate=a},n||e.scheduleUpdate()})(this.popperInstance,e,!0),t.appendTo.contains(this.popper)||t.appendTo.appendChild(this.popper)}.call(this,function(){if(t.state.visible){if(Se.call(t)||t.popperInstance.scheduleUpdate(),Se.call(t)){t.popperInstance.disableEventListeners();var o=we(i.delay,0),u=t._(je).lastTriggerEvent;u&&t._(je).followCursorListener(o&&t._(je).lastMouseMoveEvent?t._(je).lastMouseMoveEvent:u)}xe([a,s,s?l:null],e),s&&getComputedStyle(s)[c("transform")],i.interactive&&r.classList.add("tippy-active"),i.sticky&&function(){var e=this;!function t(){e.popperInstance&&e.popperInstance.update(),e.popper.style[c("transitionDuration")]=e.options.updateDuration+"ms",e.state.visible?requestAnimationFrame(t):e.popper.style[c("transitionDuration")]=""}()}.call(t),_e([a,s],"visible"),Re.call(t,e,function(){i.updateDuration||a.classList.add("tippy-notransition"),i.interactive&&ke(n),r.setAttribute("aria-describedby","tippy-"+t.id),i.onShown.call(n,t)})}})):this.destroy())}}},{key:"hide",value:function(e){var t=this;if(!this.state.destroyed&&this.state.enabled){var n=this.popper,r=this.reference,i=this.options,o=p(n),a=o.tooltip,s=o.backdrop,c=o.content;i.onHide.call(n,this),e=we(void 0!==e?e:i.duration,1),i.updateDuration||a.classList.remove("tippy-notransition"),i.interactive&&r.classList.remove("tippy-active"),n.style.visibility="hidden",this.state.visible=!1,xe([a,s,s?c:null],e),_e([a,s],"hidden"),i.interactive&&i.trigger.indexOf("click")>-1&&ke(r),Re.call(this,e,function(){!t.state.visible&&i.appendTo.contains(n)&&(t._(je).isPreparingToShow||(document.removeEventListener("mousemove",t._(je).followCursorListener),t._(je).lastMouseMoveEvent=null),t.popperInstance&&t.popperInstance.disableEventListeners(),r.removeAttribute("aria-describedby"),i.appendTo.removeChild(n),i.onHidden.call(n,t))})}}},{key:"destroy",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.state.destroyed){this.state.visible&&this.hide(0),this.listeners.forEach(function(t){e.reference.removeEventListener(t.event,t.handler)}),this.title&&this.reference.setAttribute("title",this.title),delete this.reference._tippy;["data-original-title","data-tippy","data-tippy-delegate"].forEach(function(t){e.reference.removeAttribute(t)}),this.options.target&&t&&s(this.reference.querySelectorAll(this.options.target)).forEach(function(e){return e._tippy&&e._tippy.destroy()}),this.popperInstance&&this.popperInstance.destroy(),this._(je).mutationObservers.forEach(function(e){e.disconnect()}),this.state.destroyed=!0}}}]),e}();function Se(){var e=this._(je).lastTriggerEvent;return this.options.followCursor&&!n.usingTouch&&e&&"focus"!==e.type}function Te(e){var t=this,n=this.options;if(Ne.call(this),!this.state.visible)if(n.target)(function(e){var t=be(e.target,this.options.target);if(t&&!t._tippy){var n=t.getAttribute("title")||this.title;n&&(t.setAttribute("title",n),Ye(t,f({},this.options,{target:null})),Te.call(t._tippy,e))}}).call(this,e);else if(this._(je).isPreparingToShow=!0,n.wait)n.wait.call(this.popper,this.show.bind(this),e);else{if(Se.call(this)){this._(je).followCursorListener||function(){var e=this;this._(je).followCursorListener=function(t){var n=e._(je).lastMouseMoveEvent=t,r=n.clientX,i=n.clientY;e.popperInstance&&(e.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:i,left:r,right:r,bottom:i}},clientWidth:0,clientHeight:0},e.popperInstance.scheduleUpdate())}}.call(this);var r=p(this.popper).arrow;r&&(r.style.margin="0"),document.addEventListener("mousemove",this._(je).followCursorListener)}var i=we(n.delay,0);i?this._(je).showTimeout=setTimeout(function(){t.show()},i):this.show()}}function Oe(){var e=this;if(Ne.call(this),this.state.visible){this._(je).isPreparingToShow=!1;var t=we(this.options.delay,1);t?this._(je).hideTimeout=setTimeout(function(){e.state.visible&&e.hide()},t):this.hide()}}function Ae(){var e=this;return{onTrigger:function(t){e.state.enabled&&(n.supportsTouch&&n.usingTouch&&["mouseenter","mouseover","focus"].indexOf(t.type)>-1&&e.options.touchHold||(e._(je).lastTriggerEvent=t,"click"===t.type&&"persistent"!==e.options.hideOnClick&&e.state.visible?Oe.call(e):Te.call(e,t)))},onMouseLeave:function(t){if(!(["mouseleave","mouseout"].indexOf(t.type)>-1&&n.supportsTouch&&n.usingTouch&&e.options.touchHold)){if(e.options.interactive){var i=Oe.bind(e);return document.body.addEventListener("mouseleave",i),void document.addEventListener("mousemove",function t(n){var o=be(n.target,r.REFERENCE),a=be(n.target,r.POPPER)===e.popper,s=o===e.reference;a||s||function(e,t,n){if(!t.getAttribute("x-placement"))return!0;var r=e.clientX,i=e.clientY,o=n.interactiveBorder,a=n.distance,s=t.getBoundingClientRect(),c=de(t),l=o+a,u={top:s.top-i>o,bottom:i-s.bottom>o,left:s.left-r>o,right:r-s.right>o};switch(c){case"top":u.top=s.top-i>l;break;case"bottom":u.bottom=i-s.bottom>l;break;case"left":u.left=s.left-r>l;break;case"right":u.right=r-s.right>l}return u.top||u.bottom||u.left||u.right}(n,e.popper,e.options)&&(document.body.removeEventListener("mouseleave",i),document.removeEventListener("mousemove",t),Oe.call(e,t))})}Oe.call(e)}},onBlur:function(t){if(t.target===e.reference&&!n.usingTouch){if(e.options.interactive){if(!t.relatedTarget)return;if(be(t.relatedTarget,r.POPPER))return}Oe.call(e)}},onDelegateShow:function(t){be(t.target,e.options.target)&&Te.call(e,t)},onDelegateHide:function(t){be(t.target,e.options.target)&&Oe.call(e)}}}function Pe(){var e=this,t=this.popper,n=this.reference,i=this.options,o=p(t).tooltip,a=i.popperOptions,s="round"===i.arrowType?r.ROUND_ARROW:r.ARROW,c=o.querySelector(s),l=f({placement:i.placement},a||{},{modifiers:f({},a?a.modifiers:{},{arrow:f({element:s},a&&a.modifiers?a.modifiers.arrow:{}),flip:f({enabled:i.flip,padding:i.distance+5,behavior:i.flipBehavior},a&&a.modifiers?a.modifiers.flip:{}),offset:f({offset:i.offset},a&&a.modifiers?a.modifiers.offset:{})}),onCreate:function(){o.style[de(t)]=me(i.distance),c&&i.arrowTransform&&he(t,c,i.arrowTransform)},onUpdate:function(){var e=o.style;e.top="",e.bottom="",e.left="",e.right="",e[de(t)]=me(i.distance),c&&i.arrowTransform&&he(t,c,i.arrowTransform)}});return Me.call(this,{target:t,callback:function(){e.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new ue(n,t,l)}function Ne(){var e=this._(je),t=e.showTimeout,n=e.hideTimeout;clearTimeout(t),clearTimeout(n)}function Me(e){var t=e.target,n=e.callback,r=e.options;if(window.MutationObserver){var i=new MutationObserver(n);i.observe(t,r),this._(je).mutationObservers.push(i)}}function Re(e,t){if(!e)return t();var n=p(this.popper).tooltip,r=function(e,t){t&&n[e+"EventListener"]("transition"in document.body.style?"transitionend":"webkitTransitionEnd",t)},i=function e(i){i.target===n&&(r("remove",e),t())};r("remove",this._(je).transitionendListener),r("add",i),this._(je).transitionendListener=i}var Ie=1;function De(e,r){return e.reduce(function(e,i){var a=Ie,s=function(e,t){return t.arrow&&(t.animateFill=!1),t.appendTo&&"function"==typeof t.appendTo&&(t.appendTo=t.appendTo()),"function"==typeof t.html&&(t.html=t.html(e)),t}(i,r.performance?r:function(e,t){var n=o.reduce(function(n,r){var i=e.getAttribute("data-tippy-"+r.toLowerCase())||t[r];return"false"===i&&(i=!1),"true"===i&&(i=!0),isFinite(i)&&!isNaN(parseFloat(i))&&(i=parseFloat(i)),"target"!==r&&"string"==typeof i&&"["===i.trim().charAt(0)&&(i=JSON.parse(i)),n[r]=i,n},{});return f({},t,n)}(i,r)),u=i.getAttribute("title");if(!(u||s.target||s.html||s.dynamicTitle))return e;i.setAttribute(s.target?"data-tippy-delegate":"data-tippy",""),h(i);var d=function(e,t,n){var r=l();r.setAttribute("class","tippy-popper"),r.setAttribute("role","tooltip"),r.setAttribute("id","tippy-"+e),r.style.zIndex=n.zIndex,r.style.maxWidth=n.maxWidth;var i=l();i.setAttribute("class","tippy-tooltip"),i.setAttribute("data-size",n.size),i.setAttribute("data-animation",n.animation),i.setAttribute("data-state","hidden"),n.theme.split(" ").forEach(function(e){i.classList.add(e+"-theme")});var o=l();if(o.setAttribute("class","tippy-content"),n.arrow){var a=l();a.style[c("transform")]=n.arrowTransform,"round"===n.arrowType?(a.classList.add("tippy-roundarrow"),a.innerHTML='<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>'):a.classList.add("tippy-arrow"),i.appendChild(a)}if(n.animateFill){i.setAttribute("data-animatefill","");var s=l();s.classList.add("tippy-backdrop"),s.setAttribute("data-state","hidden"),i.appendChild(s)}n.inertia&&i.setAttribute("data-inertia",""),n.interactive&&i.setAttribute("data-interactive","");var u=n.html;if(u){var d=void 0;u instanceof Element?(o.appendChild(u),d="#"+(u.id||"tippy-html-template")):(o.innerHTML=document.querySelector(u).innerHTML,d=u),r.setAttribute("data-html",""),i.setAttribute("data-template-id",d),n.interactive&&r.setAttribute("tabindex","-1")}else o[n.allowTitleHTML?"innerHTML":"textContent"]=t;return i.appendChild(o),r.appendChild(i),r}(a,u,s),m=new Ee({id:a,reference:i,popper:d,options:s,title:u,popperInstance:null});s.createPopperInstanceOnInit&&(m.popperInstance=Pe.call(m),m.popperInstance.disableEventListeners());var g=Ae.call(m);return m.listeners=s.trigger.trim().split(" ").reduce(function(e,r){return e.concat(function(e,r,i,o){var a=i.onTrigger,s=i.onMouseLeave,c=i.onBlur,l=i.onDelegateShow,u=i.onDelegateHide,d=[];if("manual"===e)return d;var f=function(e,t){r.addEventListener(e,t),d.push({event:e,handler:t})};return o.target?(n.supportsTouch&&o.touchHold&&(f("touchstart",l),f("touchend",u)),"mouseenter"===e&&(f("mouseover",l),f("mouseout",u)),"focus"===e&&(f("focusin",l),f("focusout",u)),"click"===e&&f("click",l)):(f(e,a),n.supportsTouch&&o.touchHold&&(f("touchstart",a),f("touchend",s)),"mouseenter"===e&&f("mouseleave",s),"focus"===e&&f(t?"focusout":"blur",c)),d}(r,i,g,s))},[]),s.dynamicTitle&&Me.call(m,{target:i,callback:function(){var e=p(d).content,t=i.getAttribute("title");t&&(e[s.allowTitleHTML?"innerHTML":"textContent"]=m.title=t,h(i))},options:{attributes:!0}}),i._tippy=m,d._tippy=m,d._reference=i,e.push(m),Ie++,e},[])}function Le(e){s(document.querySelectorAll(r.POPPER)).forEach(function(t){var n=t._tippy;if(n){var r=n.options;!(!0===r.hideOnClick||r.trigger.indexOf("focus")>-1)||e&&t===e.popper||n.hide()}})}var Fe=!1,ze=!1;function Ye(e,t,o){var c;n.supported&&!Fe&&(!function(e){var t,i=function(){n.usingTouch||(n.usingTouch=!0,n.iOS&&document.body.classList.add("tippy-touch"),n.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",o),n.onUserInputChange("touch"))},o=(t=void 0,function(){var e=performance.now();e-t<20&&(n.usingTouch=!1,document.removeEventListener("mousemove",o),n.iOS||document.body.classList.remove("tippy-touch"),n.onUserInputChange("mouse")),t=e});document.addEventListener("click",function(e){if(!(e.target instanceof Element))return Le();var t=be(e.target,r.REFERENCE),i=be(e.target,r.POPPER);if(!(i&&i._tippy&&i._tippy.options.interactive)){if(t&&t._tippy){var o=t._tippy.options,a=o.trigger.indexOf("click")>-1,s=o.multiple;if(!s&&n.usingTouch||!s&&a)return Le(t._tippy);if(!0!==o.hideOnClick||a)return}Le()}},e),document.addEventListener("touchstart",i),window.addEventListener("blur",function(){var e=document.activeElement;e&&e.blur&&ye.call(e,r.REFERENCE)&&e.blur()}),window.addEventListener("resize",function(){s(document.querySelectorAll(r.POPPER)).forEach(function(e){var t=e._tippy;t&&!t.options.livePlacement&&t.popperInstance.scheduleUpdate()})}),n.supportsTouch||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints||document.addEventListener("pointerdown",i)}(ze),Fe=!0),a(e)&&((c=e).refObj=!0,c.attributes=c.attributes||{},c.setAttribute=function(e,t){c.attributes[e]=t},c.getAttribute=function(e){return c.attributes[e]},c.removeAttribute=function(e){delete c.attributes[e]},c.hasAttribute=function(e){return e in c.attributes},c.addEventListener=function(){},c.removeEventListener=function(){},c.classList={classNames:{},add:function(e){return c.classList.classNames[e]=!0},remove:function(e){return delete c.classList.classNames[e],!0},contains:function(e){return e in c.classList.classNames}}),t=f({},i,t);var l=function(e){if(e instanceof Element||a(e))return[e];if(e instanceof NodeList)return s(e);if(Array.isArray(e))return e;try{return s(document.querySelectorAll(e))}catch(e){return[]}}(e),u=l[0];return{selector:e,options:t,tooltips:n.supported?De(o&&u?[u]:l,t):[],destroyAll:function(){this.tooltips.forEach(function(e){return e.destroy()}),this.tooltips=[]}}}return Ye.version="2.6.0",Ye.browser=n,Ye.defaults=i,Ye.one=function(e,t){return Ye(e,t,!0).tooltips[0]},Ye.disableAnimations=function(){i.updateDuration=i.duration=0,i.animateFill=!1},Ye.useCapture=function(){ze=!0},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e&&n.supported){var r=document.head||document.querySelector("head"),i=document.createElement("style");i.type="text/css",r.insertBefore(i,r.firstChild),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}('.tippy-touch{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 90%;transform-origin:0 90%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,25%);transform:scale(6) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -90%;transform-origin:0 -90%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,-125%);transform:scale(6) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:100% 0;transform-origin:100% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(40%,-50%);transform:scale(6) translate(40%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(40%,-50%);transform:scale(1.5) translate(40%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-100% 0;transform-origin:-100% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-140%,-50%);transform:scale(6) translate(-140%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-140%,-50%);transform:scale(1.5) translate(-140%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 0 50%);clip-path:ellipse(40% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 100% 50%);clip-path:ellipse(40% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}'),Ye})},{}],431:[function(e,t,n){var r,i;r=this,i=function(){return function(e,t,n){var r=function(e,t){this.config=e,this.onError=t,e.enabled&&this.watch()};r.prototype={watch:function(){p.forEach(["EventTarget","Node","XMLHttpRequest"],function(t){p.has(e,t+".prototype.addEventListener")&&p.hasOwn(e[t].prototype,"addEventListener")&&this.wrapEventTarget(e[t].prototype)},this),this.wrapTimer("setTimeout"),this.wrapTimer("setInterval")},wrap:function(e){function t(){try{return e.apply(this,arguments)}catch(e){throw i.onError("catch",e,{bindTime:n,bindStack:r}),p.wrapError(e)}}var n,r,i=this;try{if(!p.isFunction(e)||p.hasOwn(e,"__trackjs__"))return e;if(p.hasOwn(e,"__trackjs_state__"))return e.__trackjs_state__}catch(t){return e}if(i.config.bindStack)try{throw Error()}catch(e){r=e.stack,n=p.isoNow()}for(var o in e)p.hasOwn(e,o)&&(t[o]=e[o]);return t.prototype=e.prototype,t.__trackjs__=!0,e.__trackjs_state__=t},wrapEventTarget:function(e){var t=this;p.has(e,"addEventListener.call")&&p.has(e,"removeEventListener.call")&&(p.patch(e,"addEventListener",function(e){return function(n,r,i,o){try{p.has(r,"handleEvent")&&(r.handleEvent=t.wrap(r.handleEvent))}catch(e){}return e.call(this,n,t.wrap(r),i,o)}}),p.patch(e,"removeEventListener",function(e){return function(t,n,r,i){try{n=n&&(n.__trackjs_state__||n)}catch(e){}return e.call(this,t,n,r,i)}}))},wrapTimer:function(t){var n=this;p.patch(e,t,function(e){return function(t,r){var i=Array.prototype.slice.call(arguments),o=i[0];return p.isFunction(o)&&(i[0]=n.wrap(o)),p.has(e,"apply")?e.apply(this,i):e(i[0],i[1])}})}};var i=function(e){this.initCurrent(e)};i.prototype={current:{},initOnly:{application:!0,cookie:!0,enabled:!0,token:!0,callback:{enabled:!0},console:{enabled:!0},navigation:{enabled:!0},network:{enabled:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},defaults:{application:"",cookie:!1,dedupe:!0,dependencies:!0,enabled:!0,errorURL:"https://capture.trackjs.com/capture",errorNoSSLURL:"http://capture.trackjs.com/capture",faultURL:"https://usage.trackjs.com/fault.gif",onError:function(){return!0},serialize:function(e){function t(e){var t="<"+e.tagName.toLowerCase();e=e.attributes||[];for(var n=0;n<e.length;n++)t+=" "+e[n].name+'="'+e[n].value+'"';return t+">"}if(""===e)return"Empty String";if(e===n)return"undefined";if(p.isString(e)||p.isNumber(e)||p.isBoolean(e)||p.isFunction(e))return""+e;if(p.isElement(e))return t(e);if("symbol"==typeof e)return Symbol.prototype.toString.call(e);var r;try{r=JSON.stringify(e,function(e,r){return r===n?"undefined":p.isNumber(r)&&isNaN(r)?"NaN":p.isError(r)?{name:r.name,message:r.message,stack:r.stack}:p.isElement(r)?t(r):r})}catch(t){for(var i in r="",e)e.hasOwnProperty(i)&&(r+=',"'+i+'":"'+e[i]+'"');r=r?"{"+r.replace(",","")+"}":"Unserializable Object"}return r.replace(/"undefined"/g,"undefined").replace(/"NaN"/g,"NaN")},sessionId:"",token:"",userId:"",version:"",callback:{enabled:!0,bindStack:!1},console:{enabled:!0,display:!0,error:!0,warn:!1,watch:["log","debug","info","warn","error"]},navigation:{enabled:!0},network:{enabled:!0,error:!0,fetch:!0},visitor:{enabled:!0},usageURL:"https://usage.trackjs.com/usage.gif",window:{enabled:!0,promise:!0}},initCurrent:function(e){return this.validate(e,this.defaults,"config",{})?(this.current=p.defaultsDeep({},e,this.defaults),!0):(this.current=p.defaultsDeep({},this.defaults),console.log("init current config",this.current),!1)},setCurrent:function(e){return!!this.validate(e,this.defaults,"config",this.initOnly)&&(this.current=p.defaultsDeep({},e,this.current),!0)},validate:function(e,t,n,r){var i=!0;for(var o in n=n||"",r=r||{},e)if(e.hasOwnProperty(o))if(t.hasOwnProperty(o)){var a=typeof t[o];a!==typeof e[o]?(console.warn(n+"."+o+": property must be type "+a+"."),i=!1):"[object Array]"!==Object.prototype.toString.call(e[o])||this.validateArray(e[o],t[o],n+"."+o)?"[object Object]"===Object.prototype.toString.call(e[o])?i=this.validate(e[o],t[o],n+"."+o,r[o]):r.hasOwnProperty(o)&&(console.warn(n+"."+o+": property cannot be set after load."),i=!1):i=!1}else console.warn(n+"."+o+": property not supported."),i=!1;return i},validateArray:function(e,t,n){var r=!0;n=n||"";for(var i=0;i<e.length;i++)p.contains(t,e[i])||(console.warn(n+"["+i+"]: invalid value: "+e[i]+"."),r=!1);return r}};var o=function(e,t,n,r,i,o,a){this.util=e,this.log=t,this.onError=n,this.onFault=r,this.serialize=i,a.enabled&&(o.console=this.wrapConsoleObject(o.console,a))};o.prototype={wrapConsoleObject:function(e,t){var n,r=(e=e||{}).log||function(){},i=this;for(n=0;n<t.watch.length;n++)!function(n){var o=e[n]||r;e[n]=function(){try{var e=Array.prototype.slice.call(arguments);if(i.log.add("c",{timestamp:i.util.isoNow(),severity:n,message:i.serialize(1===e.length?e[0]:e)}),t[n])if(p.isError(e[0])&&1===e.length)i.onError("console",e[0]);else try{throw Error(i.serialize(1===e.length?e[0]:e))}catch(e){i.onError("console",e)}t.display&&(i.util.hasFunction(o,"apply")?o.apply(this,e):o(e[0]))}catch(e){i.onFault(e)}}}(t.watch[n]);return e},report:function(){return this.log.all("c")}};var a=function(e,t,n,r,i){this.config=e,this.util=t,this.log=n,this.window=r,this.document=i,this.correlationId=this.token=null,this.initialize()};a.prototype={initialize:function(){this.token=this.getCustomerToken(),this.correlationId=this.getCorrelationId()},getCustomerToken:function(){if(this.config.current.token)return this.config.current.token;var e=this.document.getElementsByTagName("script");return e[e.length-1].getAttribute("data-token")},getCorrelationId:function(){var e;if(!this.config.current.cookie)return this.util.uuid();try{(e=this.document.cookie.replace(/(?:(?:^|.*;\s*)TrackJS\s*\=\s*([^;]*).*$)|^.*$/,"$1"))||(e=this.util.uuid(),this.document.cookie="TrackJS="+e+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/")}catch(t){e=this.util.uuid()}return e},report:function(){return{application:this.config.current.application,correlationId:this.correlationId,sessionId:this.config.current.sessionId,token:this.token,userId:this.config.current.userId,version:this.config.current.version}}};var s=function(e){this.config=e,this.loadedOn=(new Date).getTime(),this.originalUrl=p.getLocation(),this.referrer=t.referrer};s.prototype={discoverDependencies:function(){var t={};for(var n in e.jQuery&&e.jQuery.fn&&e.jQuery.fn.jquery&&(t.jQuery=e.jQuery.fn.jquery),e.jQuery&&e.jQuery.ui&&e.jQuery.ui.version&&(t.jQueryUI=e.jQuery.ui.version),e.angular&&e.angular.version&&e.angular.version.full&&(t.angular=e.angular.version.full),e)if("_trackJs"!==n&&"_trackJS"!==n&&"_trackjs"!==n&&"webkitStorageInfo"!==n&&"webkitIndexedDB"!==n&&"top"!==n&&"parent"!==n&&"frameElement"!==n)try{if(e[n]){var r=e[n].version||e[n].Version||e[n].VERSION;"string"==typeof r&&(t[n]=r)}}catch(e){}return t},report:function(){return{age:(new Date).getTime()-this.loadedOn,dependencies:this.config.current.dependencies?this.discoverDependencies():{trackJs:"3.3.0"},originalUrl:this.originalUrl,referrer:this.referrer,userAgent:e.navigator.userAgent,viewportHeight:e.document.documentElement.clientHeight,viewportWidth:e.document.documentElement.clientWidth}}};var c=function(e){this.util=e,this.appender=[],this.maxLength=30};c.prototype={all:function(e){var t,n,r=[];for(n=0;n<this.appender.length;n++)(t=this.appender[n])&&t.category===e&&r.push(t.value);return r},clear:function(){this.appender.length=0},truncate:function(){this.appender.length>this.maxLength&&(this.appender=this.appender.slice(Math.max(this.appender.length-this.maxLength,0)))},add:function(e,t){var n=this.util.uuid();return this.appender.push({key:n,category:e,value:t}),this.truncate(),n},get:function(e,t){var n,r;for(r=0;r<this.appender.length;r++)if((n=this.appender[r]).category===e&&n.key===t)return n.value;return!1}};var l=function(e){var t={};return{addMetadata:function(e,n){t[e]=n},removeMetadata:function(e){delete t[e]},report:function(){var n,r=[];for(n in t)t.hasOwnProperty(n)&&r.push({key:n,value:e(t[n])});return r},store:t}},u=function(e,t){this.log=e,this.options=t,t.enabled&&this.watch()};u.prototype={isCompatible:function(t){return t=t||e,!p.has(t,"chrome.app.runtime")&&p.has(t,"addEventListener")&&p.has(t,"history.pushState")},record:function(e,t,n){this.log.add("h",{type:e,from:p.truncate(t,250),to:p.truncate(n,250),on:p.isoNow()})},report:function(){return this.log.all("h")},watch:function(){if(this.isCompatible()){var t=this,n=p.getLocationURL().relative;e.addEventListener("popstate",function(){var e=p.getLocationURL().relative;t.record("popState",n,e),n=e},!0),p.forEach(["pushState","replaceState"],function(e){p.patch(history,e,function(r){return function(){n=p.getLocationURL().relative;var i=r.apply(this,arguments),o=p.getLocationURL().relative;return t.record(e,n,o),n=o,i}})})}}};var d=function(e,t,n,r,i,o){this.util=e,this.log=t,this.onError=n,this.onFault=r,this.window=i,this.options=o,o.enabled&&this.initialize(i)};d.prototype={initialize:function(e){e.XMLHttpRequest&&this.util.hasFunction(e.XMLHttpRequest.prototype.open,"apply")&&this.watchNetworkObject(e.XMLHttpRequest),e.XDomainRequest&&this.util.hasFunction(e.XDomainRequest.prototype.open,"apply")&&this.watchNetworkObject(e.XDomainRequest),this.options.fetch&&p.isWrappableFunction(e.fetch)&&this.watchFetch()},watchFetch:function(){var t=this.log,n=this.options,r=this.onError;p.patch(e,"fetch",function(i){return function(o,a){var s;try{throw Error()}catch(e){s=e.stack}var c=o instanceof Request?o:new Request(o,a),l=i.apply(e,arguments);return l.__trackjs_state__=t.add("n",{type:"fetch",startedOn:p.isoNow(),method:c.method,url:p.truncate(c.url,2e3)}),l.then(function(e){var i=t.get("n",l.__trackjs_state__);return i&&(p.defaults(i,{completedOn:p.isoNow(),statusCode:e.status,statusText:e.statusText}),n.error&&400<=e.status&&((i=Error(i.statusCode+" "+i.statusText+": "+i.method+" "+i.url)).stack=s,r("ajax",i))),e}).catch(function(e){e=e||{};var i=t.get("n",l.__trackjs_state__);throw i&&(p.defaults(i,{completedOn:p.isoNow(),statusCode:0,statusText:e.toString()}),n.error&&(e.message=e.message+": "+i.method+" "+i.url,e.stack=e.stack||s,r("ajax",e))),e})}})},watchNetworkObject:function(e){var t=this,n=e.prototype.open,r=e.prototype.send;return e.prototype.open=function(e,t){var r=(t||"").toString();return 0>r.indexOf("localhost:0")&&(this._trackJs={method:e,url:r}),n.apply(this,arguments)},e.prototype.send=function(){try{if(!this._trackJs)return r.apply(this,arguments);this._trackJs.logId=t.log.add("n",{type:"xhr",startedOn:t.util.isoNow(),method:this._trackJs.method,url:p.truncate(this._trackJs.url,2e3)}),t.listenForNetworkComplete(this)}catch(e){t.onFault(e)}return r.apply(this,arguments)},e},listenForNetworkComplete:function(e){var t=this;t.window.ProgressEvent&&e.addEventListener&&e.addEventListener("readystatechange",function(){4===e.readyState&&t.finalizeNetworkEvent(e)},!0),e.addEventListener?e.addEventListener("load",function(){t.finalizeNetworkEvent(e),t.checkNetworkFault(e)},!0):setTimeout(function(){try{var n=e.onload;e.onload=function(){t.finalizeNetworkEvent(e),t.checkNetworkFault(e),"function"==typeof n&&t.util.hasFunction(n,"apply")&&n.apply(e,arguments)};var r=e.onerror;e.onerror=function(){t.finalizeNetworkEvent(e),t.checkNetworkFault(e),"function"==typeof oldOnError&&r.apply(e,arguments)}}catch(e){t.onFault(e)}},0)},finalizeNetworkEvent:function(e){if(e._trackJs){var t=this.log.get("n",e._trackJs.logId);t&&(t.completedOn=this.util.isoNow(),t.statusCode=1223==e.status?204:e.status,t.statusText=1223==e.status?"No Content":e.statusText)}},checkNetworkFault:function(e){if(this.options.error&&400<=e.status&&1223!=e.status){var t=e._trackJs||{};this.onError("ajax",e.status+" "+e.statusText+": "+t.method+" "+t.url)}},report:function(){return this.log.all("n")}};var f=function(t,n){this.util=t,this.config=n,this.disabled=!1,this.throttleStats={attemptCount:0,throttledCount:0,lastAttempt:(new Date).getTime()},e.JSON&&e.JSON.stringify||(this.disabled=!0)};f.prototype={errorEndpoint:function(t){var n=this.config.current.errorURL;return this.util.testCrossdomainXhr()||-1!==e.location.protocol.indexOf("https")||(n=this.config.current.errorNoSSLURL),n+"?token="+t+"&v=3.3.0"},usageEndpoint:function(e){return this.appendObjectAsQuery(e,this.config.current.usageURL)},trackerFaultEndpoint:function(e){return this.appendObjectAsQuery(e,this.config.current.faultURL)},appendObjectAsQuery:function(e,t){for(var n in t+="?",e)e.hasOwnProperty(n)&&(t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&");return t},getCORSRequest:function(t,n){var r;return this.util.testCrossdomainXhr()?((r=new e.XMLHttpRequest).open(t,n),r.setRequestHeader("Content-Type","text/plain")):void 0!==e.XDomainRequest?(r=new e.XDomainRequest).open(t,n):r=null,r},sendTrackerFault:function(e){this.throttle(e)||((new Image).src=this.trackerFaultEndpoint(e))},sendUsage:function(e){(new Image).src=this.usageEndpoint(e)},sendError:function(t,r){var i=this;if(!this.disabled&&!this.throttle(t))try{var o=this.getCORSRequest("POST",this.errorEndpoint(r));o.onreadystatechange=function(){4!==o.readyState||p.contains([200,202],o.status)||(i.disabled=!0)},o._trackJs=n,o.send(e.JSON.stringify(t))}catch(e){throw this.disabled=!0,e}},throttle:function(e){var t=(new Date).getTime();if(this.throttleStats.attemptCount++,this.throttleStats.lastAttempt+1e3>=t){if(this.throttleStats.lastAttempt=t,10<this.throttleStats.attemptCount)return this.throttleStats.throttledCount++,!0}else e.throttled=this.throttleStats.throttledCount,this.throttleStats.attemptCount=0,this.throttleStats.lastAttempt=t,this.throttleStats.throttledCount=0;return!1}};var p=function(){function r(e,t,o,a){return o=o||!1,a=a||0,p.forEach(t,function(t){p.forEach(p.keys(t),function(s){null===t[s]||t[s]===n?e[s]=t[s]:o&&10>a&&"[object Object]"===i(t[s])?(e[s]=e[s]||{},r(e[s],[t[s]],o,a+1)):e.hasOwnProperty(s)||(e[s]=t[s])})}),e}function i(e){return Object.prototype.toString.call(e)}return{addEventListenerSafe:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},afterDocumentLoad:function(e){var n=!1;"complete"===t.readyState?p.defer(e):(p.addEventListenerSafe(t,"readystatechange",function(){"complete"!==t.readyState||n||(p.defer(e),n=!0)}),setTimeout(function(){n||(p.defer(e),n=!0)},1e4))},bind:function(e,t){return function(){return e.apply(t,Array.prototype.slice.call(arguments))}},contains:function(e,t){return 0<=e.indexOf(t)},defaults:function(e){return r(e,Array.prototype.slice.call(arguments,1),!1)},defaultsDeep:function(e){return r(e,Array.prototype.slice.call(arguments,1),!0)},defer:function(e,t){setTimeout(function(){e.apply(t)})},forEach:function(e,t,n){if(p.isArray(e)){if(e.forEach)return e.forEach(t,n);for(var r=0;r<e.length;)t.call(n,e[r],r,e),r++}},getLocation:function(){return e.location.toString().replace(/ /g,"%20")},getLocationURL:function(){return p.parseURL(p.getLocation())},has:function(e,t){try{for(var n=t.split("."),r=e,i=0;i<n.length;i++){if(!r[n[i]])return!1;r=r[n[i]]}return!0}catch(e){return!1}},hasFunction:function(e,t){try{return!!e[t]}catch(e){return!1}},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},isArray:function(e){return"[object Array]"===i(e)},isBoolean:function(e){return"boolean"==typeof e||p.isObject(e)&&"[object Boolean]"===i(e)},isBrowserIE:function(t){var n=(t=t||e.navigator.userAgent).match(/Trident\/([\d.]+)/);return n&&"7.0"===n[1]?11:!!(t=t.match(/MSIE ([\d.]+)/))&&parseInt(t[1],10)},isBrowserSupported:function(){var e=this.isBrowserIE();return!e||8<=e},isError:function(e){if(!p.isObject(e))return!1;var t=i(e);return"[object Error]"===t||"[object DOMException]"===t||p.isString(e.name)&&p.isString(e.message)},isElement:function(e){return p.isObject(e)&&1===e.nodeType},isFunction:function(e){return!(!e||"function"!=typeof e)},isNumber:function(e){return"number"==typeof e||p.isObject(e)&&"[object Number]"===i(e)},isObject:function(e){return!(!e||"object"!=typeof e)},isString:function(e){return"string"==typeof e||!p.isArray(e)&&p.isObject(e)&&"[object String]"===i(e)},isWrappableFunction:function(e){return this.isFunction(e)&&this.hasFunction(e,"apply")},isoNow:function(){var e=new Date;return e.toISOString?e.toISOString():e.getUTCFullYear()+"-"+this.pad(e.getUTCMonth()+1)+"-"+this.pad(e.getUTCDate())+"T"+this.pad(e.getUTCHours())+":"+this.pad(e.getUTCMinutes())+":"+this.pad(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},keys:function(e){if(!p.isObject(e))return[];var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},noop:function(){},pad:function(e){return 1===(e=String(e)).length&&(e="0"+e),e},parseURL:function(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return t?((t={protocol:t[2],host:t[4],path:t[5],query:t[6],hash:t[8]}).origin=(t.protocol||"")+"://"+(t.host||""),t.relative=(t.path||"")+(t.query||"")+(t.hash||""),t.href=e,t):{}},patch:function(e,t,n){e[t]=n(e[t]||p.noop)},testCrossdomainXhr:function(){return"withCredentials"in new XMLHttpRequest},truncate:function(e,t){if(e.length<=t)return e;var n=e.length-t;return e.substr(0,t)+"...{"+n+"}"},tryGet:function(e,t){try{return e[t]}catch(e){}},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},wrapError:function(e){var t=e||Object.prototype.toString.call(e);if(t&&t.innerError)return e;var n=Error("TrackJS Caught: "+(t.message||t));return n.description="TrackJS Caught: "+t.description,n.file=t.file,n.line=t.line||t.lineNumber,n.column=t.column||t.columnNumber,n.stack=t.stack,n.innerError=e,n}}}(),h=function(e,t,n,r,i,o){this.util=e,this.log=t,this.onError=n,this.onFault=r,this.options=o,this.document=i,o.enabled&&this.initialize(i)};h.prototype={initialize:function(e){var t=this.util.bind(this.onDocumentClicked,this),n=this.util.bind(this.onInputChanged,this);e.addEventListener?(e.addEventListener("click",t,!0),e.addEventListener("blur",n,!0)):e.attachEvent&&(e.attachEvent("onclick",t),e.attachEvent("onfocusout",n))},onDocumentClicked:function(e){try{var t=this.getElementFromEvent(e);t&&t.tagName&&(this.isDescribedElement(t,"a")||this.isDescribedElement(t,"button")||this.isDescribedElement(t,"input",["button","submit"])?this.writeVisitorEvent(t,"click"):this.isDescribedElement(t,"input",["checkbox","radio"])&&this.writeVisitorEvent(t,"input",t.value,t.checked))}catch(e){this.onFault(e)}},onInputChanged:function(e){try{var t=this.getElementFromEvent(e);t&&t.tagName&&(this.isDescribedElement(t,"textarea")?this.writeVisitorEvent(t,"input",t.value):this.isDescribedElement(t,"select")&&t.options&&t.options.length?this.onSelectInputChanged(t):this.isDescribedElement(t,"input")&&!this.isDescribedElement(t,"input",["button","submit","hidden","checkbox","radio"])&&this.writeVisitorEvent(t,"input",t.value))}catch(e){this.onFault(e)}},onSelectInputChanged:function(e){if(e.multiple)for(var t=0;t<e.options.length;t++)e.options[t].selected&&this.writeVisitorEvent(e,"input",e.options[t].value);else 0<=e.selectedIndex&&e.options[e.selectedIndex]&&this.writeVisitorEvent(e,"input",e.options[e.selectedIndex].value)},writeVisitorEvent:function(e,t,r,i){"password"===this.getElementType(e)&&(r=n),this.log.add("v",{timestamp:this.util.isoNow(),action:t,element:{tag:e.tagName.toLowerCase(),attributes:this.getElementAttributes(e),value:this.getMetaValue(r,i)}})},getElementFromEvent:function(e){return e.target||t.elementFromPoint(e.clientX,e.clientY)},isDescribedElement:function(e,t,n){if(e.tagName.toLowerCase()!==t.toLowerCase())return!1;if(!n)return!0;for(e=this.getElementType(e),t=0;t<n.length;t++)if(n[t]===e)return!0;return!1},getElementType:function(e){return(e.getAttribute("type")||"").toLowerCase()},getElementAttributes:function(e){for(var t={},n=Math.min(e.attributes.length,10),r=0;r<n;r++){var i=e.attributes[r];p.contains(["data-value","value"],i.name.toLowerCase())||(t[i.name]=p.truncate(i.value,100))}return t},getMetaValue:function(e,t){return e===n?n:{length:e.length,pattern:this.matchInputPattern(e),checked:t}},matchInputPattern:function(e){return""===e?"empty":/^[a-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(e)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(e)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(e)?"date":/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(e)?"usphone":/^\s*$/.test(e)?"whitespace":/^\d*$/.test(e)?"numeric":/^[a-zA-Z]*$/.test(e)?"alpha":/^[a-zA-Z0-9]*$/.test(e)?"alphanumeric":"characters"},report:function(){return this.log.all("v")}};var m=function(e,t,n,r,i){this.onError=e,this.onFault=t,this.serialize=n,i.enabled&&this.watchWindowErrors(r),i.promise&&this.watchPromiseErrors(r)};m.prototype={watchPromiseErrors:function(e){var t=this;e.addEventListener?e.addEventListener("unhandledrejection",function(e){if((e=(e=e||{}).detail?p.tryGet(e.detail,"reason"):p.tryGet(e,"reason"))!==n){if(!p.isError(e))try{throw Error(t.serialize(e))}catch(t){e=t}t.onError("promise",e)}}):e.onunhandledrejection=function(e){t.onError("promise",e)}},watchWindowErrors:function(e){var t=this;p.patch(e,"onerror",function(e){return function(n,r,i,o,a){try{(a=a||{}).message=a.message||t.serialize(n),a.name=a.name||"Error",a.line=a.line||parseInt(i,10)||null,a.column=a.column||parseInt(o,10)||null,"[object Event]"!==Object.prototype.toString.call(n)||r?a.file=a.file||t.serialize(r):a.file=(n.target||{}).src,t.onError("window",a)}catch(e){t.onFault(e)}e.apply(this,arguments)}})}};var g,v,y=function(){this.hasInstalled=!1,this.hasEnabled=!0,this.window=e,this.document=t,this.util=p,this.install=p.bind(this.install,this),this.onError=p.bind(this.onError,this),this.onFault=p.bind(this.onFault,this),this.serialize=p.bind(this.serialize,this),this.log=new c(p),this.metadata=new l(this.serialize);var n=e&&(e._trackJs||e._trackJS||e._trackjs);n&&this.install(n)};return y.prototype={install:function(e){try{if(void 0===t)return this.warn("monitoring disabled in node"),!1;if(!p.has(e,"token"))return this.warn("missing token"),!1;if(this.hasInstalled)return this.warn("already installed"),!1;if(this.config=new i(e),this.transmitter=new f(this.util,this.config),this.environment=new s(this.config),this.customer=new a(this.config,this.util,this.log,this.window,this.document),!this.config.current.enabled)return this.hasEnabled=!1;if(this.windowConsoleWatcher=new o(this.util,this.log,this.onError,this.onFault,this.serialize,this.window,this.config.current.console),!this.util.isBrowserSupported())return!1;this.callbackWatcher=new r(this.config.current.callback,this.onError,this.onFault),this.visitorWatcher=new h(this.util,this.log,this.onError,this.onFault,this.document,this.config.current.visitor),this.navigationWatcher=new u(this.log,this.config.current.navigation),this.networkWatcher=new d(this.util,this.log,this.onError,this.onFault,this.window,this.config.current.network),this.windowWatcher=new m(this.onError,this.onFault,this.serialize,this.window,this.config.current.window);var n=this;return p.afterDocumentLoad(function(){n.transmitter.sendUsage({token:n.customer.token,correlationId:n.customer.correlationId,application:n.config.current.application,x:n.util.uuid()})}),this.hasInstalled=!0}catch(e){return this.onFault(e),!1}},pub:function(){var e=this,t={addMetadata:this.metadata.addMetadata,attempt:function(t,n){try{var r=Array.prototype.slice.call(arguments,2);return t.apply(n||this,r)}catch(t){throw e.onError("catch",t),p.wrapError(t)}},configure:function(t){return!e.hasInstalled&&e.hasEnabled?(e.warn("agent must be installed"),!1):e.config.setCurrent(t)},hash:"54347fb954b42f83b9fc72e759b821f17c6cdd3a",install:this.install,removeMetadata:this.metadata.removeMetadata,track:function(t){if(!e.hasInstalled&&e.hasEnabled)e.warn("agent must be installed");else{var n=p.isError(t)?t.message:e.serialize(t);if(!(t=t||{}).stack)try{throw Error(n)}catch(e){t=e}e.onError("direct",t)}},version:"3.3.0",watch:function(t,n){return function(){try{var r=Array.prototype.slice.call(arguments,0);return t.apply(n||this,r)}catch(t){throw e.onError("catch",t),p.wrapError(t)}}},watchAll:function(e){var t,n=Array.prototype.slice.call(arguments,1);for(t in e)"function"!=typeof e[t]||p.contains(n,t)||(e[t]=this.watch(e[t],e));return e}};return new o(p,e.log,e.onError,e.onFault,e.serialize,t,i.prototype.defaults.console),t},onError:(v=!1,function(t,n,r){if(this.hasInstalled&&this.hasEnabled&&p.isBrowserSupported())try{if(r=r||{bindStack:null,bindTime:null,force:!1},n&&p.isError(n)||(n={name:"Error",message:this.serialize(n,r.force)}),-1===n.message.indexOf("TrackJS Caught"))if(v&&-1!==n.message.indexOf("Script error"))v=!1;else{var i=p.defaultsDeep({},{bindStack:r.bindStack,bindTime:r.bindTime,column:n.column||n.columnNumber,console:this.windowConsoleWatcher.report(),customer:this.customer.report(),entry:t,environment:this.environment.report(),file:n.file||n.fileName,line:n.line||n.lineNumber,message:n.message,metadata:this.metadata.report(),nav:this.navigationWatcher.report(),network:this.networkWatcher.report(),url:(e.location||"").toString(),stack:n.stack,timestamp:this.util.isoNow(),visitor:this.visitorWatcher.report(),version:"3.3.0"});if(!r.force)try{if(!this.config.current.onError(i,n))return}catch(e){i.console.push({timestamp:this.util.isoNow(),severity:"error",message:e.message});var o=this;setTimeout(function(){o.onError("catch",e,{force:!0})},0)}if(this.config.current.dedupe){var a=(i.message+i.stack).substr(0,1e4);if(a===g)return;g=a}!function(){function e(){var e=0;return p.forEach(i.console,function(t){e+=(t.message||"").length}),8e4<=e}for(var t=0;e()&&t<i.console.length;)i.console[t].message=p.truncate(i.console[t].message,1e3),t++}(),this.log.clear(),setTimeout(function(){v=!1}),v=!0,this.transmitter.sendError(i,this.customer.token)}}catch(e){this.onFault(e)}}),onFault:function(e){var t=this.transmitter||new f;e=e||{},e={token:this.customer.token,file:e.file||e.fileName,msg:e.message||"unknown",stack:(e.stack||"unknown").substr(0,1e3),url:this.window.location,v:"3.3.0",h:"54347fb954b42f83b9fc72e759b821f17c6cdd3a",x:this.util.uuid()},t.sendTrackerFault(e)},serialize:function(e,t){if(this.hasInstalled&&this.config.current.serialize&&!t)try{return this.config.current.serialize(e)}catch(e){this.onError("catch",e,{force:!0})}return i.prototype.defaults.serialize(e)},warn:function(t){p.has(e,"console.warn")&&e.console.warn("TrackJS: "+t)}},(new y).pub()}("undefined"==typeof window?void 0:window,"undefined"==typeof document?void 0:document)},"object"==typeof n&&void 0!==t?t.exports={TrackJS:i()}:"function"==typeof define&&define.amd?define(i):r.TrackJS=i()},{}],432:[function(e,t,n){!function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},r=e._,i=Array.prototype,o=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,c=i.slice,l=o.toString,u=o.hasOwnProperty,d=Array.isArray,f=Object.keys,p=Object.create,h=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};void 0===n||n.nodeType?e._=m:(void 0!==t&&!t.nodeType&&t.exports&&(n=t.exports=m),n._=m),m.VERSION="1.9.1";var g,v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return m.iteratee!==g?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?v(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=g=function(e,t){return y(e,t,1/0)};var b=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},w=function(e){if(!m.isObject(e))return{};if(p)return p(e);h.prototype=e;var t=new h;return h.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},x=function(e,t){return null!=e&&u.call(e,t)},k=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},j=Math.pow(2,53)-1,C=_("length"),E=function(e){var t=C(e);return"number"==typeof t&&t>=0&&t<=j};m.each=m.forEach=function(e,t,n){var r,i;if(t=v(t,n),E(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=m.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},m.map=m.collect=function(e,t,n){t=y(t,n);for(var r=!E(e)&&m.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o};var S=function(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!E(t)&&m.keys(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var c=o?o[s]:s;r=n(r,t[c],c,t)}return r}(t,v(n,i,4),r,o)}};m.reduce=m.foldl=m.inject=S(1),m.reduceRight=m.foldr=S(-1),m.find=m.detect=function(e,t,n){var r=(E(e)?m.findIndex:m.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=y(t,n),m.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},m.reject=function(e,t,n){return m.filter(e,m.negate(y(t)),n)},m.every=m.all=function(e,t,n){t=y(t,n);for(var r=!E(e)&&m.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},m.some=m.any=function(e,t,n){t=y(t,n);for(var r=!E(e)&&m.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return E(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=b(function(e,t,n){var r,i;return m.isFunction(t)?i=t:m.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),m.map(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=k(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=E(e)?e:m.values(e)).length;s<c;s++)null!=(r=e[s])&&r>o&&(o=r);else t=y(t,n),m.each(e,function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},m.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=E(e)?e:m.values(e)).length;s<c;s++)null!=(r=e[s])&&r<o&&(o=r);else t=y(t,n),m.each(e,function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return E(e)||(e=m.values(e)),e[m.random(e.length-1)];var r=E(e)?m.clone(e):m.values(e),i=C(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=m.random(a,o),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,t)},m.sortBy=function(e,t,n){var r=0;return t=y(t,n),m.pluck(m.map(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=y(r,i),m.each(n,function(t,i){var a=r(t,i,n);e(o,t,a)}),o}};m.groupBy=T(function(e,t,n){x(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=T(function(e,t,n){e[n]=t}),m.countBy=T(function(e,t,n){x(e,n)?e[n]++:e[n]=1});var O=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?c.call(e):m.isString(e)?e.match(O):E(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:E(e)?e.length:m.keys(e).length},m.partition=T(function(e,t,n){e[n?0:1].push(t)},!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var A=function(e,t,n,r){for(var i=(r=r||[]).length,o=0,a=C(e);o<a;o++){var s=e[o];if(E(s)&&(m.isArray(s)||m.isArguments(s)))if(t)for(var c=0,l=s.length;c<l;)r[i++]=s[c++];else A(s,t,n,r),i=r.length;else n||(r[i++]=s)}return r};m.flatten=function(e,t){return A(e,t,!1)},m.without=b(function(e,t){return m.difference(e,t)}),m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=y(n,r));for(var i=[],o=[],a=0,s=C(e);a<s;a++){var c=e[a],l=n?n(c,a,e):c;t&&!n?(a&&o===l||i.push(c),o=l):n?m.contains(o,l)||(o.push(l),i.push(c)):m.contains(i,c)||i.push(c)}return i},m.union=b(function(e){return m.uniq(A(e,!0,!0))}),m.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=C(e);r<i;r++){var o=e[r];if(!m.contains(t,o)){var a;for(a=1;a<n&&m.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},m.difference=b(function(e,t){return t=A(t,!0,!0),m.filter(e,function(e){return!m.contains(t,e)})}),m.unzip=function(e){for(var t=e&&m.max(e,C).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.zip=b(m.unzip),m.object=function(e,t){for(var n={},r=0,i=C(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var P=function(e){return function(t,n,r){n=y(n,r);for(var i=C(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};m.findIndex=P(1),m.findLastIndex=P(-1),m.sortedIndex=function(e,t,n,r){for(var i=(n=y(n,r,1))(t),o=0,a=C(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o};var N=function(e,t,n){return function(r,i,o){var a=0,s=C(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(c.call(r,a,s),m.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}};m.indexOf=N(1,m.findIndex,m.sortedIndex),m.lastIndexOf=N(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(c.call(e,r,r+=t));return n};var M=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=w(e.prototype),a=e.apply(o,i);return m.isObject(a)?a:o};m.bind=b(function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var r=b(function(i){return M(e,r,t,this,n.concat(i))});return r}),m.partial=b(function(e,t){var n=m.partial.placeholder,r=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return M(e,r,this,this,a)};return r}),m.partial.placeholder=m,m.bindAll=b(function(e,t){var n=(t=A(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=m.bind(e[r],e)}}),m.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return x(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=b(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,o,a,s=0;n||(n={});var c=function(){s=!1===n.leading?0:m.now(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=m.now();s||!1!==n.leading||(s=l);var u=t-(l-s);return i=this,o=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},m.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},a=b(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,t),s&&(i=e.apply(this,a))}else r=m.delay(o,t,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=b;var R=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],D=function(e,t){var n=I.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||o,a="constructor";for(x(e,a)&&!m.contains(t,a)&&t.push(a);n--;)(a=I[n])in e&&e[a]!==i[a]&&!m.contains(t,a)&&t.push(a)};m.keys=function(e){if(!m.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)x(e,n)&&t.push(n);return R&&D(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return R&&D(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=y(t,n);for(var r=m.keys(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var L=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,c=0;c<s;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=o[l])}return n}};m.extend=L(m.allKeys),m.extendOwn=m.assign=L(m.keys),m.findKey=function(e,t,n){t=y(t,n);for(var r,i=m.keys(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r};var F,z,Y=function(e,t,n){return t in n};m.pick=b(function(e,t){var n={},r=t[0];if(null==e)return n;m.isFunction(r)?(t.length>1&&(r=v(r,t[1])),t=m.allKeys(e)):(r=Y,t=A(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n}),m.omit=b(function(e,t){var n,r=t[0];return m.isFunction(r)?(r=m.negate(r),t.length>1&&(n=t[1])):(t=m.map(A(t,!1,!1),String),r=function(e,n){return!m.contains(t,n)}),m.pick(e,r,n)}),m.defaults=L(m.allKeys,!0),m.create=function(e,t){var n=w(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0},F=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&z(e,t,n,r)},z=function(e,t,n,r){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=l.call(e);if(i!==l.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return a.valueOf.call(e)===a.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,c=t.constructor;if(s!==c&&!(m.isFunction(s)&&s instanceof s&&m.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!F(e[u],t[u],n,r))return!1}else{var d,f=m.keys(e);if(u=f.length,m.keys(t).length!==u)return!1;for(;u--;)if(d=f[u],!x(t,d)||!F(e[d],t[d],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(e,t){return F(e,t)},m.isEmpty=function(e){return null==e||(E(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=d||function(e){return"[object Array]"===l.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return x(e,"callee")});var B=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof B&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===l.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return x(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!u.call(e,i))return!1;e=e[i]}return!!n},m.noConflict=function(){return e._=r,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return k(t,e)}:_(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?k(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},X=m.invert(H),q=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=q(H),m.unescape=q(X),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var r=t.length;if(!r)return m.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=m.isFunction(o)?o.call(e):o}return e};var U=0;m.uniqueId=function(e){var t=++U+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,G=function(e){return"\\"+V[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r,i=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,s){return a+=e.slice(o,s).replace($,G),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,m)},c=t.variable||"obj";return s.source="function("+c+"){\n"+a+"}",s},m.chain=function(e){var t=m(e);return t._chain=!0,t};var K=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),K(this,n.apply(m,e))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],K(this,n)}}),m.each(["concat","join","slice"],function(e){var t=i[e];m.prototype[e]=function(){return K(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}()},{}],433:[function(e,t,n){var r,i;r=this,i=function(e){"use strict";var t={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function s(e){this.map={},e instanceof s?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){var n;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:t.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:t.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():t.arrayBuffer&&t.blob&&((n=e)&&DataView.prototype.isPrototypeOf(n))?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e,t,n,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=l(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}s.prototype.append=function(e,t){e=i(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},s.prototype.delete=function(e){delete this.map[i(e)]},s.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},s.prototype.set=function(e,t){this.map[i(e)]=o(t)},s.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},s.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),a(e)},s.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},s.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),a(e)},t.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(e,t){var n,r,i=(t=t||{}).body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(e)}h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];g.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.DOMException=self.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function y(n,r){return new Promise(function(i,o){var a=new h(n,r);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function l(){c.abort()}c.onload=function(){var e,t,n={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new s,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var r="response"in c?c.response:c.responseText;i(new g(r,n))},c.onerror=function(){o(new TypeError("Network request failed"))},c.ontimeout=function(){o(new TypeError("Network request failed"))},c.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},c.open(a.method,a.url,!0),"include"===a.credentials?c.withCredentials=!0:"omit"===a.credentials&&(c.withCredentials=!1),"responseType"in c&&t.blob&&(c.responseType="blob"),a.headers.forEach(function(e,t){c.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",l),c.onreadystatechange=function(){4===c.readyState&&a.signal.removeEventListener("abort",l)}),c.send(void 0===a._bodyInit?null:a._bodyInit)})}y.polyfill=!0,self.fetch||(self.fetch=y,self.Headers=s,self.Request=h,self.Response=g),e.Headers=s,e.Request=h,e.Response=g,e.fetch=y,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(r.WHATWGFetch={})},{}],434:[function(e,t,n){"use strict";var r=e("./common/util"),i=e("./common/storage");t.exports={_id:function(e){return"anywhere_access:".concat(e.organization_id,":").concat(e.user_id,":").concat(e.doi)},log:function(e,t){var n=e.access?"granted":"denied";r.log("Anywhere Access (".concat(e.doi,"): ").concat(n,", took ").concat(t," ms (").concat(e.method,")"))},logCached:function(e){this.log({access:this.fetch(e),method:"session-storage",doi:e.doi},0)},cache:function(e,t){return i.session.set(this._id(e),t)},fetch:function(e){return JSON.parse(i.session.get(this._id(e)))}}},{"./common/storage":476,"./common/util":482}],435:[function(e,t,n){"use strict";e("core-js/modules/es6.function.bind"),e("core-js/modules/es6.object.define-property");var r={},i=null;r.init=function(e){return i=e},Object.defineProperty(r,"ga",{get:function(){return i.ga.bind(i)}}),Object.defineProperty(r,"metrics",{get:function(){return i.metrics}}),Object.defineProperty(r,"mixpanel",{get:function(){return i.mixpanel}}),t.exports=r},{"core-js/modules/es6.function.bind":291,"core-js/modules/es6.object.define-property":297}],436:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=(e("underscore"),e("tippy.js")),o=e("@fortawesome/fontawesome-svg-core").icon,a=e("../article"),s=(e("../evtbus"),e("../common/eventer")),c=e("../viewer/viewer"),l=e("./highlight_ctrl"),u=e("./freehand_ctrl"),d=e("./notes_ctrl"),f=e("./ctrl_manager"),p={classes:["fa-icon icon-h-16"]},h={times:e("@fortawesome/pro-light-svg-icons/faTimes").definition,highlighter:e("@fortawesome/pro-regular-svg-icons/faHighlighter").definition,underline:e("@fortawesome/pro-regular-svg-icons/faUnderline").definition,strikethrough:e("@fortawesome/pro-regular-svg-icons/faStrikethrough").definition,stickyNote:e("@fortawesome/pro-regular-svg-icons/faStickyNote").definition,signature:e("@fortawesome/pro-regular-svg-icons/faSignature").definition},m=s({}),g={highlight:l,underline:l,strikethrough:l,freehand:u,notes:d},v=r(),y=r(),b=null,w='\n  <div class="annotate-menu wrfont" annotation-type="'.concat(f.activeCtrl,'">\n    <div>\n      <button class="toolbar-btn cancel" title="Close">\n        ').concat(o(h.times,p).html,'\n      </button><button class="toolbar-btn" title="Highlight" tool="highlight">\n        ').concat(o(h.highlighter,p).html,'\n      </button><button class="toolbar-btn" title="Underline" tool="underline">\n        ').concat(o(h.underline,p).html,'\n      </button><button class="toolbar-btn" title="Strikethrough" tool="strikethrough">\n        ').concat(o(h.strikethrough,p).html,'\n      </button><button class="toolbar-btn" title="Draw" tool="freehand">\n        ').concat(o(h.signature,p).html,'\n      </button><button class="toolbar-btn" title="Add Note" tool="notes">\n        ').concat(o(h.stickyNote,p).html,"\n      </button>\n    </div>\n  </div>");function _(){f.activeCtrl!=b&&(b=f.activeCtrl,v.attr("annotation-type",b),b?y.attr("annotate-tool",b):y.removeAttr("annotate-tool"))}function x(e){g[e].toggle(e)}function k(e){v.addClass("open"),y.addClass("annotate-mode"),x(e||"highlight")}function j(){v.hasClass("open")&&(v.removeClass("open"),y.removeClass("annotate-mode"),f.activeCtrl&&g[f.activeCtrl].stop())}c.onInit(function(){if(v.length)return;y=r(".viewer-root"),(v=r(w).appendTo("#viewer-content")).find(".cancel").click(function(){return j()}),v.find("button[tool]").click(function(){x(r(this).attr("tool"))}),v.find("[title]").each(function(e,t){i(t,{placement:"left"})}),r(window).on("keydown",function(e){27==e.keyCode&&j()}),f.on("change",_)}),m.open=k,m.close=j,m.toggle=function(e){v.hasClass("open")?j():k(e)},m.enabled=function(){return!c.isResolve&&!c.isDiscover&&(a.isSupplement?a.isPdfSupplement:a.hasAccess&&"shared"!=a.accessType)},t.exports=m},{"../article":455,"../common/eventer":466,"../evtbus":525,"../viewer/viewer":602,"./ctrl_manager":444,"./freehand_ctrl":446,"./highlight_ctrl":448,"./notes_ctrl":452,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faTimes":57,"@fortawesome/pro-regular-svg-icons/faHighlighter":66,"@fortawesome/pro-regular-svg-icons/faSignature":69,"@fortawesome/pro-regular-svg-icons/faStickyNote":70,"@fortawesome/pro-regular-svg-icons/faStrikethrough":71,"@fortawesome/pro-regular-svg-icons/faUnderline":72,"core-js/modules/es6.array.find":279,jquery:400,"tippy.js":430,underscore:432}],437:[function(e,t,n){"use strict";e("core-js/modules/es6.array.reduce"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.array.map");var r=e("jquery"),i=e("underscore"),o=e("autosize"),a=e("scrollparent"),s=e("@fortawesome/fontawesome-svg-core").icon,c=e("../common/util"),l=e("../common/rect"),u=e("../common/eventer"),d=e("./annotation_helper"),f=e("./annotation_model"),p={highlight:{color_id:1},underline:{color_id:8},strikethrough:{color_id:5}},h={classes:["fa-icon icon-h-12"]},m={description:e("../icons/description").definition};function g(e,t,n){u(this),this._data=c.merge(function(e,t){return e=e||"highlight",{id:c.guid(),created:c.dateISO(),renderer:"pdfjs",type:e,rects:[],page_start:t.index-1,page_end:t.index-1,color_id:p[e].color_id,has_note:!1,note:""}}(e.type,t),e),this._page=t,this._rects=d.fromSyncRects(this._data.rects,this._page),this._inputId=c.guid(),this._active=!1,this._editing=!1,this._addEditable(),this._addDrawable(),this._addEventable()}function v(e){return e.slice(1).reduce(function(e,t){return e.boundingRect(t)},e[0].clone())}g.prototype={_setColorId:function(e){return e=parseInt(e),!isNaN(e)&&(e!=this._data.color&&(this._noteIndicator.removeClass("color-".concat(this._data.color_id)),this._drawableElems.removeClass("color-".concat(this._data.color_id)),this._boundingElem.removeClass("color-".concat(this._data.color_id)),this._editable.removeClass("color-".concat(this._data.color_id)),this._data.color_id=e,this._noteIndicator.addClass("color-".concat(this._data.color_id)),this._drawableElems.addClass("color-".concat(this._data.color_id)),this._boundingElem.addClass("color-".concat(this._data.color_id)),this._editable.addClass("color-".concat(this._data.color_id)),!0))},_setNote:function(e){return e!=this._data.note&&(this._data.note=e,this._data.has_note=!!this._data.note,this._editable.val()!=this._data.note&&this._editable.val(this._data.note),this._noteIndicator.toggle(!!this._editable.val()),!0)},_highlight_rect:function(e){return e.clone()},_underline_rect:function(e){return(e=e.clone()).top+=e.height-1,e.height=1,e},_strikethrough_rect:function(e){return(e=e.clone()).top+=e.height/2-1,e.height=1,e},_getElems:function(e){return r(e.map(function(e){return c.tagFromRect(e)}))},_getBoundingElem:function(e){var t=v(e);return r(c.tagFromRect(t))},_getNoteIndicator:function(e){var t=v(e),n=new l(t.left+t.width,t.top,11,13);return r(c.tagFromRect(n,"div")).append(s(m.description,h).node)},_addDrawable:function(){var e=this;this._drawableRects=this._rects.map(function(t){return e["_".concat(e._data.type,"_rect")](t)});var t="".concat(this._data.type,"-elem-draw color-").concat(this._data.color_id),n="bounding-elem-draw ".concat(this._data.type," color-").concat(this._data.color_id),i=d.addToFragment(this._getElems(this._drawableRects),t);this._drawableElems=r(i).children().attr("input-id",this._inputId),this._boundingElem=this._getBoundingElem(this._rects).addClass(n),this._page.drawable.append(this._boundingElem).append(i)},_addEventable:function(){var e="".concat(this._data.type),t="note-indicator-elem ".concat(this._data.type," color-").concat(this._data.color_id),n=d.addToFragment(this._getElems(this._rects),e);this._noteIndicator=this._getNoteIndicator(this._rects).addClass(t),this._noteIndicator.toggle(!!this._editable.val()),this._eventableElems=r(n).children().add(this._noteIndicator),this._eventableElems.attr("input-id",this._inputId),this._page.eventable.append(this._noteIndicator).append(n)},_removeEventable:function(){this._eventableElems.remove(),this._eventableElems=null},_removeDrawable:function(){this._drawableElems.remove(),this._boundingElem.remove(),this._drawableElems=null,this._boundingElem=null,this._drawableRects=null},_addEditable:function(){this._editable=o(r('\n      <textarea\n        class="note-editable wrfont color-'.concat(this._data.color_id,'"\n        placeholder="Type to add note..."\n        spellcheck="false">\n      </textarea>\n    '))).val(this._data.note),this._editable.on("mousedown mouseup touchstart",function(e){e.stopImmediatePropagation()})},get id(){return this._data.id},get userId(){return this._data.user_id},get inputId(){return this._inputId},get klass(){return this._data.type},get created(){return this._data.created},get modified(){return this._data.modified},get type(){return this._data.type},get rects(){return this._rects},get page(){return this._page},get elems(){return this._eventableElems||r()},get color_id(){return this._data.color_id},set color_id(e){this._setColorId(e)&&f.updateItem(this,{color_id:this._data.color_id})},get text(){return this._data.text},get note(){return this._data.note},get active(){return this._active},set active(e){this._data&&(e=!!e)!=this._active&&(this._active=e,this._boundingElem.toggleClass("active",this._active),this.trigger(this._active?"select":"deselect"))},get editing(){return this._editing},set editing(e){var t=this;if(this._data&&(e=!!e)!=this._editing)if(this._editing=e){var n=this._boundingElem[0].getBoundingClientRect(),i={x:n.left+n.width/2,y:n.top},s=r(a(this._boundingElem[0])),c=s.offset();c.top-=s.scrollTop(),c.left-=s.scrollLeft(),this._editable.css({left:i.x-c.left,top:i.y-c.top}),this._editable.one("focusout",function(){return t.editing=!1}),this._editable.appendTo(s),o.update(this._editable),d.horizontalAdjust(this._editable,s),this._editable.focus()}else this._editable.detach(),this._setNote(this._editable.val())&&f.updateItem(this,{note:this._data.note,has_note:this._data.has_note})},print:function(e,t,n){e.save(),e.fillStyle=d.PRINT_COLORS[this._data.color_id],this._drawableRects.forEach(function(t){(t=t.clone()).scale(n,n),e.fillRect(t.left,t.top,t.width,t.height)}),e.restore()},destroy:function(){this._removeEventable(),this._removeDrawable(),this._editable.remove(),this._editable=null,this._data=null,this._page=null},remove:function(){f.removeItem(this),this.destroy()},update:function(e,t){var n=c.objDiff(this._data,e);i.isEmpty(n)||(n.color_id&&this._setColorId(e.color_id),n.note&&this._setNote(e.note),this._data=Object.assign({},e),f.updateItem(this,n))},serialize:function(){return Object.assign({},this._data)}},g.add=function(e,t,n){var r=d.getNormalizedRects(n,t);return e=c.merge(e,d.rangeToTextData(n,t)),e=c.merge(e,{rects:d.toSyncRects(r,t)}),f.addItem(new g(e,t,n))},g.deserialize=function(e,t){return f.addItem(new g(e,t))},t.exports=g},{"../common/eventer":466,"../common/rect":474,"../common/util":482,"../icons/description":530,"./annotation_helper":439,"./annotation_model":441,"@fortawesome/fontawesome-svg-core":1,autosize:165,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.map":285,"core-js/modules/es6.array.reduce":286,"core-js/modules/es6.object.assign":295,jquery:400,scrollparent:424,underscore:432}],438:[function(e,t,n){"use strict";e("core-js/modules/es6.array.for-each");e("jquery");var r=e("./annotation_model"),i=e("./annotation"),o=e("./freehand"),a=e("./note"),s=e("./highlight_ctrl"),c=e("./freehand_ctrl"),l=e("./notes_ctrl"),u=e("../viewer/viewer"),d=e("../common/eventer");e("./annotation_linker");var f=d({}),p=0;function h(e){p>0&&console.warn("annotation_api: nested runSilent calls");try{p++,e()}catch(e){console.error(e)}finally{p--}}function m(e){return u.getPage(e.page_start+1)}function g(e,t,n){var r;switch(e.type){case"note":return r=a.deserialize(e,t),l.initEvents(r,n),r;case"freehand":return r=o.deserialize(e,t),c.initEvents(r,n),r;default:return r=i.deserialize(e,t),s.initEvents(r,n),r}}function v(e){h(function(){return e.remove()})}function y(e,t,n){p>0||f.trigger(e,[t,n])}r.on("add",function(e,t){return y("add",t)}),r.on("remove",function(e,t){return y("remove",t)}),r.on("update",function(e,t,n){return y("update",t,n)}),f.addItem=function(e){var t=null,n=m(e);n&&(n.onLoaded().then(function(){h(function(){t=g(e,n)})}),n.on("replace",function(n,i){t?function(e,t){if(r.hasItem(e)){var n=e.active,i=e.serialize();h(function(){e.remove(),g(i,t,n)})}}(t,i):h(function(){t=g(e,i)})}))},f.updateItem=function(e,t){var n=m(t);n&&h(function(){return e.update(t,n)})},f.removeItem=v,f.list=function(){return r.list()},f.clear=function(){r.list().forEach(v)},f.drawPath=function(){return c.start()},f.addNote=function(e){return l.add(e)},t.exports=f},{"../common/eventer":466,"../viewer/viewer":602,"./annotation":437,"./annotation_linker":440,"./annotation_model":441,"./freehand":445,"./freehand_ctrl":446,"./highlight_ctrl":448,"./note":450,"./notes_ctrl":452,"core-js/modules/es6.array.for-each":280,jquery:400}],439:[function(e,t,n){"use strict";e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.for-each");var r=e("../common/util"),i=e("../common/rect"),o=e("../common/number"),a=e("../common/range_serializer"),s=e("../viewer/text_reader"),c=2,l={1:"rgb(255, 215, 0)",2:"rgb(144, 238, 144)",3:"rgb(255, 182, 193)",4:"rgb(221, 160, 221)",5:"rgb(255, 0, 0)",6:"rgb(0, 0, 255)",7:"rgb(0, 0, 0)",8:"rgb(0, 128, 0)",9:"rgb(128, 0, 128)",10:"rgb(255, 165, 0)"},u=r.merge(l,{1:"rgba(255, 215, 0, 0.2)",2:"rgba(34, 221, 34, 0.2)",3:"rgba(255, 4, 41, 0.2)",4:"rgba(168, 60, 168, 0.2)"});function d(e,t){return Math.abs(e.top-t.top)<2||Math.abs(e.top+e.height-(t.top+t.height))<2}function f(e,t){return{x:(e=e||[])[0],y:t.height-e[1]}}function p(e,t){return[o.round10(e.x,-c),o.round10(t.height-e.y,-c)]}function h(e,t){return(e=e||[]).map(function(e){return new i(e[0],t.height-e[1]-e[3],e[2],e[3])})}t.exports={PRECISION:c,COLORS:l,PRINT_COLORS:u,COLOR_RANGES:{note:[1,2,3,4],highlight:[1,2,3,4],underline:[5,6,7,8],strikethrough:[5,6,7,8],freehand:[5,6,7,8,9,10,1]},addToFragment:function(e,t){var n=document.createDocumentFragment();return e.each(function(){var e=this.cloneNode();e.className=t,n.appendChild(e)}),n},getTransformedRects:function(e,t){var n=t.rotation;return h(e,t).map(function(e){return 0==n?(tl=t.page2doc({x:e.left,y:e.top}),br=t.page2doc({x:e.right,y:e.bottom})):90==n?(tl=t.page2doc({x:e.right,y:e.top}),br=t.page2doc({x:e.left,y:e.bottom})):180==n?(tl=t.page2doc({x:e.right,y:e.bottom}),br=t.page2doc({x:e.left,y:e.top})):270==n&&(tl=t.page2doc({x:e.left,y:e.bottom}),br=t.page2doc({x:e.right,y:e.top})),new i(tl.x,tl.y,br.x-tl.x,br.y-tl.y)})},getNormalizedRects:function(e,t){var n=[],o=t.rotation;return r.getElems(e).each(function(){var e,r,a=this.getBoundingClientRect();if(!(a.width<=0||a.height<=0)){0==o?(e=t.doc2page({x:a.left,y:a.top}),r=t.doc2page({x:a.right,y:a.bottom})):90==o?(e=t.doc2page({x:a.right,y:a.top}),r=t.doc2page({x:a.left,y:a.bottom})):180==o?(e=t.doc2page({x:a.right,y:a.bottom}),r=t.doc2page({x:a.left,y:a.top})):270==o&&(e=t.doc2page({x:a.left,y:a.bottom}),r=t.doc2page({x:a.right,y:a.top})),e.x=Math.max(e.x,2),e.y=Math.max(e.y,2),r.x=Math.min(r.x,t.width-2),r.y=Math.min(r.y,t.height-2);var s=new i(e.x,e.y,r.x-e.x,r.y-e.y);n.push(s)}}),function(e,t){var n=[];return e.forEach(function(e){var r=n[n.length-1];r&&t(e,r)?r.boundingRect(e):n.push(e)}),n}(n,d)},rangeToTextData:function(e,t){var n=a.serialize(e,t.elem,128);return{preceeding_text:s.matchText(n.prefix,t.index),text:s.matchText(n.text,t.index)}},fromSyncPoint:f,toSyncPoint:p,fromSyncPaths:function(e,t){return(e||[]).map(function(e){return(e||[]).map(function(e){return f(e,t)})})},toSyncPaths:function(e,t){return(e||[]).map(function(e){return(e||[]).map(function(e){return p(e,t)})})},fromSyncRects:h,toSyncRects:function(e,t){return e.map(function(e){return[o.round10(e.left,-c),o.round10(t.height-e.top-e.height,-c),o.round10(e.width,-c),o.round10(e.height,-c)]})},horizontalAdjust:function(e,t){var n=t[0].getBoundingClientRect(),r=e[0].getBoundingClientRect(),i={left:n.left-r.left,right:r.right-n.right},o=function(e){var t=e.left>0,n=e.right>0;return n&&t?e.left>=e.right?"right":"left":n?"left":t?"right":null}(i);"left"==o&&e.css("left","+="+Math.max(-r.width/2,-i.right)),"right"==o&&e.css("left","+="+Math.min(r.width/2,i.left))}}},{"../common/number":471,"../common/range_serializer":473,"../common/rect":474,"../common/util":482,"../viewer/text_reader":600,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.map":285}],440:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("core-js/modules/es6.array.find"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var i=e("./annotation_model"),o=e("./annotation_position"),a=e("./annotation_toolbar"),s=e("./freehand_toolbar"),c=e("../viewer/viewer"),l=e("../sync/sync_item"),u=e("../sync_api");function d(){var e;return e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.on("add",function(e,t){t.on("select",function(){return m(t)}),t.on("deselect",function(){return g(t)}),h(t)&&p(t)}),!/^#annotation:/.test(location.hash)){e.next=6;break}return e.next=4,new Promise(function(e){l.onAdd(function(){u.annots.list().then(function(t){return e(t.annotations)})})});case 4:f(e.sent.find(h));case 6:case"end":return e.stop()}},e)}),(d=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}function f(e){e&&c.onInit(function(){return o.scrollToSync(e)})}function p(e){"freehand"==e.type?s.open(e):a.open(e)}function h(e){return location.hash=="#annotation:".concat(e.id)}function m(e){try{history.replaceState(null,null,"".concat(v(),"#annotation:").concat(e.id))}catch(e){console.warn(e)}}function g(e){try{history.replaceState(null,null,v())}catch(e){console.warn(e)}}function v(){return location.href.split("#")[0]}!function(){d.apply(this,arguments)}()},{"../sync/sync_item":573,"../sync_api":575,"../viewer/viewer":602,"./annotation_model":441,"./annotation_position":442,"./annotation_toolbar":443,"./freehand_toolbar":447,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.split":307,"regenerator-runtime/runtime":420}],441:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.object.values");e("jquery");var r=e("../common/util"),i=e("../common/eventer")({}),o={};i.list=function(){return Object.values(o)},i.hasItem=function(e){return e&&!!o[e.__key]},i.addItem=function(e){return e.__key=r.guid(),o[e.__key]=e,i.trigger("add",[e]),e},i.updateItem=function(e,t){return o[e.__key]?i.trigger("update",[e,t]):console.warn("annotation model: not found",e),e},i.removeItem=function(e){return delete o[e.__key],delete e.__key,i.trigger("remove",[e]),e},Object.defineProperty(i,"isEmpty",{get:function(){return!i.list().length}}),t.exports=i},{"../common/eventer":466,"../common/util":482,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es7.object.values":318,"core-js/modules/web.dom.iterable":321,jquery:400}],442:[function(e,t,n){"use strict";e("core-js/modules/es6.array.map");var r=e("underscore"),i=e("../common/util"),o=e("../viewer/viewer"),a=e("./annotation_helper"),s=.2,c={};function l(e){if(!e.page)return 0;var t=function(e){return"note"==e.type?e.position.y:"freehand"==e.type?r.min(e.paths.map(function(e){return r.min(e,function(e){return e.y}).y})):r.min(e.rects,function(e){return e.top}).top}(e)/e.page.height;return e.page.index+t}function u(e){var t=o.getPage(e.page_start+1),n=function(e,t){if("note"==e.type)return a.fromSyncPoint(e.position,t).y;if("freehand"==e.type){var n=a.fromSyncPaths(e.paths,t);return r.min(n.map(function(e){return r.min(e,function(e){return e.y}).y}))}var i=a.fromSyncRects(e.rects,t);return r.min(i,function(e){return e.top}).top}(e,t)/t.height;return t.index+n}c.getIndex=l,c.scrollTo=function(e){if(i.isMobile)o.gotoPage(e.page.index+1);else{var t=(e.elems||[])[0];if(t&&t.scrollIntoViewIfNeeded)t.scrollIntoViewIfNeeded();else{var n=l(e),r=o.numVisiblePages;o.gotoPage(n-r*s)}}},c.getIndexSync=u,c.scrollToSync=function(e){if(i.isMobile)o.gotoPage(e.page_start+1);else{var t=u(e),n=o.numVisiblePages;o.gotoPage(t-n*s)}},t.exports=c},{"../common/util":482,"../viewer/viewer":602,"./annotation_helper":439,"core-js/modules/es6.array.map":285,underscore:432}],443:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.map");var r=e("jquery"),i=e("underscore"),o=e("tippy.js"),a=e("@fortawesome/fontawesome-svg-core").icon,s=e("../evtbus"),c=e("./annotation_helper"),l=e("./annotation_model"),u=e("../common/eventer"),d=e("../viewer/viewer"),f={classes:["fa-icon toolbar-h-16"]},p={times:e("@fortawesome/pro-light-svg-icons/faTimes").definition,edit:e("@fortawesome/pro-light-svg-icons/faEdit").definition,faStickyNote:e("@fortawesome/pro-light-svg-icons/faStickyNote").definition,trashAlt:e("@fortawesome/pro-light-svg-icons/faTrashAlt").definition},h=u({}),m=r(),g=null,v=i.uniq([].concat(c.COLOR_RANGES.note,c.COLOR_RANGES.highlight,c.COLOR_RANGES.underline,c.COLOR_RANGES.strikethrough)),y='\n  <div class="annotation-toolbar wrfont" attribute="color">\n    <div class="center">\n      <div class="color-picker">\n        '.concat(v.map(function(e){return'\n            <div class="color-btn color-'.concat(e,'" data-color-id="').concat(e,'"">\n              <div class="set-color">\n                <div class="swatch"></div>\n              </div>\n            </div>')}).join(""),'\n      </div>\n    </div>\n    <div class="actions pull-left">\n      <button class="toolbar-btn delete" title="Delete">\n        ').concat(a(p.trashAlt,f).html,'\n      </button>\n      <button class="toolbar-btn add-note" title="Add Note">\n        ').concat(a(p.faStickyNote,f).html,'\n      </button>\n      <button class="toolbar-btn edit-note" title="Edit Note">\n        ').concat(a(p.edit,f).html,'\n      </button>\n    </div>\n    <div class="actions pull-right">\n      <button class="toolbar-btn cancel" title="Close">\n        ').concat(a(p.times,f).html,"\n      </button>\n    </div>\n  </div>");function b(){m.removeAttr("annotation-type"),m.attr("annotation-type",g.type),m.toggleClass("has-note","note"==g.type||!!g.note),m.find(".active").removeClass("active"),m.find(".color-".concat(g.color_id)).addClass("active")}function w(e){g&&(g.editing=!1,g.active=!1),(g=e).active=!0}function _(e){g&&(g.editing=!1,g.active=!1,e&&g.remove()),g=null}function x(e){_(e),m.hasClass("open")&&(m.removeClass("open"),s.trigger("annotation-close"))}d.onInit(function(){if(m.length)return;(m=r(y).appendTo("#viewer-content")).find(".cancel").click(function(){return x()}),m.find(".delete").click(function(){g&&x(!0)}),m.find(".add-note, .edit-note").click(function(){g&&(g.editing=!0)}),m.find(".color-btn").click(function(){g&&(g.color_id=parseInt(r(this).attr("data-color-id")),b())}),m.find("button[title]").each(function(e,t){o(t,{placement:"top"})}),r(document).on("mousedown touchstart",function(e){r(e.target).closest(m[0]).length||r(e.target).closest(".highlight, .strikethrough, .underline, .note-rect").length||x()}),r(window).on("keydown",function(e){27==e.keyCode&&x(),46!=e.keyCode&&8!=e.keyCode||g&&!g.editing&&x(!0)}),l.on("update",function(e,t,n){t===g&&b()}),l.on("remove",function(e,t){t===g&&x()})}),h.open=function(e){w(e),b(),m.addClass("open"),s.trigger("annotation-open")},h.close=x,h.activate=w,h.deactivate=_,t.exports=h},{"../common/eventer":466,"../evtbus":525,"../viewer/viewer":602,"./annotation_helper":439,"./annotation_model":441,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faEdit":31,"@fortawesome/pro-light-svg-icons/faStickyNote":55,"@fortawesome/pro-light-svg-icons/faTimes":57,"@fortawesome/pro-light-svg-icons/faTrashAlt":59,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,jquery:400,"tippy.js":430,underscore:432}],444:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.array.filter"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.for-each");var r=e("underscore"),i=e("../common/eventer")({}),o={},a=null;function s(){a=null,r.values(o).forEach(function(e){e.active&&(a=e.type)}),i.trigger("change")}i.register=function(e){o[e.id]||(o[e.id]=e,e.on("end",s),e.on("begin",function(){var t;t=e.id,Object.keys(o).filter(function(e){return e!=t}).forEach(function(e){return o[e].stop()}),s()}))},Object.defineProperty(i,"activeCtrl",{get:function(){return a}}),t.exports=i},{"../common/eventer":466,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.keys":298,"core-js/modules/es6.object.to-string":299,"core-js/modules/web.dom.iterable":321,underscore:432}],445:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.function.bind");var r=e("jquery"),i=e("underscore"),o=e("snapsvg"),a=e("color"),s=e("../common/util"),c=e("../common/number"),l=e("../common/eventer"),u=e("../common/browser"),d=e("./annotation_helper"),f=e("./annotation_model"),p=2,h={color_id:5},m=i.debounce(f.updateItem.bind(f),2e3);function g(e,t){var n=this;l(this),this._data=s.merge(function(e){return{id:s.guid(),created:s.dateISO(),renderer:"pdfjs",type:"freehand",paths:[[]],page_start:e.index-1,color_id:h.color_id,stroke_width:[p],stroke_opacity:1}}(t),e),this._page=t,this._paths=d.fromSyncPaths(this._data.paths,this._page),this._strokePath=function(e,t,n){var i=function(e){var t=e.eventable.find("svg.freehand-canvas");if(t.length)return t;var n=e.width,i=e.height;return r('\n    <svg xmlns="http://www.w3.org/2000/svg" class="freehand-canvas"\n         xmlns:xlink="http://www.w3.org/1999/xlink"\n         x="0px" y="0px" width="'.concat(n,'px" height="').concat(i,'px"\n         viewBox="0 0 ').concat(n," ").concat(i,'">\n  ')).appendTo(e.eventable)}(n),a=o(i[0]),c=s.merge({fill:"none",stroke:d.COLORS[h.color_id],"stroke-width":p,"stroke-linejoin":"round","stroke-linecap":"round","pointer-events":"none"},{stroke:d.COLORS[t.color_id],"stroke-width":t.stroke_width[0],"stroke-opacity":t.stroke_opacity});return a.path(b(e)).attr(c)}(this._paths,this._data,this._page),this._inputId=s.guid(),this._editing=!1,this._active=!1,this._dirtyPaths=!1,this._selectPath=this._strokePath.clone().attr({"input-id":this._inputId,"stroke-opacity":0,"stroke-width":24,"pointer-events":"stroke",cursor:"pointer"}).click(function(){return r(n).trigger("click")}).mousedown(!1);this._selectPath.drag(function(e,t,r,i,o){if(o.which>1)return!1;e/=n._page.scale,t/=n._page.scale,[n._selectPath,n._strokePath].forEach(function(n){var r=n.data("origTransform")+(n.data("origTransform")?"T":"t")+[e,t];n.attr({transform:r})})},function(e,t,r){if(r.which>1)return!1;[n._selectPath,n._strokePath].forEach(function(e){e.data("origTransform",e.transform().local)}),u.IEish||n._selectPath.attr("cursor","grabbing")},function(e){if(e.which>1)return!1;var t=n._selectPath.transform().localMatrix;n._movePaths(t.e,t.f),u.IEish||n._selectPath.attr("cursor","pointer")})}function v(e){var t=parseFloat(e.x),n=parseFloat(e.y);return"M".concat(t.toFixed(d.PRECISION),",").concat(n.toFixed(d.PRECISION))}function y(e){var t=parseFloat(e.x),n=parseFloat(e.y);return"L".concat(t.toFixed(d.PRECISION),",").concat(n.toFixed(d.PRECISION))}function b(e){var t="";return(e||[]).forEach(function(e){1==e.length?(t+=v(e[0]),t+=y(e[0])):e.length>1&&e.forEach(function(e,n){t+=n?y(e):v(e)})}),t}g.prototype={_setColorId:function(e){if(e=parseInt(e),isNaN(e))return!1;if(e==this._data.color_id)return!1;this._data.color_id=e;var t=d.COLORS[this._data.color_id];return this._selectPath.attr("stroke",t),this._strokePath.attr("stroke",t),!0},_setLineWidth:function(e){return e=parseFloat(e),!isNaN(e)&&((e=c.round10(e,-2))!=this._data.stroke_width[0]&&(this._data.stroke_width[0]=e,this._strokePath.attr("stroke-width",e),!0))},_setStrokeOpacity:function(e){return e=parseFloat(e),!isNaN(e)&&((e=c.round10(e,-2))!=this._data.stroke_opacity&&(this._data.stroke_opacity=e,this._strokePath.attr("stroke-opacity",e),!0))},_setPaths:function(e){if(i.isEqual(e,this._paths))return!1;this._paths=e,this._data.paths=d.toSyncPaths(this._paths,this._page);var t=b(this._paths);return this._strokePath.attr("d",t),this._selectPath.attr("d",t),this._strokePath.transform("t0,0"),this._selectPath.transform("t0,0"),this._dirtyPaths=!0},_updatePaths:function(){!this.editing&&this._dirtyPaths&&(m(this,{paths:this._data.paths}),this._dirtyPaths=!1)},_movePaths:function(e,t){this.paths=this._paths.map(function(n){return n.map(function(n){return{x:n.x+e,y:n.y+t}})})},get id(){return this._data.id},get userId(){return this._data.user_id},get inputId(){return this._inputId},get created(){return this._data.created},get modified(){return this._data.modified},get type(){return this._data.type},get page(){return this._page},get active(){return this._active},set active(e){this._data&&(e=!!e)!=this._active&&(this._active=e,this._selectPath.attr("stroke-opacity",this._active?.125:0),this.trigger(this._active?"select":"deselect"))},get editing(){return this._editing},set editing(e){this._data&&(this._editing=!!e,this._updatePaths())},get color_id(){return this._data.color_id},set color_id(e){this._setColorId(e)&&f.updateItem(this,{color_id:this._data.color_id})},get color(){return a.rgb(d.COLORS[this._data.color_id]).fade(1-this._data.stroke_opacity)},get width(){return this._data.stroke_width[0]},set width(e){this._setLineWidth(e)&&f.updateItem(this,{stroke_width:this._data.stroke_width})},get opacity(){return this._data.stroke_opacity},set opacityPreview(e){this._setStrokeOpacity(e)},set opacity(e){this._setStrokeOpacity(e),f.updateItem(this,{stroke_opacity:this._data.stroke_opacity})},get empty(){return!b(this._paths).length},get paths(){return this._paths},set paths(e){this._setPaths(e),f.hasItem(this)?this._updatePaths():f.addItem(this)},print:function(e,t,n){e.save(),e.strokeStyle=a.rgb(d.COLORS[this._data.color_id]).fade(1-this._data.stroke_opacity),e.lineWidth=this._data.stroke_width[0]*n,e.lineJoin="round",e.lineCap="round",e.beginPath(),(this._paths||[]).forEach(function(t){(t||[]).forEach(function(t,r){var i=r?"lineTo":"moveTo",o=c.round10(t.x*n,-d.PRECISION),a=c.round10(t.y*n,-d.PRECISION);e[i](o,a)})}),e.stroke(),e.restore()},destroy:function(){this._selectPath.remove(),this._strokePath.remove(),this._paths=null,this._page=null,this._data=null},remove:function(){f.removeItem(this),this.destroy()},update:function(e,t){var n=s.objDiff(this._data,e);i.isEmpty(n)||(n.color_id&&this._setColorId(e.color_id),n.paths&&this._setPaths(d.fromSyncPaths(e.paths,t)),this._data=Object.assign({},e),f.updateItem(this,n))},serialize:function(){return Object.assign({},this._data)}},g.add=function(e,t){var n=new g(e,t);return n.empty||f.addItem(n),n},g.deserialize=function(e,t){return f.addItem(new g(e,t))},g.stub=function(e){return{_data:s.merge({stroke_opacity:1,stroke_width:[p],color_id:h.color_id},e),get type(){return"stub"},get active(){return!1},set active(e){},get color_id(){return this._data.color_id},set color_id(e){if(e=parseInt(e),isNaN(e))return!1;this._data.color_id=e},get color(){return a.rgb(d.COLORS[this._data.color_id]).fade(1-this._data.stroke_opacity)},get width(){return this._data.stroke_width[0]},set width(e){if(e=parseFloat(e),isNaN(e))return!1;this._data.stroke_width[0]=c.round10(e,-2)},get opacity(){return this._data.stroke_opacity},set opacity(e){if(e=parseFloat(e),isNaN(e))return!1;this._data.stroke_opacity=c.round10(e,-2)},print:function(){},destroy:function(){},remove:function(){},serialize:function(){return this._data}}},t.exports=g},{"../common/browser":461,"../common/eventer":466,"../common/number":471,"../common/util":482,"./annotation_helper":439,"./annotation_model":441,color:174,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.map":285,"core-js/modules/es6.function.bind":291,"core-js/modules/es6.object.assign":295,jquery:400,snapsvg:427,underscore:432}],446:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.object.assign");var r=e("jquery"),i=e("underscore"),o=e("./freehand_toolbar"),a=e("./freehand"),s=e("./ctrl_manager"),c=e("../viewer/viewer"),l=e("../viewer/input_handler"),u=e("../common/util"),d=e("../common/getkey"),f=e("../common/eventer"),p=e("../evtbus"),h=e("../user"),m=1,g=12,v="freehand-overlay",y=4,b=!1,w=null,_=null,x=[],k=f({});function j(e,t){l.addRef(e),t&&o.open(e),e.on("click",function(){return o.open(e)})}function C(e,t){if(t.index!=d("page.index",_)){S();var n=h.id,s=w.serialize();_=a.add(Object.assign({user_id:n},s),t)}var c=[],l=[],f=e,p={x:-1/0,y:-1/0},m=_.editing=!0,g=i.once(j);function v(e){e.handled||(e.handled=!0,e.preventDefault(),f=u.getEvtPosition(e))}function b(e){if(isNaN(e.x)||isNaN(e.y))_.paths=x.slice();else{!function(e){l.push(e);for(;l.length>y;)l.shift()}(t.doc2page(e));var n=k(0);if(n){c.push(n);for(var r=[],i=2;i<l.length;i+=2)n=k(i),r.push(n);x.splice(-1,1,c.concat(r)),_.paths=x.slice()}}}function k(e){var t=l.length;if(t%2==1||t>=y){var n,r,i=0,o=0,a=0;for(r=e;r<t;r++)a++,i+=(n=l[r]).x,o+=n.y;return{x:i/a,y:o/a}}return null}x.push(c),o.enableUndo(!0),document.body.addEventListener("mousemove",v,{passive:!1}),document.body.addEventListener("touchmove",v,{passive:!1}),r(document).one("mouseup touchend touchcancel",function e(t){r(document).off("mouseup touchend touchcancel",e);document.body.removeEventListener("mousemove",v,{passive:!1});document.body.removeEventListener("touchmove",v,{passive:!1});b(u.getEvtPosition(t.originalEvent));m=_.editing=!1;g(_);return!1}),function e(){if(!m)return;f.x==p.x&&f.y==p.y||(p.x=f.x,p.y=f.y,b(p));requestAnimationFrame(e)}()}function E(){x.length&&_&&(x.pop(),_.paths=x.slice()),x.length||o.enableUndo(!1)}function S(){o.enableUndo(!1),_=null,x=[]}function T(){S(),c.elem.addClass("drawpath"),c.eachPage(function(e,t){e.elem.find(".".concat(v)).remove(),e.eventable&&e.elem.append('<div class="'.concat(v,'" data-idx="').concat(t,'"></div>'))}),b=!0,w=w||a.stub(),o.open(w),k.trigger("begin")}function O(){c.elem.removeClass("drawpath"),c.eachPage(function(e){e.elem.find(".".concat(v)).remove()}),b=!1,o.close(),k.trigger("end")}r(function(){r(document).on("mousedown touchstart",function(e){if(b&&!(e.which>1)){var t=r(e.target);t.hasClass("".concat(v))&&(e.preventDefault(),e.stopImmediatePropagation(),C(u.getEvtPosition(e),function(e){return c.getPage(parseInt(e.attr("data-idx")))}(t)))}}),o.on("stroke-width stroke-color stroke-opacity",S),o.on("stroke-smoothness",function(e,t){y=Math.round(m+t*(g-m)),S()}),o.on("undo",E),p.on("freehand-close",O),p.on("annotation-open",O),s.register(k)}),k.initEvents=j,k.toggle=function(){b?O():T()},k.start=T,k.stop=O,Object.defineProperty(k,"id",{get:function(){return"freehand"}}),Object.defineProperty(k,"type",{get:function(){return"freehand"}}),Object.defineProperty(k,"active",{get:function(){return b}}),t.exports=k},{"../common/eventer":466,"../common/getkey":469,"../common/util":482,"../evtbus":525,"../user":586,"../viewer/input_handler":591,"../viewer/viewer":602,"./ctrl_manager":444,"./freehand":445,"./freehand_toolbar":447,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,jquery:400,underscore:432}],447:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.map");var r=e("jquery"),i=e("underscore"),o=e("tippy.js"),a=e("@fortawesome/fontawesome-svg-core").icon,s=e("../evtbus"),c=e("./annotation_helper"),l=e("./annotation_model"),u=e("../common/eventer"),d=e("../viewer/viewer"),f=e("../elements/slider"),p={classes:["fa-icon toolbar-h-16"]},h={palette:e("@fortawesome/pro-regular-svg-icons/faPalette").definition,adjust:e("@fortawesome/pro-duotone-svg-icons/faAdjust").definition,waveSine:e("@fortawesome/pro-regular-svg-icons/faWaveSine").definition,times:e("@fortawesome/pro-light-svg-icons/faTimes").definition,trashAlt:e("@fortawesome/pro-light-svg-icons/faTrashAlt").definition,undo:e("@fortawesome/pro-light-svg-icons/faUndo").definition,lineWeight:e("../icons/lineWeight").definition},m=u({}),g=r(),v=null,y=null,b=null,w="color",_='\n  <div class="annotation-toolbar wrfont" annotation-type="freehand" attribute="'.concat(w,'">\n    <div class="center">\n      <div class="attribute-picker">\n        <button class="toolbar-btn" title="Color" name="color">\n          ').concat(a(h.palette,p).html,'\n        </button><button class="toolbar-btn" title="Line Width" name="line-width">\n          ').concat(a(h.lineWeight,p).html,'\n        </button><button class="toolbar-btn" title="Opacity" name="opacity">\n          ').concat(a(h.adjust,p).html,'\n        </button><button class="toolbar-btn" title="Smoothness" name="smoothness">\n          ').concat(a(h.waveSine,p).html,'\n        </button>\n      </div>\n      <div class="color-picker">\n        ').concat(c.COLOR_RANGES.freehand.map(function(e){return'\n            <div class="color-btn color-'.concat(e,'" data-color-id="').concat(e,'"">\n              <div class="set-color">\n                <div class="swatch"></div>\n              </div>\n            </div>')}).join(""),'\n      </div>\n      <div class="point-picker">\n        ').concat(i.range(1,11).map(function(e){return'\n            <div class="point-btn pt-'.concat(e,'" data-width="').concat(e,'" title="').concat(e,' pt">\n              <div></div>\n            </div>')}).join(""),'\n      </div>\n      <div class="opacity-picker"></div>\n      <div class="smoothness-picker"></div>\n    </div>\n    <div class="actions pull-left">\n      <button class="toolbar-btn delete" title="Delete">\n        ').concat(a(h.trashAlt,p).html,'\n      </button>\n      <button class="toolbar-btn undo" title="Undo" disabled>\n        ').concat(a(h.undo,p).html,'\n      </button>\n    </div>\n    <div class="actions pull-right">\n      <button class="toolbar-btn cancel" title="Close">\n        ').concat(a(h.times,p).html,"\n      </button>\n    </div>\n  </div>");function x(){g.toggleClass("stub","stub"==v.type),g.find(".active").removeClass("active"),g.find(".color-".concat(v.color_id)).addClass("active");var e=Math.min(Math.max(1,v.width),10);g.find(".pt-".concat(e)).addClass("active"),y.set(v.opacity)}function k(){return g.hasClass("open")}function j(e){v&&(v.active=!1),(v=e).active=!0}function C(){v&&(v.active=!1),v=null}function E(){C(),k()&&(g.removeClass("open"),s.trigger("freehand-close"))}d.onInit(function(){if(g.length)return;(g=r(_).appendTo("#viewer-content")).find('.attribute-picker [name="'.concat(w,'"]')).addClass("selected"),g.find(".undo").click(function(){return m.trigger("undo")}),g.find(".cancel").click(function(){return E()}),g.find(".delete").click(function(){v.remove(),E()}),g.find(".color-btn").click(function(){v.color_id=parseInt(r(this).attr("data-color-id")),m.trigger("stroke-color",[v.color]),x()}),g.find(".point-btn").click(function(){v.width=parseFloat(r(this).attr("data-width")),m.trigger("stroke-width",[v.width]),x()}),(y=f({container:g.find(".opacity-picker"),min:0,max:1,valueStr:function(e,t){return"".concat(Math.round(100*t),"%")}})).on("slide",function(e,t){return v.opacityPreview=t}),y.on("slide-end",function(){v.opacity=parseFloat(y.get()),m.trigger("stroke-opacity",[v.opacity])}),(b=f({container:g.find(".smoothness-picker"),min:0,max:1,valueStr:function(e,t){return"".concat(Math.round(100*t),"%")}})).on("slide-end",function(){m.trigger("stroke-smoothness",[parseFloat(b.get())])});var e=g.find(".attribute-picker button");e.click(function(){e.removeClass("selected"),r(this).addClass("selected"),g.attr("attribute",w=r(this).attr("name"))}),g.on("mousedown mouseup touchstart touchend",function(e){e.stopImmediatePropagation()}),g.find("[title]").each(function(e,t){o(t,{placement:"top"})}),r(document).on("mousedown",function(e){v&&"stub"==v.type||r(e.target).closest(g[0]).length||r(e.target).closest(".freehand-canvas").length||E()}),r(document).on("touchstart",function(e){r(e.target).closest(g[0]).length||E()}),r(window).on("keydown",function(e){k()&&(27==e.keyCode&&E(),46!=e.keyCode&&8!=e.keyCode||(v&&v.remove(),E()),90==e.keyCode&&(e.metaKey||e.ctrlKey)&&m.trigger("undo"))}),l.on("update",function(e,t,n){t===v&&x()}),l.on("remove",function(e,t){t===v&&E()})}),m.open=function(e){j(e),x(),g.addClass("open"),s.trigger("freehand-open")},m.close=E,m.activate=j,m.deactivate=C,m.enableUndo=function(e){e?g.find(".undo").removeAttr("disabled"):g.find(".undo").attr("disabled","")},t.exports=m},{"../common/eventer":466,"../elements/slider":521,"../evtbus":525,"../icons/lineWeight":531,"../viewer/viewer":602,"./annotation_helper":439,"./annotation_model":441,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-duotone-svg-icons/faAdjust":2,"@fortawesome/pro-light-svg-icons/faTimes":57,"@fortawesome/pro-light-svg-icons/faTrashAlt":59,"@fortawesome/pro-light-svg-icons/faUndo":60,"@fortawesome/pro-regular-svg-icons/faPalette":67,"@fortawesome/pro-regular-svg-icons/faWaveSine":73,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,jquery:400,"tippy.js":430,underscore:432}],448:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("../user"),o=e("../evtbus"),a=e("../common/util"),s=e("../common/eventer"),c=e("../common/browser"),l=e("../viewer/viewer"),u=e("../viewer/input_handler"),d=e("../tracking/tracker"),f=e("./annotation"),p=e("./selection"),h=e("./ctrl_manager"),m=e("./highlight_toolbar"),g=e("./annotation_toolbar"),v=e("./annotation_helper"),y=s({}),b=[],w=!1,_=null;function x(e,t){if(_&&_.range.text()){var n=_.range;_.clear();var r=i.id,o=l.getRangePageIdx(n),a=l.getPage(o);a.restoreTextBounds();var s=m.isOpen?m.colorId:m.colorDefs[e],c=f.add({type:e,color_id:s,user_id:r},a,n);return c.editing=!!t,k(c),d.annotate(e),b.push(c),m.enableUndo(!0),c}}function k(e,t){u.add(e),t&&g.open(e),e.on("click",function(t){e.active?e.editing=!0:(g.open(e),r(t.originalEvent.target).hasClass("note-indicator-elem")&&(e.editing=!0))})}function j(){b.length&&b.pop().remove(),b.length||m.enableUndo(!1)}function C(e){w=!0,b=[],l.elem.addClass("highlight"),m.open(e),y.trigger("begin")}function E(){w=!1,l.elem.removeClass("highlight"),m.close(),y.trigger("end")}l.onInit(function(){var e=null;(_=p(l.elem,function(e){return l.getRangePageIdx(e)})).on("set-selection",function(){if(_.range.text())if((e=l.contentPages.find(function(e){return _.insideElem(e.elem)})).one("replace.selection",_.clear),w)x(m.type,m.addNote);else if(!c.IEish){var t=v.getNormalizedRects(_.range,e),n=r(t.map(function(e){return a.tagFromRect(e)})),i=v.addToFragment(n,"current-selection");e.eventable.append(i)}}),_.on("clear-selection",function(){e&&(e.eventable.find(".current-selection").remove(),e.off("replace.selection"),e=null)}),m.on("undo",j),o.on("highlight-close",E),o.on("annotation-open",E),o.on("freehand-open",E),h.register(y)}),y.annotate=x,y.initEvents=k,y.toggle=function(e){w&&e==m.type?E():C(e)},y.start=C,y.stop=E,Object.defineProperty(y,"id",{get:function(){return"highlight"}}),Object.defineProperty(y,"type",{get:function(){return m.type}}),Object.defineProperty(y,"active",{get:function(){return w}}),t.exports=y},{"../common/browser":461,"../common/eventer":466,"../common/util":482,"../evtbus":525,"../tracking/tracker":585,"../user":586,"../viewer/input_handler":591,"../viewer/viewer":602,"./annotation":437,"./annotation_helper":439,"./annotation_toolbar":443,"./ctrl_manager":444,"./highlight_toolbar":449,"./selection":453,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.define-property":297,jquery:400}],449:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.map");var r=e("jquery"),i=e("underscore"),o=e("tippy.js"),a=e("@fortawesome/fontawesome-svg-core").icon,s=e("../evtbus"),c=e("./annotation_helper"),l=e("../common/template"),u=e("../common/eventer"),d=e("../viewer/viewer"),f={classes:["fa-icon toolbar-h-16"]},p={times:e("@fortawesome/pro-light-svg-icons/faTimes").definition,undo:e("@fortawesome/pro-light-svg-icons/faUndo").definition},h=u({}),m=i.uniq([].concat(c.COLOR_RANGES.highlight,c.COLOR_RANGES.underline,c.COLOR_RANGES.strikethrough)),g={highlight:1,underline:8,strikethrough:5},v={highlight:!1,underline:!1,strikethrough:!1},y=r(),b="highlight",w=g[b],_=v[b],x='\n  <div class="highlight-toolbar wrfont" annotation-type="'.concat(b,'" attribute="color">\n    <div class="center">\n      <div class="color-picker">\n        ').concat(m.map(function(e){return'\n            <div class="color-btn color-'.concat(e,'" data-color-id="').concat(e,'">\n              <div class="set-color">\n                <div class="swatch"></div>\n              </div>\n            </div>')}).join(""),'\n      </div>\n      <div class="add-note-picker">\n        <input type="checkbox" id="add-note-checkbox" class="styled-checkbox"\n          ').concat(l.if(_,function(){return"checked"}),' small>\n        <label for="add-note-checkbox">Add Note</label>\n      </div>\n    </div>\n    <div class="actions pull-left">\n      <button class="toolbar-btn undo" title="Undo" disabled>\n        ').concat(a(p.undo,f).html,'\n      </button>\n    </div>\n    <div class="actions pull-right">\n      <button class="toolbar-btn cancel" title="Close">\n        ').concat(a(p.times,f).html,"\n      </button>\n    </div>\n  </div>");function k(e){y.attr("annotation-type",b=e),_=v[b],w=g[b],y.find("#add-note-checkbox")[0].checked=!!_,j()}function j(){d.elem.attr("selection-color",w),y.find(".color-picker .active").removeClass("active"),y.find(".color-picker .color-".concat(w)).addClass("active")}function C(e){e?y.find(".undo").removeAttr("disabled"):y.find(".undo").attr("disabled","")}function E(){return y.hasClass("open")}function S(e){k(e),E()||(C(!1),y.addClass("open"),d.elem.attr("selection-color",w),s.trigger("highlight-open"))}function T(){E()&&(d.elem.removeAttr("selection-color"),y.removeClass("open"),s.trigger("highlight-close"))}d.onInit(function(){if(y.length)return;(y=r(x).appendTo("#viewer-content")).find(".color-picker .color-".concat(w)).addClass("active"),y.find(".undo").click(function(){return h.trigger("undo")}),y.find(".cancel").click(function(){return T()}),y.find(".color-btn").click(function(){w=parseInt(r(this).attr("data-color-id")),g[b]=w,j()}),y.find("#add-note-checkbox").change(function(){_=this.checked,v[b]=_}),y.find("[title]").each(function(e,t){o(t,{placement:"top"})}),r(window).on("keydown",function(e){E()&&90==e.keyCode&&(e.metaKey||e.ctrlKey)&&h.trigger("undo")})}),h.open=S,h.close=T,h.toggle=function(){E()?T():S()},h.enableUndo=C,Object.defineProperty(h,"type",{get:function(){return b}}),Object.defineProperty(h,"colorId",{get:function(){return w}}),Object.defineProperty(h,"addNote",{get:function(){return _}}),Object.defineProperty(h,"isOpen",{get:function(){return E()}}),Object.defineProperty(h,"colorDefs",{get:function(){return g}}),t.exports=h},{"../common/eventer":466,"../common/template":478,"../evtbus":525,"../viewer/viewer":602,"./annotation_helper":439,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faTimes":57,"@fortawesome/pro-light-svg-icons/faUndo":60,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.define-property":297,jquery:400,"tippy.js":430,underscore:432}],450:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign");var r=e("jquery"),i=e("underscore"),o=e("autosize"),a=e("scrollparent"),s=e("../common/util"),c=e("../common/eventer"),l=e("./annotation_helper"),u=e("./annotation_model"),d=3,f=100;function p(e,t){var n=this;c(this),this._data=s.merge(function(e){return{id:s.guid(),created:s.dateISO(),renderer:"pdfjs",type:"note",color_id:1,note:"",page_start:e.index-1,position:[e.width/2,e.height/2]}}(t),e),this._position=l.fromSyncPoint(this._data.position,t),this._inputId=s.guid(),this._active=!1,this._editing=!1,this._elem=r('\n    <div class="note wrfont color-'.concat(this._data.color_id,'">\n      <div class="note-rect" input-id="').concat(this._inputId,'"></div>\n    </div>\n  ')).css("transform",h(this._position)),this._addEditable(),this._setPage(t),this._initDraggable(),this._elem.on("click",function(e){n._elem.hasClass("drag")?n._elem.removeClass("drag"):n.trigger("click",[e])})}function h(e){var t=e.x.toFixed(l.PRECISION),n=e.y.toFixed(l.PRECISION);return"translate3d(".concat(t,"px, ").concat(n,"px, 0px)")}p.prototype={_setPage:function(e){return!!e&&(e!==this._page&&(this._page=e,this._data.page_start=e.index-1,this._elem.appendTo(this._page.eventable),!0))},_setPosition:function(e){return!!e&&((e.x!=this._position.x||e.y!=this._position.y)&&(this._position.x=e.x,this._position.y=e.y,this._data.position=l.toSyncPoint(this._position,this._page),this._elem[0].style.transform=h(this._position),!0))},_setColorId:function(e){return e=parseInt(e),!isNaN(e)&&(e!=this._data.color_id&&(this._elem.removeClass("color-".concat(this._data.color_id)),this._editable.removeClass("color-".concat(this._data.color_id)),this._data.color_id=e,this._editable.addClass("color-".concat(this._data.color_id)),this._elem.addClass("color-".concat(this._data.color_id)),!0))},_setNote:function(e){return e!=this._data.note&&(this._data.note=e,this._editable.val()!=this._data.note&&this._editable.val(this._data.note),!0)},_initDraggable:function(){var e=this;if(!s.isMobile){var t=this,n=0,i=0,o=!1,a=!1,c={x:this._position.x,y:this._position.y};this._elem.on("mousedown touchstart",function(u){e._elem.removeClass("drag");var f=s.getEvtPosition(u);function p(e){if(a&&t._elem&&!e.handled){e.handled=!0,e.stopImmediatePropagation(),e.preventDefault();var r=s.getEvtPosition(e),c=r.x-n,u=r.y-i;(o=(o=o||Math.abs(c)>=d)||Math.abs(u)>=d)&&(t._position=t._page.doc2page(r),t._data.position=l.toSyncPoint(t._position,t._page),n=r.x,i=r.y,t._elem.hasClass("drag")||(t._elem.addClass("drag"),t.trigger("dragstart",[r])))}}a=!0,n=f.x,i=f.y,document.body.addEventListener("mousemove",p,{passive:!1}),document.body.addEventListener("touchmove",p,{passive:!1}),r(document).add(e._elem).one("mouseup touchend touchcancel",function e(n){r(document).add(this._elem).off("mouseup touchend touchcancel",e);document.body.removeEventListener("mousemove",p,{passive:!1});document.body.removeEventListener("touchmove",p,{passive:!1});a=!1;o=!1;t._elem&&!t._elem.hasClass("drag")||t.trigger("dragend",[s.getEvtPosition(n)])}),function t(){a&&(e._position.x==c.x&&e._position.y==c.y||(c.x=e._position.x,c.y=e._position.y,e._elem[0].style.transform=h(e._position)),requestAnimationFrame(t))}()})}},_addEditable:function(){this._editable=o(r('\n      <textarea\n        class="note-editable wrfont color-'.concat(this._data.color_id,'"\n        placeholder="Type to add note..."\n        spellcheck="false"></textarea>\n    '))).val(this._data.note),this._editable.on("mousedown mouseup touchstart",function(e){e.stopImmediatePropagation()})},get id(){return this._data.id},get userId(){return this._data.user_id},get inputId(){return this._inputId},get created(){return this._data.created},get modified(){return this._data.modified},get type(){return this._data.type},get note(){return this._data.note},get elems(){return this._elem||r()},get page(){return this._page},get position(){return this._position},get editing(){return this._editing},set editing(e){var t=this;if(this._data&&(e=!!e)!=this._editing)if(this._editing=e){var n=this._elem[0].getBoundingClientRect(),i={x:n.left+n.width/2,y:n.top},s=r(a(this._elem[0])),c=s.offset();c.top-=s.scrollTop(),c.left-=s.scrollLeft(),this._editable.css({left:i.x-c.left,top:i.y-c.top}),this._editable.one("focusout",function(){return t.editing=!1}),this._editable.appendTo(s),o.update(this._editable),l.horizontalAdjust(this._editable,s),this._editable.focus()}else this._editable.detach(),this._setNote(this._editable.val())&&u.updateItem(this,{note:this._data.note})},get active(){return this._active},set active(e){this._data&&(e=!!e)!=this._active&&(this._active=e,this._elem.toggleClass("active",this._active),this._active&&this._elem.css("z-index",++f),this.trigger(this._active?"select":"deselect"))},get color_id(){return this._data.color_id},set color_id(e){this._setColorId(e)&&u.updateItem(this,{color_id:this._data.color_id})},get currentText(){return this._editable.val()},moveTo:function(e,t){var n={};this._setPage(e)&&(n.page_start=this._data.page_start),this._setPosition(t),n.position=this._data.position,u.updateItem(this,n)},print:function(){},destroy:function(){this._elem.remove(),this._editable.remove(),this._page=null,this._data=null,this._editable=null,this._elem=null},remove:function(){u.removeItem(this),this.destroy()},update:function(e,t){var n=s.objDiff(this._data,e);i.isEmpty(n)||(n.page_start&&this._setPage(t),n.position&&this._setPosition(l.fromSyncPoint(e.position,t)),n.color_id&&this._setColorId(e.color_id),n.note&&this._setNote(e.note),this._data=Object.assign({},e),u.updateItem(this,n))},serialize:function(){return Object.assign({},this._data)}},p.add=function(e,t){return e=s.merge(e,{position:l.toSyncPoint(e.position,t)}),u.addItem(new p(e,t))},p.deserialize=function(e,t){return u.addItem(new p(e,t))},t.exports=p},{"../common/eventer":466,"../common/util":482,"./annotation_helper":439,"./annotation_model":441,autosize:165,"core-js/modules/es6.object.assign":295,jquery:400,scrollparent:424,underscore:432}],451:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.map");var r=e("jquery"),i=e("@fortawesome/fontawesome-svg-core").icon,o=e("../evtbus"),a=e("./annotation_helper"),s=e("../common/eventer"),c=e("../viewer/viewer"),l={times:e("@fortawesome/pro-light-svg-icons/faTimes").definition},u=s({}),d=r(),f=1,p='\n  <div class="highlight-toolbar wrfont" annotation-type="'.concat("note",'" attribute="color">\n    <div class="center">\n      <div class="color-picker">\n        ').concat(a.COLOR_RANGES.note.map(function(e){return'\n            <div class="color-btn color-'.concat(e,'" data-color-id="').concat(e,'">\n              <div class="set-color">\n                <div class="swatch"></div>\n              </div>\n            </div>')}).join(""),'\n      </div>\n    </div>\n    <div class="actions pull-right">\n      <button class="toolbar-btn cancel" title="Close">\n        ').concat(i(l.times,{classes:["fa-icon toolbar-h-16"]}).html,"\n      </button>\n    </div>\n  </div>");function h(){return d.hasClass("open")}function m(e){h()||(d.addClass("open"),o.trigger("note-add-open"))}function g(){h()&&(d.removeClass("open"),o.trigger("note-add-close"))}c.onInit(function(){if(d.length)return;(d=r(p).appendTo("#viewer-content")).find(".color-picker .color-".concat(f)).addClass("active"),d.find(".cancel").click(function(){return g()}),d.find(".color-btn").click(function(){f=parseInt(r(this).attr("data-color-id")),d.find(".color-picker .active").removeClass("active"),d.find(".color-picker .color-".concat(f)).addClass("active")})}),u.open=m,u.close=g,u.toggle=function(){h()?g():m()},Object.defineProperty(u,"colorId",{get:function(){return f}}),t.exports=u},{"../common/eventer":466,"../evtbus":525,"../viewer/viewer":602,"./annotation_helper":439,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faTimes":57,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.define-property":297,jquery:400}],452:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("../user"),o=e("../evtbus"),a=e("../common/util"),s=e("../common/eventer"),c=e("../viewer/viewer"),l=e("../viewer/input_handler"),u=e("../tracking/tracker"),d=e("./annotation_toolbar"),f=e("./note_add_toolbar"),p=e("./ctrl_manager"),h=e("./note"),m=s({}),g="addnote-overlay",v=[],y=!1;function b(e,t){l.addRef(e),t&&d.open(e),e.on("click",function(){e.active?e.editing=!0:d.open(e)});var n=null;e.on("dragstart",function(){(n=e.page).elem.addClass("note-drag"),c.elem.addClass("drag-active")}),e.on("dragend",function(t,r){n.elem.removeClass("note-drag"),c.elem.removeClass("drag-active"),e.page&&(n=c.closestPage(r),e.moveTo(n,n.doc2page(r)),e.active||d.open(e))})}function w(e){if(!e){var t=c.elem[0].getBoundingClientRect();e={x:t.left+t.width/2,y:t.top+t.height/2}}var n=i.id,r=c.closestPage(e),o=r.doc2page(e),a=f.colorId,s=h.add({position:o,color_id:a,user_id:n},r);return d.open(s),s.editing=!0,b(s),u.note(),s}function _(){v=[],c.elem.addClass("addnote"),c.eachPage(function(e,t){e.elem.find(".".concat(g)).remove(),e.eventable&&e.elem.append('<div class="'.concat(g,'" data-idx="').concat(t,'"></div>'))}),y=!0,f.open(),m.trigger("begin")}function x(){c.elem.removeClass("addnote"),c.eachPage(function(e){e.elem.find(".".concat(g)).remove()}),y=!1,f.close(),m.trigger("end")}r(function(){r(document).on("mousedown touchstart",function(e){y&&(e.which>1||r(e.target).hasClass("".concat(g))&&(e.preventDefault(),e.stopImmediatePropagation(),v.push(w(a.getEvtPosition(e)))))}),o.on("note-add-close",x),o.on("annotation-open",x),o.on("freehand-open",x),p.register(m),r(window).on("keydown",function(e){90==e.keyCode&&(e.metaKey||e.ctrlKey)&&function(){if(v.length){var e=v.pop();e.currentText||e.remove()}}()})}),m.initEvents=b,m.toggle=function(){y?x():_()},m.start=_,m.stop=x,m.add=w,Object.defineProperty(m,"id",{get:function(){return"notes"}}),Object.defineProperty(m,"type",{get:function(){return"notes"}}),Object.defineProperty(m,"active",{get:function(){return y}}),t.exports=m},{"../common/eventer":466,"../common/util":482,"../evtbus":525,"../tracking/tracker":585,"../user":586,"../viewer/input_handler":591,"../viewer/viewer":602,"./annotation_toolbar":443,"./ctrl_manager":444,"./note":450,"./note_add_toolbar":451,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.define-property":297,jquery:400}],453:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("../common/util"),o=e("../common/eventer");t.exports=function(e,t){e=r(e||document.body),t=t||function(){return!0};var n=o({}),a="current-selection",s=null,c=null;function l(){if(!c)return r();var e=c.commonAncestorContainer;return e.nodeType==Node.TEXT_NODE&&(e=e.parentNode.parentNode),r(e).find("."+a)}function u(e){try{e.removeAllRanges()}catch(e){}}function d(){l().removeClass(a),u(i.rangy.getSelection()),n.trigger("clear-selection")}function f(e){var t=i.rangy.getSelection();return!t.isCollapsed&&!!r.contains(e[0],t.anchorNode)&&!!r.contains(e[0],t.focusNode)}return r(document).on("mousedown.selection",function(r){r.which>1||(f(e)&&d(),e.one("mouseup.selection",function(r){if(!(r.which>1))return f(e)&&function(e){var r=i.rangy.createClassApplier(a),o=i.rangy.getSelection(),l=o.getAllRanges()[0];return t(l)?(s=i.guid(),c=l,r.applyToRange(c),o.setSingleRange(c),n.trigger("set-selection",[{position:{x:e.pageX,y:e.pageY},range:c}]),!0):(u(o),!1)}(r)?(e.one("click.selection",!1),!1):void 0}))}),n.clear=d,n.insideElem=f,Object.defineProperty(n,"inputId",{get:function(){return s}}),Object.defineProperty(n,"klass",{get:function(){return a}}),Object.defineProperty(n,"elems",{get:function(){return l()}}),Object.defineProperty(n,"range",{get:function(){return c?c.cloneRange():i.rangy.createRange()}}),n}},{"../common/eventer":466,"../common/util":482,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.define-property":297,jquery:400}],454:[function(e,t,n){"use strict";var r={production:"c940ea0703828ead4745629146c021da",staging:"bf6138a7d35159129ccf0117fef1ce95",development:"bf6138a7d35159129ccf0117fef1ce95"}[e("./environment").get()];t.exports={ga:"UA-19582843-2",trackjs:"4587af51bbb542afbbc9d93bf9567159",altmetric:"190e62ffe743e9fc44da8419f01ade8f",uservoice:"H9jSrH2fJST0D33BtNfyOA",mixpanel:r}},{"./environment":524}],455:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.regexp.constructor"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.reduce"),e("core-js/modules/es6.array.filter");var r=e("jquery"),i=e("./common/getkey"),o=e("./common/eventer"),a=e("./article_helper"),s=e("./reader_api"),c=o({}),l={meta:{},citations:[],references:[],supplements:[],videos:[],figures:[]},u=null,d=null,f=null;function p(){return!!c.download_url||!!c.data.pdf}function h(){return p()||!!i("data.access",c)}function m(){return p()?"full":g()?"shared":h()&&"feed_token"==c.accessMethod?"cloud":h()&&"purchase"==c.accessMethod?{1:"rental",2:"cloud"}[c.data.purchase_tier]:"preview"}function g(){return h()&&/(?:sharing|referrer|author)_token/.test(c.accessMethod)}c.basedata=function(e){return e&&(u=a.normPublisher(e),c.isSupplement&&(u=a.normSupplement(u)),c.trigger("base",[u])),new Promise(function(e){u?e(u):c.one("base",function(){return e(u)})})},c.metadata=function(e){return e&&(e=Object.assign({},l,e),d=a.transformMeta(e),c.trigger("meta",[d])),new Promise(function(e){d?e(d):c.one("meta",function(){return e(d)})})},c.fulldata=function(e){return e&&(f=e,c.trigger("full",[f])),new Promise(function(e){f?e(f):c.one("full",function(){return e(f)})})},c.fulltext=function e(){return e.result?Promise.resolve(e.result):s.fulltext?new Promise(function(n){s.fulltext().then(function(r){r&&r.length&&n(e.result=t(r))})}):new Promise(function(n){(c.data.text_url?Promise.resolve(c.data.text_url):new Promise(function(e){c.fulldata().then(function(t){t.text_url&&e(t.text_url)})})).then(function(i){r.get(i,function(r){r&&r.length&&n(e.result=t(r))})})});function t(e){return e.split("\f").filter(function(e){return e.length})}},c.isPublisher=function(e){return e instanceof RegExp?e.test(c.data.publisher):e===c.data.publisher},Object.defineProperty(c,"data",{get:function(){return Object.assign({},l,u,d,f)}}),Object.defineProperty(c,"isShared",{get:function(){return g()}}),Object.defineProperty(c,"isSupplement",{get:function(){return!!c.data.type}}),Object.defineProperty(c,"isPdfSupplement",{get:function(){return/^pdf$/i.test(c.data.type)}}),Object.defineProperty(c,"hasAccess",{get:function(){return h()}}),Object.defineProperty(c,"hasFullAccess",{get:function(){return p()}}),Object.defineProperty(c,"accessType",{get:function(){return m()}}),Object.defineProperty(c,"accessMethod",{get:function(){return c.data.access_method}}),Object.defineProperty(c,"hasVideos",{get:function(){return d.supplements.filter(function(e){return"video"==e.type}).length>0}}),Object.defineProperty(c,"hasCitations",{get:function(){return d.citations.reduce(function(e,t){return e+t.length},0)>0}}),Object.defineProperty(c,"download_url",{get:function(){return a.downloadUrl(c.data)}}),Object.defineProperty(c,"print_url",{get:function(){return a.printUrl(c.data)}}),Object.defineProperty(c,"doi",{get:function(){return a.doi(c.data)}}),window.article=c,t.exports=c},{"./article_helper":456,"./common/eventer":466,"./common/getkey":469,"./reader_api":565,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.reduce":286,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.constructor":301,"core-js/modules/es6.regexp.split":307,jquery:400}],456:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.array.index-of");var r=e("underscore"),i=e("parse-uri"),o=e("./router"),a=e("./web/proxy_host");t.exports={doi:function(e){return e.doi||e.meta.doi},downloadUrl:function(e){return e.pdf_url||e.download_url||e.url},printUrl:function(e){return e.print_url||e.viewer_pdf},normType:function(e){return e?-1!=(e=e.toLowerCase()).indexOf("video")?"video":0==e.indexOf("vnd.")?-1!=e.indexOf("word")?"doc":-1!=e.indexOf("excel")||-1!=e.indexOf("sheet")?"xls":-1!=e.indexOf("powerpoint")||-1!=e.indexOf("presentation")?"ppt":"type":e:"supplement"},normFigure:function(e,t){return e.index=t,e.description=e.caption,e.caption="Figure "+(t+1),e},normSupplement:function(e,t){return e.access_method="official_supplement",e.type=this.normType(e.type),e.caption=e.caption||"Supplement ".concat(e.index+1),e},normReference:function(e,t){return/wiley|cochrane/i.test(t)?e.badge=e.label||e.ordinal:e.badge=e.ordinal||e.label,e},normPublisher:function(e){return o.params.publisher&&(e.publisher=o.params.publisher),/iucr/i.test(e.publisher)&&(e.publisher="wiley"),e},normSpringerUrls:function(e){return/springer/i.test(e.publisher)&&(e.meta.url="https://doi.org/".concat(this.doi(e))),e},normWileyUrls:function(e){if(!/wiley/i.test(e.publisher))return e;var t=this.doi(e).replace("#","%23"),n="https://onlinelibrary.wiley.com";if(o.parent){var r=i(o.parent);n="".concat(r.protocol,"://").concat(r.host)}return e.meta.url="".concat(n,"/doi/full/").concat(t),e.meta.pdf_url="".concat(n,"/doi/pdf/").concat(t),e},proxyUrl:function(e,t){return e&&a(t)?e.replace(i(e).host,a(t)):e},retainProxyUrls:function(e){return e.meta.url?/ieee/i.test(e.publisher)||(e.meta.url=this.proxyUrl(e.meta.url,e.meta.publisher),e.meta.pdf_url=this.proxyUrl(e.meta.pdf_url,e.meta.publisher)):e.meta.url="https://doi.org/".concat(this.doi(e)),e},transformMeta:function(e){var t=this;if(e.meta=this.normPublisher(e.meta),e=this.normSpringerUrls(e),e=this.normWileyUrls(e),(e=this.retainProxyUrls(e)).meta.doi||(e.meta.doi=e.doi),e.figures&&(e.figures=r.map(e.figures,function(e,n){return t.normFigure(e,n)})),e.supplements){var n=r.map(e.supplements,function(e,n){return t.normSupplement(e,n)});e.videos=n.filter(function(e){return/^video$/i.test(e.type)})||[],e.videos=e.videos.map(function(e,t){return Object.assign(e,{index:t})}),e.supplements=n.filter(function(e){return!/^video$/i.test(e.type)})||[]}return e.references&&(e.references=r.map(e.references,function(n){return t.normReference(n,e.meta.publisher)})),e}}},{"./router":567,"./web/proxy_host":637,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.regexp.replace":305,"parse-uri":404,underscore:432}],457:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.string.trim"),e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.array.index-of"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.regexp.replace");var r=e("jquery"),i=e("../common/util"),o=e("../common/eventer"),a=e("../common/range_serializer"),s=e("../annotations/annotation_helper");function c(e,t,n){o(this),this._klass="enhanced-".concat(t.type),this._id=i.guid(),this._page=e,this._range=n,this._data=i.merge(t,{rects:s.getNormalizedRects(n,e)}),this._addEventable(),this._addDrawable()}c.prototype={_isNumericReference:function(){if("reference"!=this._data.type)return!1;var e=this._data.text;return e=(e=e.replace(/[\s\[\]\(\)]/g,"")).replace(/[–-]/g,","),/^(\d{1,3},)*\d{1,3}$/.test(e)},_getDrawableKlass:function(){return this._isNumericReference()?"enhanced-rectangle-draw":"enhanced-underline-draw"},_getElems:function(e){return r(e.map(function(e){return i.tagFromRect(e)}))},_addDrawable:function(){var e=this._getElems(this._data.rects),t=this._getDrawableKlass(),n=s.addToFragment(e,t);(e=r(n).children()).length>1&&e.each(function(t){0==t?r(this).addClass("leftmost"):t==e.length-1?r(this).addClass("rightmost"):r(this).addClass("middle")}),this._drawableElems=e,this._page.drawable.append(n)},_addEventable:function(){var e=this,t=this._getElems(this._data.rects),n="".concat(this._klass," ").concat(this.id),i=s.addToFragment(t,n);this._eventableElems=r(i).children().on({"mouseenter.citation":function(){e._drawableElems.addClass("hover")},"mouseleave.citation":function(){e._drawableElems.removeClass("hover")},"open.popover.citation":function(){e._drawableElems.addClass("active")},"close.popover.citation":function(){e._drawableElems.removeClass("active")}}),this._page.eventable.append(i)},_removeEventable:function(){this._eventableElems.remove(),this._eventableElems=null},_removeDrawable:function(){this._drawableElems.remove(),this._drawableElems=null},get id(){return this._id},get inputId(){return this._id},get klass(){return this._klass},get elems(){return this._eventableElems||r()},get type(){return this._data.type},get data(){return i.clone(this._data)},get range(){return this._range.cloneRange()},get page(){return this._page},destroy:function(){this._removeEventable(),this._removeDrawable(),this._range=null,this._page=null,this._data=null}},c.deserialize=function(e,t,n){var r=null,o={container:e.elem,matchFilter:n,matchWeirdCitations:!0,matchTranslits:"author"==t.type,matchCase:"author"==t.type};if(!r&&t.text.match(/^\d{4}$/)&&(r=a.deserialize({prefix:t.prefix.split(/\(|\[|;/g).pop().trim(),text:t.text},i.merge(o,{matchTranslits:!1}))),r||(r=a.deserialize({prefix:t.prefix.split(/\s+|\n/).pop(),text:t.text},o)),!r&&t.text.match(/\d+\s+-\s+\d+/)&&(r=a.deserialize({prefix:t.prefix,text:t.text.replace(/\s+-\s+/g," - - ")},o)),r||(r=a.deserialize({prefix:t.prefix.replace(/(;)/g," $1 "),text:t.text.replace(/(\d+|[a-zA-Z\.]+|,|;)/g," $1 ")},o)),r||(r=a.deserialize(t,i.merge(o,{matchBrokenTxt:!0}))),r||(r=a.deserialize(t,i.merge(o,{insertWhitespace:!0}))),r||"author"!=t.type||(r=a.deserialize(t,i.merge(o,{removeDiacritics:!0}))),r||"author"!=t.type||(r=a.deserialize(t,i.merge(o,{removeDiacritics:!0,matchCase:!1}))),r||(r=a.deserialize(t,i.merge(o,{matchTranslits:!1,matchMisconverted:!0}))),r||(r=a.deserialize(t,i.merge(o,{matchTranslits:!1,matchBrokenSpaces:!0}))),r||(r=a.deserialize(t,i.merge(o,{matchTranslits:!1,matchBrokenDigits:!0}))),!r&&t.prefix.length)for(var s=function(e,t){var n=[];-1!=e.indexOf("'",1)&&(e=e.replace(/\'$/,"’"),n.push(e)),-1!=e.indexOf("”",1)&&(e=e.replace(/\”/,"’’"),n.push(e)),n.push(e.replace(" "," "));for(var r=1;r<e.length-2;r++)n.push(e.substring(0,r)+e.substring(r,e.length).replace(/(.{1})/,"$1-"));return n.push(".”",".","”"),t.match(/^\s*\d{1}\s*$/)||n.push(""),n}(t.prefix,t.text),l=0;l<s.length&&!(r=a.deserialize({prefix:s[l],text:t.text},o));l++);if(!r&&!t.text.match(/^\s*\d{1}\s*$/))for(s=function(e){for(var t=[],n=1;n<e.length-2;n++)t.push(e.substring(0,n)+e.substring(n,e.length).replace(/(.{1})/,"$1-"));return t}(t.text),l=0;l<s.length&&!(r=a.deserialize({prefix:t.prefix,text:s[l]},o));l++);return r?new c(e,t,r):(o.container.children().length&&i.log("* missed citation: ["+t.prefix+"]["+t.text+"]"),null)},t.exports=c},{"../annotations/annotation_helper":439,"../common/eventer":466,"../common/range_serializer":473,"../common/util":482,"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.array.map":285,"core-js/modules/es6.regexp.match":304,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.split":307,"core-js/modules/es6.string.trim":315,jquery:400}],458:[function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),o=e("../common/util"),a=e("../common/eventer"),s=e("../viewer/viewer"),c=e("../elements/popover"),l=e("../viewer/input_handler"),u=e("../templates/citation.tpl"),d=e("../tracking/tracker"),f=e("./citation_model"),p=a({}),h=!1,m={x:0,y:0};function g(e,t){var n=t.left+t.right>>1,r=t.top+t.bottom>>1,i=t.right-t.left>>1,o=t.bottom-t.top>>1,a=Math.max(Math.abs(e.x-n)-i,0),s=Math.max(Math.abs(e.y-r)-o,0);return a*a+s*s}function v(){var e=s.getPage(s.currentIndex);return!(!e||!e.hasText)&&(function(e){e.elem.addClass("animate-enhanced show-enhanced")}(e),setTimeout(function(){!function(e){e.elem.removeClass("show-enhanced"),setTimeout(function(){e.elem.removeClass("animate-enhanced")},1e3)}(e)},1e3),!0)}f.on("add",function(e,t){!function(e){var t=null,n=null,r=e.elems,a=r.first(),f=e.type,v=e.data,y=i.memoize(function(){return u.compile(f,v,"inline_reference")});function b(){setTimeout(function(){var t;c.open({placement:"up",content:(t=y(),t.css({"max-height":.5*s.elem.height()+"px"})),anchor:a,klass:"citation"}),p.trigger("citation-open",[e.type]),d.inline(e.type)},0)}l.add(e),e.on("click",function(){clearTimeout(n),b()}),e.on("mouseenter",function(){h||(t=setTimeout(function(){c.isOpen(a)||(clearTimeout(n),b(),n=setTimeout(function e(){c.isOpen(a)&&(Math.min(g(m,o.getBoundingRect(r)),g(m,o.getBoundingRect(y())))>400?c.close(a):(clearTimeout(n),n=setTimeout(e,1e3)))},1e3),y().one("click",function(){clearTimeout(n)}))},500))}),e.on("mouseleave",function(){clearTimeout(t)})}(t)}),f.on("remove",function(e,t){!function(e){l.remove(e)}(t)}),s.onInit(function(){r(window).on("keydown.citation-drawer",function(e){e.metaKey||e.ctrlKey||82==e.keyCode&&v()}),r(document).one("mousemove.citation-drawer",function(){r(document).on("mousemove.citation-drawer",function(){v()&&r(document).off("mousemove.citation-drawer")})}),r(document).on("mousedown",function(){h=!0,r(document).one("mouseup",function(){h=!1})}),r(document).on("mousemove",function(e){m={x:e.pageX,y:e.pageY}})}),t.exports=p},{"../common/eventer":466,"../common/util":482,"../elements/popover":517,"../templates/citation.tpl":576,"../tracking/tracker":585,"../viewer/input_handler":591,"../viewer/viewer":602,"./citation_model":459,jquery:400,underscore:432}],459:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.for-each");var r=e("jquery"),i=e("../common/util"),o=e("../common/eventer"),a=e("../article"),s=e("../viewer/viewer"),c=e("./citation"),l=o({}),u={},d={};function f(e,t){"author"==t.type?t=i.merge(t,{search:h(t)}):"figure"==t.type?t.figures=r.map(t.ids,function(e){return u.figures[e-1]}):(t.references=r.map(t.ids,function(e){return u.references[e-1]}),t.hide_badges=!!u.meta.hide_reference_labels);var n=c.deserialize(e,t,function(e){return function(t){var n=function(e){return[e.startNode.textContent,e.startNodeIndex.toString(),e.endNode.textContent,e.endNodeIndex.toString()].join("-")}(t);if(!d[e.index]||!d[e.index][n])return!0;for(var r=0;r<d[e.index][n].length;r++)if(p(t,d[e.index][n][r]))return!1;return!0}}(e));n&&(!function(e,t){var n=(r=t.range,[r.startContainer.textContent,r.startOffset.toString(),r.endContainer.textContent,r.endOffset.toString()].join("-"));var r;d[e.index]||(d[e.index]={});d[e.index][n]||(d[e.index][n]=[]);d[e.index][n].push(t.range)}(e,n),l.trigger("add",[n]))}function p(e,t){return!!t.startContainer.isEqualNode(e.startNode)&&(!!t.endContainer.isEqualNode(e.endNode)&&t.equals(function(e){var t=i.rangy.createRange();return t.setStart(e.startNode,e.startNodeIndex),t.setEnd(e.endNode,e.endNodeIndex),t}(e)))}function h(e){var t=[];return"nature"==u.meta.publisher&&t.push({provider:"NPG Journals",url:"https://www.nature.com/search?"+r.param({author_match:"all",author:e.standard_name})}),t.concat([{provider:"PubMed",url:"http://www.ncbi.nlm.nih.gov/pubmed/?"+r.param({term:e.standard_name+"[Author]"})},{provider:"Google Scholar",url:"http://scholar.google.com/scholar?"+r.param({as_q:"",as_sauthors:e.text})}])}!function(){if(i.isMobile)return;s.onInit(function(){a.metadata().then(function(e){(u=e).citations.forEach(function(e,t){var n=s.getPage(t+1);n&&n.onLoaded().then(function(){var t=i.timer.tic();e.forEach(function(e){return f(n,e)}),i.log("citations(".concat(n.index,") duration: ").concat(i.timer.toc(t)," ms"))})})}),s.eachPage(function(e){e.one("replace",function(e,t){var n=i.timer.tic();d[t.index]={},u.citations.find(function(e,n){return n+1==t.index}).forEach(function(e){return f(t,e)}),i.log("citations(".concat(t.index,") duration: ").concat(i.timer.toc(n)," ms"))})})})}(),t.exports=l},{"../article":455,"../common/eventer":466,"../common/util":482,"../viewer/viewer":602,"./citation":457,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.map":285,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.to-string":308,jquery:400}],460:[function(e,t,n){"use strict";e("core-js/modules/es6.date.now"),e("core-js/modules/es6.array.for-each");var r=e("./util"),i={},o=[];setInterval(function(){o.forEach(function(e){Date.now()>=e.time_utc&&!r.docHidden()&&(e.time_utc=1/0,e.handler())})},1e3),i.add=function(e,t){if("function"==typeof e&&!(parseInt(t)<=Date.now()))return o.push({handler:e,time_utc:t})},i.remove=function(e){isNaN(e=parseInt(e))||e<1||e>o.length||(o[e-1].time_utc=1/0)},t.exports=i},{"./util":482,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.date.now":288}],461:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.index-of");var r={info:e("detect-browser").detect(),get Firefox(){return"undefined"!=typeof InstallTrigger},get IE(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},get Edge(){return!r.IE&&!!window.StyleMedia},get IEish(){return r.IE||r.Edge},get Chrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},get Safari(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},get OS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?"ios":navigator.appVersion.indexOf("Win")>=0?"windows":navigator.appVersion.indexOf("Mac")>=0?"mac":navigator.appVersion.indexOf("X11")>=0?"unix":navigator.appVersion.indexOf("Linux")>=0?"linux":"unknown"},get iPhoneX(){try{return/iphone/i.test(window.navigator.userAgent)&&812===window.screen.height}catch(e){return!1}}};t.exports=r},{"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.to-string":308,"detect-browser":328}],462:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.number.constructor"),e("core-js/modules/es6.regexp.constructor"),e("core-js/modules/es6.regexp.replace");var r={getItem:function(e){try{return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}catch(e){return null}},setItem:function(e,t,n,r,i,o){try{if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0}catch(e){return!1}},removeItem:function(e,t,n){try{return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)}catch(e){return!1}},hasItem:function(e){try{return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}catch(e){return!1}},keys:function(){try{for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}catch(e){return[]}}};t.exports=r},{"core-js/modules/es6.number.constructor":293,"core-js/modules/es6.regexp.constructor":301,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.split":307}],463:[function(e,t,n){"use strict";e("core-js/modules/es6.array.index-of"),t.exports=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}()},{"core-js/modules/es6.array.index-of":282}],464:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.regexp.split");for(var r=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],i={},o=0;o<r.length;o++)for(var a=r[o].letters.split(""),s=0;s<a.length;s++)i[a[s]]=r[o].base;t.exports={detectGlyph:function(e){return/[^\u0000-\u007E]{1}/.test(e)},remove:function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return i[e]||e})}}},{"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.split":307}],465:[function(e,t,n){"use strict";var r=e("jquery"),i=e("./util"),o=e("./eventer");t.exports=function(e){var t=o({}),n=!1,a={};function s(){r(document).off("mouseup touchend touchcancel",s),document.body.removeEventListener("mousemove",c,{passive:!1}),document.body.removeEventListener("touchmove",c,{passive:!1}),n=!1,t.trigger("drag-end")}function c(e){if(n&&!e.handled){e.handled=!0;var r=i.getEvtPosition(e),o={x:r.x-a.x,y:r.y-a.y};a.x=r.x,a.y=r.y,t.trigger("drag",[o])}}return e.on("mousedown touchstart",function(e){e.stopPropagation(),e.preventDefault(),n=!0;var o=i.getEvtPosition(e);a.x=o.x,a.y=o.y,t.trigger("drag-start"),document.body.addEventListener("mousemove",c,{passive:!1}),document.body.addEventListener("touchmove",c,{passive:!1}),r(document).one("mouseup touchend touchcancel",s)}),t}},{"./eventer":466,"./util":482,jquery:400}],466:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("./getkey");function o(e){var t=Object.getOwnPropertyNames(this).find(function(e){return/^jquery/i.test(e)});return i("".concat(t,".events.").concat(e,".length"),this)||0}t.exports=function(e){return e.on=function(t,n){return r(e).on(t,n)},e.one=function(t,n){return r(e).one(t,n)},e.off=function(t,n){return r(e).off(t,n)},e.trigger=function(t,n){return r(e).trigger(t,n)},e.handlerCount=o,e}},{"./getkey":469,"core-js/modules/es6.array.find":279,jquery:400}],467:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.function.name");var r=/Win/.test(navigator.platform)?"\r\n":"\n";t.exports={LINE_END:r,publisherName:function(e){return{nature:"Nature Publishing Group",wiley:"Wiley Online Library"}[e]},authorName:function(e){var t=(e.name||e).split(" ");return 1==t.length?t[0]:t.pop()+", "+t.join(" ")},articleUrl:function(e){return e.doi?"https://doi.org/".concat(e.doi):null},getKey:function(e){try{return[e.authors[0].name.split(/[\s]+/).pop(),e.year,e.title.split(/[,\.\s]+/)[0]].join("").toLowerCase()}catch(t){return e.doi.replace(/[\W]+/g,"")}}}},{"core-js/modules/es6.function.name":292,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.split":307}],468:[function(e,t,n){"use strict";function r(e,t){if(t=t||0,!e[0])throw"findTxt cannot handle zero-length matches";var n=e.index;if(t>0){var r=e[t];if(!r)throw"Invalid capture group";n+=e[0].indexOf(r),e[0]=r}return[n,n+e[0].length,[e[0]]]}e("core-js/modules/es6.array.index-of"),e("core-js/modules/es6.regexp.match"),t.exports=function(e,t,n,i){var o,a=[],s=[],c=function e(t){if(3===t.nodeType)return t.data;var n="";if(t=t.firstChild)do{n+=e(t)}while(t=t.nextSibling);return n}(t);if(!c)return s;if(e.global)for(;o=e.exec(c);)a.push(r(o,i));else(o=c.match(e))&&a.push(r(o,i));return a.length&&(s=function(e,t,n){var r,i,o,a,s=e,c=0,l=[],u=[],d=t.shift();e:for(;;){if(3===s.nodeType&&(!i&&s.length+c>=d[1]?(i=s,a=d[1]-c):r&&u.push(s),!r&&s.length+c>d[0]&&(r=s,o=d[0]-c),c+=s.length),r&&i){var f={startNode:r,startNodeIndex:o,endNode:i,endNodeIndex:a,matchIndex:l.length+1};if(l.push(f),n&&!1===n(f))break;if(s=i,c-=i.length-a,r=null,i=null,u=[],!(d=t.shift()))break}else if(s.firstChild||s.nextSibling){s=s.firstChild||s.nextSibling;continue}for(;;){if(s.nextSibling){s=s.nextSibling;break}if(s.parentNode===e)break e;s=s.parentNode}}if(!n)return l}(t,a,n)),s}},{"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.regexp.match":304}],469:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.array.reduce"),t.exports=function(e,t){return e.split(".").reduce(function(e,t){return e?e[t]:void 0},t||self)}},{"core-js/modules/es6.array.reduce":286,"core-js/modules/es6.regexp.split":307}],470:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.regexp.replace"),t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}},{"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.to-string":308}],471:[function(e,t,n){"use strict";function r(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))}e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.regexp.split");var i={roundToDivide:function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},approximateFraction:function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=e>1?t:e,r=0,i=1,o=1,a=1;;){var s=r+o,c=i+a;if(c>8)break;n<=s/c?(o=s,a=c):(r=s,i=c)}return n-r/i<o/a-n?n===e?[r,i]:[i,r]:n===e?[o,a]:[a,o]},round10:function(e,t){return r("round",e,t)},floor10:function(e,t){return r("floor",e,t)},ceil10:function(e,t){return r("ceil",e,t)}};t.exports=i},{"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.split":307,"core-js/modules/es6.regexp.to-string":308}],472:[function(e,t,n){"use strict";var r=e("underscore"),i=e("../status"),o=e("../evtbus"),a=e("../modals/offline_modal");t.exports={guard:function(e){return r.wrap(e,function(e){return i.onLine?e():a.open()})},wait:function(e){if(i.onLine)return e();o.one("online",function(){return e()})}}},{"../evtbus":525,"../modals/offline_modal":555,"../status":569,underscore:432}],473:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.regexp.constructor");var r=e("jquery"),i=e("./util"),o=e("./rect"),a=e("./findtxt"),s=e("./diacritics"),c=new RegExp;function l(e){var t=i.rangy.createRange();return t.setStart(e.startNode,e.startNodeIndex),t.setEnd(e.endNode,e.endNodeIndex),t}function u(e,t){if(!e.length)return null;if(!t||!t.length)return l(e[0]);for(var n=null,r=0,a=function(e){return function(t){var n=t.nodeType==Node.TEXT_NODE;n&&(t=i.wrapTextNode(t));var r=t.getBoundingClientRect();n&&(t=i.unwrapTextNode(t));for(var a=new o(r.left,r.top,r.width,r.height),s=0;s<e.length;s++)if(a.intersects(e[s]))return!0;return!1}}(t),s=0;s<e.length;s++){var c=l(e[s]),u=c.getNodes([Node.TEXT_NODE,Node.ELEMENT_NODE],a);u.length>r&&(r=u.length,n=c)}return n}t.exports={serialize:function e(t,n,i){var o=t.cloneRange(),a=o.text(),s=a.length,c=s-i;if(c<0){if(o.moveStart("character",c),!r.contains(n[0],o.commonAncestorContainer))return e(t,n,i>>1);a=o.text()}return{text:a.substr(-s),prefix:a.substring(0,a.length-s)}},deserialize:function(e,t){t=r.extend({matchFilter:null,insertWhitespace:!1,removeDiacritics:!1,matchTranslits:!1,matchCase:!1,matchBrokenTxt:!1,matchWeirdCitations:!1,matchMisconverted:!1,matchBrokenSpaces:!1,matchBrokenDigits:!1,boundingRects:null},t);var n=e.text,o=e.prefix;t.insertWhitespace&&(n=n.replace(/\s+/g,"").split("").join(" "),o=o.replace(/\s+/g,"").split("").join(" "));var l=i.regexEscape(n),d=i.regexEscape(o);if(t.removeDiacritics&&(l=s.remove(l)),t.matchTranslits){var f=(l=(l=l.replace(/\\?[—‒–‐-]/gi,".")).replace(/([szc]{1})/gi,"$1[¸ˇ´¨˚`'\"~]? ")).replace(/([aeiou]{1})/gi,".");f.replace(/[^a-z]/gi,"").length>3&&(l=f)}if(t.matchBrokenTxt&&e.text.match(/[a-z]+/i)&&e.text.match(/\d{4}/)&&(l=l.replace(/([a-z0-9]{1})/gi,"(?:$1|[^\\x20-\\x7F]{1})")),t.matchWeirdCitations&&(l=l.replace(/(•|∗ )/gi,"."),d=d.replace(/(\d+)\\\)/,"$1 \\)")),t.matchMisconverted){var p=d.replace(/(ff|fi|fl|[^\x00-\x7F])/gi,"(?:$1|.\\s?.?)"),h=l.replace(/(ff|fi|fl|[^\x00-\x7F])/gi,"(?:$1|.\\s?.?)");p.replace(/\\s/gi,"").replace(/[^a-z]/gi,"").length&&(d=p),h.replace(/\\s/gi,"").replace(/[^a-z]/gi,"").length&&(l=h)}t.matchBrokenDigits&&(l=l.replace(/\d+/g,"(?:[^\\x00-\\x7F]|\\d)+"),d=d.replace(/\d+/g,"(?:[^\\x00-\\x7F]|\\d)+")),t.matchBrokenSpaces&&(l=l.replace(/\s+/g,"(?:[^\\x00-\\x7F]|\\s)+"),d=d.replace(/\s+/g,"(?:[^\\x00-\\x7F]|\\s)+")),l="("+l.replace(/\s+/g,"\\s*")+")",d=d.replace(/\s+/g,"\\s*");var m=(t.matchCase?"":"i")+"g",g=new RegExp(d+"\\s*"+l,m),v=[];try{v=a(g,t.container[0],null,1)}catch(e){return null}t.matchFilter&&(v=r.grep(v,t.matchFilter));var y=u(v,t.boundingRects);return y&&c.test(y.toString())?y:null}}},{"./diacritics":464,"./findtxt":468,"./rect":474,"./util":482,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.constructor":301,"core-js/modules/es6.regexp.match":304,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.split":307,"core-js/modules/es6.regexp.to-string":308,jquery:400}],474:[function(e,t,n){"use strict";function r(e,t,n,r){this.left=parseFloat(e),this.top=parseFloat(t),this.width=parseFloat(n),this.height=parseFloat(r)}r.prototype={get right(){return this.left+this.width},get bottom(){return this.top+this.height}},r.prototype.intersects=function(e){return this.left<=e.left+e.width&&e.left<=this.left+this.width&&this.top<=e.top+e.height&&e.top<=this.top+this.height},r.prototype.distSq=function(e){var t=Math.max(this.left-e.x,0,e.x-this.right),n=Math.max(this.top-e.y,0,e.y-this.bottom);return t*t+n*n},r.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),n=Math.max(this.top+this.height,e.top+e.height);return this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=n-this.top,this},r.prototype.translate=function(e,t){return this.left+=e,this.top+=t,this},r.prototype.scale=function(e,t){return isNaN(parseFloat(t))&&(t=e),this.left*=e,this.width*=e,this.top*=t,this.height*=t,this},r.prototype.clone=function(){return new r(this.left,this.top,this.width,this.height)},t.exports=r},{}],475:[function(e,t,n){"use strict";var r=e("jquery"),i=e("./browser");t.exports=function(){if(i.IE)return{width:16,height:16};var e=r("<p></p>").css({width:"100%",height:"100%"}),t=r("<div></div>").css({position:"absolute",width:"100px",height:"100px",top:"0",left:"0",visibility:"hidden",overflow:"hidden"}).append(e);r(document.body).append(t);var n=e.width(),o=e.height();t.css("overflow","scroll");var a=e.width(),s=e.height();return n==a&&t[0].clientWidth&&(a=t[0].clientWidth),o==s&&t[0].clientHeight&&(s=t[0].clientHeight),t.detach(),{width:n-a,height:o-s}}},{"./browser":461,jquery:400}],476:[function(e,t,n){"use strict";var r=e("underscore"),i={},o={};function a(e){return window[e+"Storage"]}function s(e,t){try{return a(e).getItem(t)}catch(e){return null}}function c(e,t,n){try{return a(e).setItem(t,n)}catch(e){}}function l(e,t){try{return a(e).removeItem(t)}catch(e){}}function u(e){try{return a(e).clear()}catch(e){}}c("local","availability-test",!0),c("session","availability-test",!0),i.get=r.partial(s,"local"),i.set=r.partial(c,"local"),i.remove=r.partial(l,"local"),i.clear=r.partial(u,"local"),i.available=!!s("local","availability-test"),o.get=r.partial(s,"session"),o.set=r.partial(c,"session"),o.remove=r.partial(l,"session"),o.clear=r.partial(u,"session"),o.available=!!s("session","availability-test"),t.exports={local:i,session:o}},{underscore:432}],477:[function(e,t,n){"use strict";t.exports=function(){var e=document.getElementsByTagName("body")[0],t=document.createElement("div");t.style.position="absolute",t.style.visibility="hidden",t.style.fontFamily='"Georgia"',t.innerHTML="PICS",e.appendChild(t),t.style.fontSize="10px";var n=t.offsetWidth;t.style.fontSize="40px";var r=t.offsetWidth;return e.removeChild(t),Math.abs(r/n-4)<.1}},{}],478:[function(e,t,n){"use strict";e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.filter");var r=e("underscore"),i={if:function(e,t){return e?t():""},cls:function(e){return r.filter(r.keys(e),function(t){return!!e[t]}).join(" ")}};t.exports=i},{"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.object.to-string":299,"core-js/modules/web.dom.iterable":321,underscore:432}],479:[function(e,t,n){"use strict";e("core-js/modules/es6.date.now");var r=e("./guid"),i={};t.exports={tic:function(){var e=r();return i[e]=Date.now(),e},toc:function(e){var t=Date.now()-i[e];return delete i[e],t}}},{"./guid":470,"core-js/modules/es6.date.now":288}],480:[function(e,t,n){"use strict";var r=5;function i(e,t){if(!e.translate)return"";var n=e.translate.x.toFixed(r),i=e.translate.y.toFixed(r);return t?"translate3d(".concat(n,"px, ").concat(i,"px, 0)"):"translate(".concat(n,"px, ").concat(i,"px)")}function o(e){return e.scale?"scale(".concat(e.scale.toFixed(r),")"):""}t.exports={getCssTransformOrigin:function(e){return e?"".concat(e.x.toFixed(r),"px ").concat(e.y.toFixed(r),"px 0"):""},getCssTransform:function(e,t){return[i(e,t),o(e)].join(" ")}}},{}],481:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property");var r=e("./eventer"),i=e("./draggable"),o=e("./transform_helper");function a(){return a.svg||(a.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"))}t.exports=function(e){var t=r({}),n=i(e),s={translate:{x:0,y:0},scale:1};function c(n){s.scale=n.scale,s.translate.x=n.x,s.translate.y=n.y,e[0].style.transform=o.getCssTransform(s,!0),n.allowChangeEvent&&t.trigger("change")}function l(e){var t=e.panX,n=void 0===t?0:t,r=e.panY,i=void 0===r?0:r,o=e.originX,l=void 0===o?0:o,u=e.originY,d=void 0===u?0:u,f=e.scaleDiff,p=void 0===f?1:f,h=e.allowChangeEvent,m=void 0!==h&&h,g=a().createSVGMatrix().translate(n,i).translate(l,d).translate(s.translate.x,s.translate.y).scale(p).translate(-l,-d).scale(s.scale);c({allowChangeEvent:m,scale:g.a,x:g.e,y:g.f})}return n.on("drag",function(e,t){l({allowChangeEvent:!0,panX:t.x,panY:t.y})}),t.scaleTo=function(t,n){var r=n.originX,i=void 0===r?0:r,o=n.originY,a=void 0===o?0:o,c=n.allowChangeEvent,u=void 0!==c&&c,d=e[0].getBoundingClientRect();l({allowChangeEvent:u,originX:i-=d.left+d.width/2,originY:a-=d.top+d.height/2,scaleDiff:t/s.scale})},t.setTransform=c,Object.defineProperty(t,"scale",{get:function(){return s.scale}}),t}},{"./draggable":465,"./eventer":466,"./transform_helper":480,"core-js/modules/es6.object.define-property":297}],482:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.symbol"),e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.date.now"),e("core-js/modules/es6.array.index-of"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.string.trim"),e("core-js/modules/es6.array.find"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.date.to-iso-string"),e("core-js/modules/es6.regexp.replace");var i=e("jquery"),o=e("underscore"),a=e("blueimp-md5"),s=(e("parse-uri"),e("./guid")),c=e("./timer"),l=e("./getkey");function u(){return e("../includes/rangy")}function d(){try{return window.self!==window.top}catch(e){return!0}}function f(e,t){var n=e.split("#");return n[0]+=-1==n[0].indexOf("?")?"?":"&",n[0]+=function(e){var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}(t),n.join("#")}var p={log:function(){try{Array.prototype.unshift.call(arguments,"[readcube]"),console.log.apply(console,arguments)}catch(e){}},guid:s,clone:function(e){return i.extend(!0,{},e)},merge:function(){return Array.prototype.splice.call(arguments,0,0,!0,{}),i.extend.apply(i,arguments)},timer:c,chunkArray:function(e,t){e=e.slice();for(var n=[];e.length;)n.push(e.splice(0,t||1));return n},capitalize:function(e){return e.replace(/^\w/,function(e){return e.toUpperCase()})},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},tagFromRect:function(e,t){var n=document.createElement(t||"div");return n.setAttribute("style",["position:absolute","top:"+e.top+"px","left:"+e.left+"px","width:"+e.width+"px","height:"+e.height+"px"].join(";")),n},addCSS:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},getBoundingRect:function(e){for(var t={top:1/0,left:1/0,bottom:-1/0,right:-1/0},n=0;n<e.length;n++){var r=e[n].getBoundingClientRect();t.top=Math.min(t.top,r.top),t.left=Math.min(t.left,r.left),t.bottom=Math.max(t.bottom,r.bottom),t.right=Math.max(t.right,r.right)}return t.width=t.right-t.left,t.height=t.bottom-t.top,t},wrapTextNode:function(e,t){var n=document.createElement(t||"span");return e.parentNode.insertBefore(n,e),n.appendChild(e),n},unwrapTextNode:function(e){var t=e.firstChild;return e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),t},getElems:function(e){var t=e.commonAncestorContainer;t.nodeType==Node.TEXT_NODE&&(t=t.parentNode.parentNode);var n=s();return u().createClassApplier(n).applyToRange(e),i(t).find("."+n).removeClass(n)},getEvtPosition:function(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:{x:e.pageX,y:e.pageY}},docHidden:function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]},arrayToHash:function(e){var t={};if(!e)return t;for(var n=0;n<e.length;n++)t[e[n].id]=e[n];return t},hashToArray:function(e){var t=[];if(!e)return t;for(var n in e)t.push(e[n]);return t},pickDefined:function(e,t){return o.pick(o.pick(e,t||o.keys(e)),function(e){return void 0!==e})},obj2key:function(e){return a(JSON.stringify(e))},dateISO:function(e){return void 0===e?(new Date).toISOString():new Date(e).toISOString()},objDiff:function e(t,n){var r={};for(var i in t)if(i in n)if(o.isObject(n[i])&&!o.isArray(n[i])){var a=e(t[i],n[i]);o.isEmpty(a)||(r[i]=a)}else o.isEqual(t[i],n[i])||(r[i]=n[i]);for(var s in n)s in t||(r[s]=n[s]);return r},getInnerRect:function(e){var t=getComputedStyle(e[0]),n=e[0].getBoundingClientRect(),r=function(e){return{top:parseFloat(e.paddingTop),right:parseFloat(e.paddingRight),bottom:parseFloat(e.paddingBottom),left:parseFloat(e.paddingLeft)}}(t),i=function(e){return{top:parseFloat(e.borderTop),right:parseFloat(e.borderRight),bottom:parseFloat(e.borderBottom),left:parseFloat(e.borderLeft)}}(t),o=r.top+i.top,a=r.right+i.right,s=r.bottom+i.bottom,c=r.left+i.left;return{top:n.top+o,left:n.left+c,bottom:n.bottom-s,right:n.right-a,width:n.width-c-a,height:n.height-o-s}},hasTransparentText:function(e){var t=!1;return e.each(function(){if((n=this).textContent&&/[^\s]/.test(n.textContent)&&(e=i(this).css("color"),/transparent|rgba\(.+,\s?0\)/.test(e)))return t=!0,!1;var e,n}),t},pdfjsInfo:function(e,t){return"PDF "+e.fingerprint+" ["+t.info.PDFFormatVersion+" "+(t.info.Producer||"-").trim()+" / "+(t.info.Creator||"-").trim()+"] (PDF.js: "+(pdfjsLib.version||"-")+(pdfjsLib.disableWebGL?"":" [WebGL]")+")"},isArrayBuffer:function(e){return"object"===r(e)&&null!==e&&void 0!==e.byteLength},ellipsis:function(e,t){return(e=e||"").length<=t?e:e.substr(0,t)+"..."},getScript:function(e){return new Promise(function(t,n){i.ajax({url:e,cache:!0,dataType:"script"}).done(t).fail(n)})},getStyle:function(e){return new Promise(function(t,n){i("<link>",{rel:"stylesheet",type:"text/css",href:e}).on("load",t).on("error",n).appendTo("head")})},notifyParent:function(e,t){window.parent&&window.parent.postMessage(Object.assign({},t,{type:e}),"*")},redirectOrPost:function(e,t){d()?window.parent.postMessage({type:"redirect",url:e},"*"):location.href=e},ensureImg:function(e){e.complete&&e.naturalWidth||(e.src=f(e.src,{__t:Date.now()}))},reload:function(){d()?location.href=f(location.href,{reloaded:1}):location.reload()}};Object.defineProperty(p,"rangy",{get:function(){return u()}}),Object.defineProperty(p,"isLandscape",{get:function(){return window.innerWidth>window.innerHeight}}),Object.defineProperty(p,"isRetina",{get:function(){return window.devicePixelRatio>1||!(!window.matchMedia||!window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)}}),Object.defineProperty(p,"isElectron",{get:function(){return l("process.type")}}),Object.defineProperty(p,"isMobile",{get:function(){return l("browser_data.browser_mobile")}}),Object.defineProperty(p,"isBot",{get:function(){return l("browser_data.browser_bot")}}),Object.defineProperty(p,"isSmallScreen",{get:function(){return Math.min(window.innerWidth,window.innerHeight)<=568}}),Object.defineProperty(p,"mobileSupported",{get:function(){return l("browser_data.mobile_browser_supported")}}),t.exports=p},{"../includes/rangy":538,"./getkey":469,"./guid":470,"./timer":479,"blueimp-md5":167,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.date.now":288,"core-js/modules/es6.date.to-iso-string":289,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.split":307,"core-js/modules/es6.string.trim":315,"core-js/modules/es6.symbol":316,"core-js/modules/es7.symbol.async-iterator":320,"core-js/modules/web.dom.iterable":321,jquery:400,"parse-uri":404,underscore:432}],483:[function(e,t,n){"use strict";e("./includes/modernizr");var r=e("underscore"),i=e("./common/util"),o=[["flexbox","flexboxlegacy"],"fontface","backgroundsize","borderradius","boxshadow","opacity","rgba","textshadow","cssgradients","csstransforms","csstransitions","hashchange","history","video","postmessage","svg"];t.exports=r.memoize(function(){if(i.isMobile&&!i.mobileSupported)return i.log("browser is mobile"),{result:!1,message:"mobile_browser"};if(i.isBot)return{result:!0,message:"bot"};for(var e=0;e<o.length;e++){var t=o[e];if("string"!=typeof t){for(var n=!1,r=0;r<t.length;r++)if(Modernizr[t[r]]){n=!0;break}if(!n)return i.log("browser does not support "+t.join(" or ")),{result:!1,message:"old_browser"}}else if(!Modernizr[t])return i.log("browser does not support "+t),{result:!1,message:"old_browser"}}return{result:!0,message:"ok"}})},{"./common/subpixelfont_test":477,"./common/util":482,"./includes/modernizr":537,underscore:432}],484:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.sort"),e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.map");var r=e("jquery"),i=e("tippy.js"),o=e("@fortawesome/fontawesome-svg-core").icon,a=e("./notes_helper"),s=e("../user"),c=e("../evtbus"),l=e("../common/eventer"),u=e("../common/template"),d=e("../elements/select"),f=e("../sync/sync_item"),p=e("../annotations/annotation_model"),h=e("../annotations/annotation_position"),m=e("../annotations/annotation_toolbar"),g=e("../annotations/freehand_toolbar"),v={classes:["fa-icon item-button toolbar-h-16"]},y={edit:e("@fortawesome/pro-light-svg-icons/faEdit").definition,signature:e("@fortawesome/pro-solid-svg-icons/faSignature").definition,faStickyNote:e("@fortawesome/pro-light-svg-icons/faStickyNote").definition,trashAlt:e("@fortawesome/pro-light-svg-icons/faTrashAlt").definition},b=l({}),w={predicate:"position",direction:"descending"},_={position:function(e){return-h.getIndex(e)},modified:a.annotationModified,created:a.annotationCreated},x={descending:-1,ascending:1},k='\n  <div>\n    <h4>You have no annotations.</h4>\n    <div class="tip">\n      Click the <em>Annotate</em> button in the top menu bar to show the annotation menu or right click selected text in the document to display annotation options.<br/><br/>You can highlight, underline and strikethrough text, add notes and you can draw with a pen. All the annotations you create will be listed here in this panel.\n    </div>\n  </div>',j='\n  <div class="sort-options">\n    <div class="sort-order">\n      <label>Order by:</label>\n      <select id="predicate">\n        <option value="position">Position</option>\n        <option value="modified">Modified</option>\n        <option value="created">Created</option>\n      </select>\n    </div>\n    <div class="sort-direction">\n      <label>Direction:</label>\n      <select id="direction">\n        <option value="descending">Descending</option>\n        <option value="ascending">Ascending</option>\n      </select>\n    </div>\n  </div>';function C(){return p.list()}function E(e){return e.filter(function(e){return/^highlight|underline|strikethrough|note|freehand$/.test(e.type)})}function S(){var e=C();return e=function(e){return e.sort(function(e,t){return _[w.predicate](e)<_[w.predicate](t)?-1*x[w.direction]:_[w.predicate](e)>_[w.predicate](t)?1*x[w.direction]:0})}(e=E(e))}b.get=S,b.render=function(){var e=r("<div></div>"),t=S(),n=function(e){if(!e.length)return!1;if(!f.collection)return!1;if(!f.collection.users)return!1;for(var t=0;t<e.length;t++)if(e[t].userId!=s.id)return!0;return!1}(t);return e.html(0==t.length?k:[j,t.map(function(e,t){return function(e,t,n){var r,i,s="created"==w.predicate?a.annotationCreated:a.annotationModified,c=a.formatDateTime(s(e)),l=n?(r=e.userId,(i=f.collection.users.find(function(e){return e.id==r}))?i.name:"Anonymous"):null;switch(e.type){case"highlight":case"underline":case"strikethrough":return function(e,t,n,r){return'\n    <div class="note-item color-'.concat(e.color_id,'" idx="').concat(t,'">\n      <div class="note-info">\n        ').concat(u.if(r,function(){return"<em>".concat(r,"</em><br/>")}),"\n        <time>").concat(n,"</time>\n      </div>\n      ").concat(o(y.trashAlt,v).html,"\n      ").concat(e.note?o(y.edit,v).html:o(y.faStickyNote,v).html,'\n      <div class="note-highlight">').concat(a.breaksToSpaces(e.text),"</div>\n      ").concat(u.if(!!e.note,function(){return'<div class="note-text">'.concat(e.note,"</div>")}),"\n    </div>")}(e,t,c,l);case"note":return function(e,t,n,r){return'\n    <div class="note-item color-'.concat(e.color_id,'" idx="').concat(t,'">\n      <div class="note-info">\n        ').concat(u.if(r,function(){return"<em>".concat(r,"</em><br/>")}),"\n        <time>").concat(n,"</time>\n      </div>\n      ").concat(o(y.trashAlt,v).html,"\n      ").concat(o(y.edit,v).html,'\n      <div></div>\n      <div class="note-rect"></div>\n      ').concat(u.if(e.note,function(){return'<div class="note-text">'.concat(e.note,"</div>")}),"\n    </div>")}(e,t,c,l);case"freehand":return function(e,t,n,r){return'\n    <div class="note-item color-'.concat(e.color_id,'" idx="').concat(t,'">\n      <div class="note-info">\n        ').concat(u.if(r,function(){return"<em>".concat(r,"</em><br/>")}),"\n        <time>").concat(n,"</time>\n      </div>\n      ").concat(o(y.trashAlt,v).html,'\n      <div class="freehand-text">\n        ').concat(o(y.signature,{classes:["fa-icon freehand-drawing"]}).html,"\n        <span>").concat(e.paths.length," Line").concat(e.paths.length>1?"s":"","</span>\n      </div>\n    </div>")}(e,t,c,l);default:return""}}(e,t,n)}).join("")].join("")),e.find('#predicate > option[value="'.concat(w.predicate,'"]')).attr("selected",""),e.find('#direction > option[value="'.concat(w.direction,'"]')).attr("selected",""),e.find("#predicate").change(function(e){w.predicate=e.target.value,b.trigger("sort")}),e.find("#direction").change(function(e){w.direction=e.target.value,b.trigger("sort")}),e.find(".note-item").click(function(){var e=t[parseInt(r(this).attr("idx"))];e&&e.type&&("freehand"==e.type?g.open(e):m.open(e),h.scrollTo(e),c.trigger("viewer:shrink-to-width"))}),e.find(".note-item .fa-trash-alt").click(function(e){var n=parseInt(r(this).parent().attr("idx"));return t[n].remove(),!1}),e.find("\n    .note-item .fa-sticky-note,\n    .note-item .fa-edit\n  ").click(function(e){var n=parseInt(r(this).parent().attr("idx"));return t[n].editing=!0,!1}),e.find("i[title]").each(function(e,t){i(t,{placement:"top",distance:5})}),d(e.find(".sort-options")),e},Object.defineProperty(b,"count",{get:function(){return E(C()).length}}),t.exports=b},{"../annotations/annotation_model":441,"../annotations/annotation_position":442,"../annotations/annotation_toolbar":443,"../annotations/freehand_toolbar":447,"../common/eventer":466,"../common/template":478,"../elements/select":518,"../evtbus":525,"../sync/sync_item":573,"../user":586,"./notes_helper":498,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faEdit":31,"@fortawesome/pro-light-svg-icons/faStickyNote":55,"@fortawesome/pro-light-svg-icons/faTrashAlt":59,"@fortawesome/pro-solid-svg-icons/faSignature":77,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.array.sort":287,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.define-property":297,jquery:400,"tippy.js":430}],485:[function(e,t,n){"use strict";var r=e("../common/util");t.exports=r.isMobile?e("./mobile_nav"):e("./desktop_nav")},{"../common/util":482,"./desktop_nav":490,"./mobile_nav":495}],486:[function(e,t,n){"use strict";e("promise.prototype.finally").shim();var r=e("jquery"),i=e("@fortawesome/fontawesome-svg-core").icon,o=e("../article"),a=(e("../reader_api"),e("../common/util")),s=e("../viewer/viewer"),c=e("../components/app_nav"),l=e("../tracking/tracker"),u={classes:["fa-icon icon-h-16"]},d={externalLink:e("@fortawesome/pro-light-svg-icons/faExternalLinkSquare").definition};function f(){l.linkout("publisher"),setTimeout(function(){return a.redirectOrPost(o.data.meta.url)},100)}s.onInit(function(){o.metadata().then(function(e){if(e.meta.url&&e.meta.publisher)if(a.isMobile)c.add({id:"article_page",icon:d.externalLink,title:"Article Page",onclick:f});else r('\n      <a class="publisher-linkout wrfont" href="'.concat(e.meta.url,'" target="_blank">\n        <span class="doi">').concat(o.doi,"</span><br/>\n        <span>View Article Page</span>\n        ").concat(i(d.externalLink,u).html,"\n      </a>\n    ")).prependTo("#viewer-content").on("dragstart",!1).click(function(e){e.preventDefault(),f()})})})},{"../article":455,"../common/util":482,"../components/app_nav":485,"../reader_api":565,"../tracking/tracker":585,"../viewer/viewer":602,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faExternalLinkSquare":33,jquery:400,"promise.prototype.finally":409}],487:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.string.trim"),e("core-js/modules/es6.array.map");var r=e("jquery"),i=e("underscore"),o=e("tippy.js"),a=e("@fortawesome/fontawesome-svg-core").icon,s=(e("./notes_helper"),e("../sync/sync_item")),c=e("../elements/popover"),l=e("../evtbus"),u=(e("../common/util"),{classes:["fa-icon far icon-h-12"]}),d={star:e("@fortawesome/pro-light-svg-icons/faStar").definition,flag:e("@fortawesome/pro-light-svg-icons/faFlag").definition,circle:e("@fortawesome/pro-light-svg-icons/faCircle").definition},f={classes:["fa-icon fas icon-h-12"]},p={star:e("@fortawesome/pro-solid-svg-icons/faStar").definition,flag:e("@fortawesome/pro-solid-svg-icons/faFlag").definition,circle:e("@fortawesome/pro-solid-svg-icons/faCircle").definition},h=i.once(function(){return l.trigger("prompt-sync-changes")}),m='\n  <div class="article-rating">\n    <span class="rating" title="Rating">\n      '.concat(i.range(5).map(function(){return'\n          <div class="icon-holder">\n            '.concat(a(d.star,u).html,"\n            ").concat(a(p.star,f).html,"\n          </div>\n        ").trim()}).join(""),'\n    </span>\n    <span class="color icon-holder" title="Color">\n      ').concat(a(d.circle,u).html,"\n      ").concat(a(p.circle,f).html,'\n    </span>\n    <span class="star icon-holder" title="Flag">\n      ').concat(a(d.flag,u).html,"\n      ").concat(a(p.flag,f).html,"\n    </span>\n  </div>"),g={},v=null,y=i.debounce(function(){s.update({user_data:g}).then(w).catch(i.noop).finally(function(){return g={}})},3e3);function b(e){Object.assign(g,e),s.synced?y():h()}function w(){v=r(m),x(s.userProp("rating")),k(s.userProp("color")),j(s.userProp("star")),v.find(".rating .icon-holder").each(function(e){r(this).click(function(){var t=e+1;t==C()&&--t,x(t),t!=s.userProp("rating")&&b({rating:t})})}),v.find(".color").click(function(){var e=r(this),t=r('\n      <div class="color-box">\n        <div class="color-row">\n          '.concat(_(["#fe3018","#fe8e23","#fed12f","#00d127"]),'\n        </div>\n        <div class="color-row">\n          ').concat(_(["#1ea4fc","#fd8afc","#bfbfbf","inherit"]),"\n        </div>\n      </div>\n    "));t.find("svg").click(function(){var t=r(this).attr("color");"inherit"==t&&(t=null),c.close(e),k(t),t!=s.userProp("color")&&b({color:t})}),c.open({content:t,anchor:e,klass:"color-palette",placement:"down"})});var e=v.find(".star");return v.find(".star").click(function(){var t=!e.data("star");j(t),b({star:t})}),v.find("[title]").each(function(e,t){o(t,{delay:[1500,0],duration:100,distance:5})}),v}function _(e){return i.map(e,function(e){var t={attributes:{color:e},styles:{color:e}};return"inherit"==e?a(d.circle,Object.assign(t,u)).html:a(p.circle,Object.assign(t,f)).html}).join("").trim()}function x(e){v.find(".rating").data("rating",e),v.find(".rating .icon-holder").each(function(t){t<e?r(this).attr("full",""):r(this).removeAttr("full")})}function k(e){var t=v.find(".color");t.data("color",e),e?t.css("color",e).attr("full",""):t.css("color","inherit").removeAttr("full")}function j(e){var t=v.find(".star");t.data("star",e),e?t.attr("full",""):t.removeAttr("full")}function C(){return v.find(".rating").data("rating")}t.exports={render:w,get unsynced(){return!i.isEmpty(g)},get value(){return{rating:C(),color:v.find(".color").data("color"),star:v.find(".star").data("star")}}}},{"../common/util":482,"../elements/popover":517,"../evtbus":525,"../sync/sync_item":573,"./notes_helper":498,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faCircle":28,"@fortawesome/pro-light-svg-icons/faFlag":40,"@fortawesome/pro-light-svg-icons/faStar":54,"@fortawesome/pro-solid-svg-icons/faCircle":74,"@fortawesome/pro-solid-svg-icons/faFlag":75,"@fortawesome/pro-solid-svg-icons/faStar":79,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.string.trim":315,"core-js/modules/es7.promise.finally":319,jquery:400,"tippy.js":430,underscore:432}],488:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("underscore"),o=e("query-string"),a=e("../evtbus"),s=e("../article"),c=e("../endpoint"),l=e("../web/access"),u=e("../router"),d=e("../web/client"),f=e("../web/receiver"),p=e("../web/referrer_host"),h=e("../common/util"),m=e("../viewer/viewer"),g=e("../tracking/tracker"),v=r(),y=r(),b='\n  <div class="checkout">\n    <iframe></iframe>\n    <spinner-sq class="loader">\n      <div class="square-spin">\n        <div></div>\n      </div>\n    </spinner-sq>\n  </div>\n';function w(){v.parent().hasClass("checkout-open")||(y[0].contentWindow.location.replace(x()),v.parent().addClass("checkout-open"),g.checkout())}function _(){v.parent().hasClass("checkout-open")&&v.parent().removeClass("checkout-open")}function x(){var e={hide_formats:1,doi:s.doi,client:d.name,client_version:d.version,checkout_referrer:p()};return e=Object.assign(i.pick(u.params,"no_additional_access","tracking_action","purchase_referrer","purchase_site_license","customer_ids"),e),e=i.omit(e,function(e){return null==e}),h.isMobile&&(e.redirect=location.href,e.mobile=1),s.isShared&&(e.show_tiers=3),"".concat(c.web,"/checkout/new?").concat(o.stringify(e))}m.onInit(function(){if(h.isMobile)return void a.on("show-checkout",function(){h.redirectOrPost(x())});if(v.length)return;var e=r(".viewer-root");v=r(b).appendTo(e),y=v.find("iframe"),v.on("transitionend",function(t){e.hasClass("checkout-open")&&a.trigger("viewer:shrink-to-width")}),y.on("load",function(){return v.addClass("loaded")}),f.readcube.on("checkout:new",function(){return v.addClass("loaded")}),l.on("cloudview fullview",_),l.on("preview",w),a.on("show-checkout",w)})},{"../article":455,"../common/util":482,"../endpoint":523,"../evtbus":525,"../router":567,"../tracking/tracker":585,"../viewer/viewer":602,"../web/access":604,"../web/client":617,"../web/receiver":642,"../web/referrer_host":643,"core-js/modules/es6.array.find":279,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.regexp.replace":305,jquery:400,"query-string":413,underscore:432}],489:[function(e,t,n){"use strict";e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.map"),e("promise.prototype.finally").shim();var r=e("jquery"),i=e("underscore"),o=e("../user"),a=e("../status"),s=e("../article"),c=e("../modals/auth_modal"),l=e("../modals/basic_modal"),u=(e("../tracking/tracker"),e("../templates/citation.tpl")),d=e("../reader_api"),f={},p=r("<div></div>"),h={finished:!1,scroll_id:null,promise:null,results:[]};function m(){p.empty(),p.data("finished",h.finished);var e=h.results.map(function(e){return Object.assign({},e,{article_url:e.url,authors:e.authors.map(function(e){return e.short_name||e.name})})});p.append(u.compile("reference",{references:e},"citing_article")),h.finished||p.append('\n      <div class="loading-more">\n        <div class="loader-inner ball-pulse">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    ')}function g(){if(!a.onLine)return Promise.resolve();if(h.finished)return Promise.resolve();if(h.promise)return h.promise;var e=function(e){var t={doi:s.doi,scroll:1,size:30};return e&&(t.scroll_id=e),t}(h.scroll_id);return h.promise=d.metrics(e).then(function(e){e.results&&e.results.length?(h.results=h.results.concat(e.results),h.scroll_id=e.scroll_id):h.finished=!0}).catch(function(){h.finished=!0}).finally(function(){h.promise=null})}f.render=i.memoize(function(){return m(),g().then(function(){h.finished||(m(),function(e){var t=90,n=setInterval(r,1e3);function r(){var r=p.parent();if(r.length){if(r[0].scrollHeight>r[0].offsetHeight&&clearInterval(n),p.data("finished"))return r.off("scroll.infinite"),void clearInterval(n);var i=(r[0].scrollTop+r[0].offsetHeight)/r[0].scrollHeight*100;(i>t||i>=100)&&e()}}p.parent().on("scroll.infinite",i.debounce(r,200))}(function(){g().then(m)}))}),a.on("online",function(){g().then(m)}),p}),f.promptRegister=function(e){if(o.signedIn)e();else{var t=l({title:"Sign in or create account",content:"<p>Please sign in or create a free ReadCube account to view citation data.</p>",buttons:[{text:"Cancel",handler:function(){return t.close()}},{text:"Sign in / Register",primary:!0,handler:function(){t.close(),c.login("metrics_register_prompt").then(e)}}]});t.open()}},t.exports=f},{"../article":455,"../modals/auth_modal":550,"../modals/basic_modal":551,"../reader_api":565,"../status":569,"../templates/citation.tpl":576,"../tracking/tracker":585,"../user":586,"core-js/modules/es6.array.map":285,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,jquery:400,"promise.prototype.finally":409,underscore:432}],490:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.object.assign");var r=e("jquery"),i=e("hammerjs"),o=e("../evtbus"),a=e("../common/eventer"),s=e("../common/util"),c=e("../elements/tabs"),l=e("../viewer/viewer"),u=a({}),d=r('<div class="desktop-nav wrfont"></div>'),f=r('<div class="backdrop anav"></div>').hide(),p={notes:10,thumb_view:20,supplements:30,figures:40,cited_by:50,metrics:60,related:70,references:80,supplement_info:90,export:100},h="";function m(e){e||c.activeId||(e=(c.sorted()[0]||{}).id),e&&(c.activate(e),d.parent().addClass(e),d.parent().removeClass(h),h=e),f.appendTo(d.parent()),d.parent().addClass("desktop-nav-open"),u.trigger("opened")}function g(){return d.parent().hasClass("desktop-nav-open")}function v(){g()&&(d.parent().removeClass("desktop-nav-open ".concat(c.activeId)),f.detach(),u.trigger("closed"))}l.onInit(function(){s.isMobile&&f.show();d.appendTo(".viewer-root"),d.on("transitionend",function(e){g()&&o.trigger("viewer:shrink-to-width")}),c.init(d),new i.Manager(d[0],{inputClass:i.TouchInput,recognizers:[[i.Swipe,{direction:i.DIRECTION_HORIZONTAL}]]}).on("swipeleft",v),f.click(v)}),u.add=function(e){c.add(Object.assign(e,{index:p[e.id]}))},u.remove=function(e){c.remove(e)},u.update=function(){},u.open=m,u.close=v,u.toggle=function(e){g()?v():m(e)},u.addUserCtl=function(e){d.addClass("user-details").prepend(e)},Object.defineProperty(u,"isOpen",{get:function(){return g()}}),Object.defineProperty(u,"activeId",{get:function(){return c.activeId}}),t.exports=u},{"../common/eventer":466,"../common/util":482,"../elements/tabs":522,"../evtbus":525,"../viewer/viewer":602,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,hammerjs:390,jquery:400}],491:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.function.name"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.array.map");var r,i=e("jquery"),o=e("underscore"),a=e("@fortawesome/fontawesome-svg-core").icon,s=e("../evtbus"),c=e("../article"),l=e("../tracking/tracker"),u=e("./app_nav"),d={classes:["fa-icon icon-h-16"]},f={fileExport:e("@fortawesome/pro-light-svg-icons/faFileExport").definition,fileUpload:e("@fortawesome/pro-light-svg-icons/faFileUpload").definition},p="ris",h={ris:{name:"RefMan (.ris)",format:"ris"},bibtex:{name:"BibTeX (.bib)",format:"bib"}};function m(e){var t=i('\n    <div class="content wrfont">\n      <div class="export-content">\n        <p>To save this citation to your reference manager software, please select one of the formats below:</p>\n        '.concat(Object.keys(h).map(function(e){var t=h[e];return'\n            <div class="md-radio">\n              <input id="'.concat(e,'" type="radio" name="g" ').concat(e==p?"checked":"",'>\n              <label for="').concat(e,'">').concat(t.name,"</label>\n            </div>")}).join(""),'\n        <button class="action-btn">\n          ').concat(a(f.fileUpload,d).html,"\n          <span>Export Citation</span>\n        </button>\n      </div>\n    </div>\n  "));return t.find(".md-radio").click(function(){p=i(this).find("input").attr("id"),t.find("input[checked]").removeAttr("checked"),t.find("input#".concat(p)).attr("checked","")}),t.find("button").click(function(){var e=h[p].format;s.trigger("export-citation",[e]),l.exportCitation(e)}),t}r=o.memoize(m),c.metadata().then(function(e){u.add({id:"export",icon:f.fileExport,title:"Export Citation",render:function(){return l.exportOptions(),r(e)}})})},{"../article":455,"../evtbus":525,"../tracking/tracker":585,"./app_nav":485,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faFileExport":36,"@fortawesome/pro-light-svg-icons/faFileUpload":38,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.array.map":285,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.keys":298,"core-js/modules/es6.object.to-string":299,"core-js/modules/web.dom.iterable":321,jquery:400,underscore:432}],492:[function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore");t.exports={render:i.memoize(function(e){return r('\n    <div class="fcr-content">\n      <h1>FCR: <span>'.concat(e.toFixed(2),'</span></h1>\n      <p>The <a target="_blank" href="https://dimensions.freshdesk.com/support/solutions/articles/23000013157-what-is-the-fcr-how-is-it-calculated-">Field Citation Ratio</a> (FCR) indicates the relative citation performance of an article, when compared to similarly-aged articles in its subject area. The FCR is normalized to 1.0 for this selection of articles. An FCR value of more than 1.0 shows that the publication has a higher than average number of citations for its group (defined by its FoR Subject Code, publishing year, and age).</p>\n      <p>Articles that are less than 2 years old do not have an FCR. An article with zero citations has an FCR of 0.</p>\n    </div>\n  '))})}},{jquery:400,underscore:432}],493:[function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),o=e("./app_nav"),a=e("../evtbus"),s=e("../article"),c=e("../common/util"),l=e("../tracking/tracker"),u=e("../elements/figure_viewer"),d=e("../templates/citation.tpl"),f={image:e("@fortawesome/pro-light-svg-icons/faImage").definition},p=r('<div class="content wrfont"></div>');function h(e){var t=s.data.figures;return p.empty(),p.append(d.compile("figure",{figures:t},"figure")),p}s.metadata().then(function(e){if(e.figures&&e.figures.length){var t=i.memoize(h);o.add({id:"figures",icon:f.image,title:"Figures",badge:e.figures.length,render:function(){return l.sidepanel("figures"),t()}}),a.on("open-figure",function(e,t){var n=s.data.figures;c.isMobile?window.open(n[t].url,"_blank"):u.open(t,n,r("#viewer-content"))}),window.addEventListener("online",h)}})},{"../article":455,"../common/util":482,"../elements/figure_viewer":512,"../evtbus":525,"../templates/citation.tpl":576,"../tracking/tracker":585,"./app_nav":485,"@fortawesome/pro-light-svg-icons/faImage":43,jquery:400,underscore:432}],494:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.find");var i=e("jquery"),o=e("underscore"),a=e("tippy.js"),s=e("@fortawesome/fontawesome-svg-core").icon,c=e("./app_nav"),l=e("../status"),u=e("../article"),d=e("../metrics_api"),f=e("../common/util"),p=e("../common/online"),h=e("../tracking/tracker"),m=e("../elements/sidepanel"),g=e("../components/citedby"),v=e("../components/rcr"),y=e("../components/fcr"),b=e("../svg_icons"),w={classes:["fa-icon icon-h-20"]},_={chartLine:e("@fortawesome/pro-light-svg-icons/faChartLine").definition,angleRight:e("@fortawesome/pro-light-svg-icons/faAngleRight").definition},x=i();function k(e){if(x=i('\n    <div class="content wrfont metrics">\n      <div class="badge-container"></div>\n    </div>\n  '),e.altmetric.score?a(i('\n      <a class="badge altmetric"\n        title="View on altmetric.com"\n        href="'.concat(function(e){var t=e.altmetric_id,n=u.data.publisher;return"ats"==n&&(n="atsjournals"),"https://".concat(n,".altmetric.com/details/").concat(t)}(e.altmetric),'" target="_blank">\n        <div class="badge-img-bg"></div>\n        <img src="').concat(e.altmetric.images.large,'" alt/>\n        <div class="label">Altmetric</div>\n      </a>\n    ')).appendTo(x.find(".badge-container"))[0]):x.addClass("no-altmetric"),e.dimensions.times_cited){a(i('\n      <a class="badge dimensions"\n        title="View on dimensions.ai"\n        href="'.concat("https://badge.dimensions.ai/details/id/".concat(u.data.meta.dimensions_id),'" target="_blank">\n        <div class="badge-img-bg"></div>\n        <img src="').concat((r=e.dimensions.times_cited,o=220,"https://badge.dimensions.ai/badge?count=".concat(r,"&size=").concat(o,"&background=fill")),'" alt/>\n        <div class="label">Dimensions</div>\n      </a>\n    ')).appendTo(x.find(".badge-container"))[0]);var t={online:"View full list of citations",offline:"You need to be online to view the full list of citations"},n=i('\n      <div class="metrics-btn" title="'.concat(t.online,'">\n        <i class="icon citations">').concat(b.metrics_citations,'</i>\n        <div class="count">').concat(e.dimensions.times_cited,'</div>\n        <div class="label">Citations</div>\n        ').concat(s(_.angleRight,w).html,"\n      </div>\n    ")).click(p.guard(function(){g.promptRegister(function(){m.open({id:"citedby",title:"Citations (".concat(e.dimensions.times_cited,")"),content:g.render()}),h.sidepanel("cited_by")})})).appendTo(x);a(n[0],{placement:"bottom",dynamicTitle:!0,maxWidth:"220px"}),l.on("online",function(){n.removeClass("disabled"),n[0].title=t.online,x.find("img[src]").each(function(e,t){return f.ensureImg(t)})}),l.on("offline",function(){n.addClass("disabled"),n[0].title=t.offline})}var r,o;if(e.dimensions.recent_citations){var c=i('\n      <div class="metrics-btn disabled"\n        title="The number of citations in the last two years">\n        <i class="icon recent-citations">'.concat(b.metrics_recent_citations,'</i>\n        <div class="count">').concat(e.dimensions.recent_citations,'</div>\n        <div class="label">Recent citations</div>\n      </div>\n    ')).appendTo(x);a(c[0],{placement:"bottom",maxWidth:"220px"})}if(e.dimensions.relative_citation_ratio){var d=i('\n      <div class="metrics-btn" title="Click for more information">\n        <i class="icon rcr">'.concat(b.metrics_rcr,'</i>\n        <div class="count">').concat(e.dimensions.relative_citation_ratio.toFixed(2),'</div>\n        <div class="label">Relative Citation Ratio</div>\n        ').concat(s(_.angleRight,w).html,"\n      </div>\n    ")).click(function(){m.open({id:"rcr",title:"RCR",content:v.render(e.dimensions.relative_citation_ratio)}),h.sidepanel("rcr")}).appendTo(x);a(d[0],{placement:"bottom"})}if(e.dimensions.field_citation_ratio){var k=i('\n      <div class="metrics-btn" title="Click for more information">\n        <i class="icon fcr">'.concat(b.metrics_fcr,'</i>\n        <div class="count">').concat(e.dimensions.field_citation_ratio.toFixed(2),'</div>\n        <div class="label">Field Citation Ratio</div>\n        ').concat(s(_.angleRight,w).html,"\n      </div>\n    ")).click(function(){m.open({id:"fcr",title:"FCR",content:y.render(e.dimensions.field_citation_ratio)}),h.sidepanel("rcr")}).appendTo(x);a(k[0],{placement:"bottom"})}return x}function j(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.metadata();case 2:if(u.doi){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,d.metrics(u.doi);case 6:if((t=e.sent).count){e.next=9;break}return e.abrupt("return");case 9:n=o.memoize(function(e){return k(e)}),c.add({id:"metrics",icon:_.chartLine,title:"Metrics",badge:t.count,render:function(){return h.sidepanel("metrics"),n(t)}});case 11:case"end":return e.stop()}},e)}),(j=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}!function(){j.apply(this,arguments)}()},{"../article":455,"../common/online":472,"../common/util":482,"../components/citedby":489,"../components/fcr":492,"../components/rcr":500,"../elements/sidepanel":520,"../metrics_api":543,"../status":569,"../svg_icons":570,"../tracking/tracker":585,"./app_nav":485,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faAngleRight":23,"@fortawesome/pro-light-svg-icons/faChartLine":26,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"regenerator-runtime/runtime":420,"tippy.js":430,underscore:432}],495:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.regexp.split");var r=e("jquery"),i=e("@fortawesome/fontawesome-svg-core").icon,o=e("../article"),a=e("../common/eventer"),s=e("../common/template"),c=e("../viewer/viewer"),l=e("../elements/sidenav"),u={classes:["fa-icon list-h-18"]},d={spinnerThird:e("@fortawesome/pro-solid-svg-icons/faSpinnerThird").definition},f=a({}),p='<div class="slot" idx="1" empty></div>',h=r('\n  <div class="content main-menu wrfont">\n    <div id="metadata" class="group">\n      '.concat(g("Article"),"\n      ").concat(p,'\n    </div>\n    <div id="tools" class="group">\n      ').concat(g("Tools"),"\n      ").concat(p,"\n    </div>\n  </div>\n")),m={supplements:{group:"metadata",index:1},figures:{group:"metadata",index:2},metrics:{group:"metadata",index:3},related:{group:"metadata",index:4},references:{group:"metadata",index:5},notes:{group:"tools",index:1},library:{group:"tools",index:2},export:{group:"tools",index:3},article_page:{group:"tools",index:4},share:{group:"tools",index:5}};function g(e){return'\n    <div class="heading">\n      <span>'.concat(e,"</span>\n      <line></line>\n    </div>")}function v(e){try{return"".concat(e.meta.authors[0].name.split(/[\s]+/).pop()," (").concat(e.meta.year,")")}catch(t){return c.isSupplement?"(".concat(e.type.toUpperCase(),") ").concat(e.caption):"Article"}}function y(e){return r('\n    <button class="menu-btn" id="'.concat(e.id,'">\n      ').concat(s.if(e.busy,function(){return i(d.spinnerThird,u).html}),"\n      ").concat(s.if(e.icon&&!e.busy,function(){return i(e.icon,u).html}),"\n      ").concat(s.if(e.image,function(){return'<div class="'.concat(e.image,'"></div>')}),'\n      <span class="badge" data-badge="').concat(e.badge,'">').concat(e.title,"</span>\n    </button>\n  "))}function b(e){var t=function(){return l.open(e.id)};return e.onclick?function(){return e.onclick(t)}:t}c.onInit(function(){var e={id:"main_menu",title:v(o.data),back:function(){return l.close()},render:function(){return h}};l.add(e),o.metadata().then(function(t){l.update(r.extend(e,{title:v(t)}))})}),f.add=function(e){e=Object.assign(m[e.id],e);var t=h.find("#".concat(e.group)).addClass("show"),n=y(e).click(b(e)),i=function(e,t){var n=r(),i=parseInt(e.find(".slot").last().attr("idx"));if(isNaN(parseInt(t)))return(n=e.find(".slot[empty]").first()).length||(n=r('<div class="slot" idx="'.concat(i+1,'"></div>'))).appendTo(e),n;if(t=Math.max(1,t),(n=e.find('.slot[idx="'.concat(t,'"]'))).length)return n;for(var o=i+1;o<=t;o++)e.append('<div class="slot" idx="'.concat(o,'" empty></div>'));return e.find('.slot[idx="'.concat(t,'"]'))}(t,e.index);l.add(r.extend({back:function(){return l.open("main_menu")}},e)),n.appendTo(i.removeAttr("empty"))},f.update=function(e){l.update(r.extend({back:function(){return l.open("main_menu")}},e)),h.find("#".concat(e.id)).replaceWith(y(e).click(b(e)))},f.remove=function(e){var t=h.find("#".concat(opts.group));h.find("#".concat(e)).remove(),l.remove(e),0==t.children().length&&t.removeClass("show")},f.open=function(){l.open("main_menu"),f.trigger("opened")},f.close=function(){l.close(),f.trigger("closed")},f.toggle=function(){l.toggle("main_menu")},f.addUserCtl=function(e){h.append(e)},Object.defineProperty(f,"isOpen",{get:function(){return l.isOpen}}),t.exports=f},{"../article":455,"../common/eventer":466,"../common/template":478,"../elements/sidenav":519,"../viewer/viewer":602,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-solid-svg-icons/faSpinnerThird":78,"core-js/modules/es6.array.find":279,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.regexp.split":307,jquery:400}],496:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.object.assign"),e("promise.prototype.finally").shim();var r=e("jquery"),i=e("underscore"),o=e("@fortawesome/fontawesome-svg-core").icon,a=e("../evtbus"),s=e("../article"),c=e("../common/util"),l=e("../common/getkey"),u=e("../common/template"),d=e("../viewer/viewer"),f=e("../sync/sync_item"),p=e("../tracking/tracker"),h=e("../annotations/annotation_model"),m=e("./notes_and_tags"),g=e("./article_rating"),v=e("./annotation_list"),y=e("./notes_helper"),b=e("./app_nav"),w={classes:["fa-icon icon-h-16"]},_={fileDownload:e("@fortawesome/pro-light-svg-icons/faFileDownload").definition,fileContract:e("@fortawesome/pro-light-svg-icons/faFileContract").definition},x=r('<div class="content wrfont"></div>');function k(){return x.html('\n    <div class="notes">\n      '.concat(u.if(!c.isMobile,function(){return'\n        <div class="download-btn" >\n          <button class="action-btn">\n            '.concat(o(_.fileDownload,w).html,"\n            <span>Download as CSV</span>\n          </button>\n        </div>\n      ")}),'\n      <div class="group notes-group">\n        ').concat(O("Notes and Keywords"),'\n        <div class="notes-container"></div>\n        <div class="rating-container"></div>\n      </div>\n      <div class="group annots-group">\n        ').concat(O("Annotations"),'\n        <div class="annots-container"></div>\n      </div>\n    </div>')),s.isSupplement&&x.find(".notes-group").hide(),x.find(".download-btn > button").click(T),j(),C(),E(),S(),x}function j(){x.find(".notes-container").empty().append(m.render())}function C(){x.find(".rating-container").empty().append(g.render())}function E(){x.find(".annots-container").empty().append(v.render())}function S(){var e=x.find(".download-btn > button");v.count||m.value?e.removeAttr("disabled"):e.attr("disabled","")}function T(){var e=y.createBlob(v.get(),f.userProp("notes_with_tags")),t=y.downloadFilename()+".csv",n=URL.createObjectURL(e);a.trigger("download",[n,t,e]),p.exportNotes()}function O(e){return'\n    <div class="heading">\n      <span>'.concat(e,"</span>\n      <line></line>\n    </div>")}d.onInit(function(){var e;d.isSupplement&&!s.isPdfSupplement||(e={id:"notes",icon:_.fileContract,title:"Notes",badge:v.count,buttons:[{icon:_.fileDownload,title:"Download as CSV",handler:T}],render:function(){return k()}},b.add(e),f.on("added",function(){var e={};m.unsynced&&(e.notes_with_tags=m.value),g.unsynced&&Object.assign(e,g.value),i.isEmpty(e)?k():f.update({user_data:e}).catch(i.noop).finally(k)}),f.on("changed",i.debounce(function(e,t,n){void 0!==l("user_data.notes_with_tags",n)&&(S(),j()),void 0===l("user_data.rating",n)&&void 0===l("user_data.color",n)&&void 0===l("user_data.star",n)||C()},100)),f.on("removed",k),f.on("item:collection",function(e){e.shared&&E()}),v.on("sort",E),h.on("add update remove",i.debounce(function(){b.update(Object.assign(e,{badge:v.count})),E(),S()},100)))})},{"../annotations/annotation_model":441,"../article":455,"../common/getkey":469,"../common/template":478,"../common/util":482,"../evtbus":525,"../sync/sync_item":573,"../tracking/tracker":585,"../viewer/viewer":602,"./annotation_list":484,"./app_nav":485,"./article_rating":487,"./notes_and_tags":497,"./notes_helper":498,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faFileContract":34,"@fortawesome/pro-light-svg-icons/faFileDownload":35,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,jquery:400,"promise.prototype.finally":409,underscore:432}],497:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.constructor"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.array.find"),e("promise.prototype.finally").shim();var r=e("jquery"),i=e("underscore"),o=e("../evtbus"),a=e("../common/util"),s=(e("../common/getkey"),e("../sync/sync_item")),c=i.once(function(){return o.trigger("prompt-sync-changes")}),l='\n  <div class="notes-and-tags">\n    <div\n      class="item-note wrfont"\n      placeholder="Write your notes and keywords here..."\n      contenteditable="true"\n      spellcheck="false"></div>\n    <div class="saving">Saving...</div>\n  </div>',u=!1,d=null;function f(e){d.find(".saving").toggleClass("show",!!e)}function p(){if(!d)return"";var e=a.rangy.createRange();return e.selectNodeContents(d.find(".item-note")[0]),e.text()}function h(e){var t=a.rangy.createRange(),n=document.createElement("div");n.innerHTML=function(e){return(s.userProp("tags")||[]).forEach(function(t){e=e.replace(new RegExp(t,"g"),'<a href="#">'.concat(t,"</a>"))}),e}(e),t.selectNodeContents(d.find(".item-note")[0]),t.deleteContents(),t.insertNode(n)}t.exports={render:function(){d=r(l);var e=s.userProp("notes_with_tags");return e&&h(e),d.find(".item-note").on("focusout",function(){p()!=s.userProp("notes_with_tags")&&(s.synced?(f(!0),s.update({user_data:{notes_with_tags:p()}}).then(function(){return h(s.userProp("notes_with_tags"))}).catch(i.noop).finally(function(){f(!1),u=!1})):(u=!0,c()))}).find("a").click(function(e){o.trigger("open-library-tag",[r(this).text()])}),d},get unsynced(){return u},get value(){return p()}}},{"../common/getkey":469,"../common/util":482,"../evtbus":525,"../sync/sync_item":573,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.constructor":301,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es7.promise.finally":319,jquery:400,"promise.prototype.finally":409,underscore:432}],498:[function(e,t,n){"use strict";e("core-js/modules/es6.array.map"),e("core-js/modules/es6.regexp.replace");var r=e("papaparse"),i=e("moment"),o=e("../article"),a=e("../common/export_helper"),s={};function c(e){return(e||"").replace(/(?:\r?\n|\r)+/g," ")}function l(e){return new Date(e.created)}function u(e){return new Date(e.modified||e.created)}s.breaksToSpaces=c,s.formatDateTime=function(e){return i(e).calendar()},s.annotationCreated=l,s.annotationModified=u,s.downloadFilename=function(){if(!o.doi)return"notes";var e=a.getKey(o.data.meta);return null!=o.data.index&&(e+="-supplement(".concat(o.data.index+1,")")),"".concat(e,"-notes")},s.createBlob=function(e,t){var n=e.map(function(e){return{Text:c(e.text),Note:c(e.note),Created:l(e).toLocaleString(),Modified:u(e).toLocaleString()}});return t&&n.unshift({Text:"",Note:c(t),Created:"",Modified:""}),new Blob([r.unparse(n)],{type:"text/csv;charset=UTF-8"})},t.exports=s},{"../article":455,"../common/export_helper":467,"core-js/modules/es6.array.map":285,"core-js/modules/es6.regexp.replace":305,moment:401,papaparse:403}],499:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.string.bold"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.string.iterator"),e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.symbol"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.for-each");var r=e("jquery"),i=e("underscore"),o=e("@fortawesome/fontawesome-svg-core").icon,a=e("../common/number"),s=e("../viewer/viewer"),c={classes:["fa-icon icon-h-14"]},l={angleDown:e("@fortawesome/pro-regular-svg-icons/faAngleDown").definition},u=5,d=.1,f="–",p={},h=!1,m=!1,g=[],v=null;function y(){m||(m=!0,requestAnimationFrame(function(){b(),m=!1}))}function b(){var e=s.scrollIndex+s.numVisiblePages*d,t=i.sortedIndex(g,{index:e},"index")-1,n=g[Math.min(Math.max(t,0),g.length-1)];if(n){var o=n.element;g.map(function(e){return e.element}).forEach(function(e){return e.classList.remove("selected","selected-parent")}),o.classList.add("selected"),o.scrollIntoViewIfNeeded&&o.scrollIntoViewIfNeeded(),h&&r(o).parents(".outline-item").each(function(e,t){r(t).children("a").addClass("selected-parent")})}}function w(e){for(var t=document.createDocumentFragment(),n=[{parent:t,items:e,level:1}],r=[];n.length>0;){var i=n.shift(),o=!0,a=!1,s=void 0;try{for(var c,l=i.items[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value,d=document.createElement("div");d.className="outline-item level-".concat(i.level);var p=document.createElement("a");if(r.push(_(p,u)),x(p,u),k(p,u),p.textContent=C(u.title)||f,d.appendChild(p),u.items.length>0){h=!0,j(d,u);var m=document.createElement("div");m.className="outline-items",d.appendChild(m),n.push({parent:m,items:u.items,level:i.level+1})}i.parent.appendChild(d)}}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}h&&v.addClass("deep-nesting"),v.append(t),Promise.all(r).then(b)}function _(e,t){var n=t.dest;return s.linkService.destToIndex(n).then(function(t){var n={element:e,index:t};g.splice(i.sortedIndex(g,n,"index"),0,n),e.setAttribute("index",a.round10(t,-u))})}function x(e,t){var n=t.url,r=t.newWindow,i=t.dest;if(n)return link.href=C(n),link.target=r?"_blank":s.linkService.externalLinkTarget,void(link.rel=s.linkService.externalLinkRel);e.href=s.linkService.getDestinationHash(i),e.onclick=function(){var t=parseFloat(e.getAttribute("index"));return isNaN(t)?i&&s.linkService.navigateTo(i):s.gotoPage(t-s.numVisiblePages*d),!1}}function k(e,t){var n="";t.bold&&(n+="font-weight: bold;"),t.italic&&(n+="font-style: italic;"),n&&e.setAttribute("style",n)}function j(e,t){var n=t.count,r=t.items,i=document.createElement("div");i.className="outline-item-toggler",n<0&&Math.abs(n)===r.length&&i.classList.add("outline-items-hidden"),i.appendChild(o(l.angleDown,c).node[0]),i.onclick=function(t){if(t.stopPropagation(),i.classList.toggle("outline-items-hidden"),t.shiftKey){var n=!i.classList.contains("outline-items-hidden");!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,r=!1,i=void 0;try{for(var o,a=e.querySelectorAll(".outline-item-toggler")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.classList.toggle("outline-items-hidden",!t)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}(e,n)}},e.insertBefore(i,e.firstChild)}function C(e){return"string"!=typeof e?e:e.replace(/\x00/g,"")}p.render=function(){return v?(y(),v):(g=[],h=!1,v=r('<div class="outline-view wrfont"></div>'),s.getOutline().then(w),s.off("scroll.toc"),s.on("scroll.toc",y),y(),v)},t.exports=p},{"../common/number":471,"../viewer/viewer":602,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-regular-svg-icons/faAngleDown":64,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.string.bold":311,"core-js/modules/es6.string.iterator":313,"core-js/modules/es6.symbol":316,"core-js/modules/es7.symbol.async-iterator":320,"core-js/modules/web.dom.iterable":321,jquery:400,underscore:432}],500:[function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore");t.exports={render:i.memoize(function(e){return r('\n    <div class="rcr-content">\n      <h1>RCR: <span>'.concat(e.toFixed(2),'</span></h1>\n      <p>The <a target="_blank" href="http://biorxiv.org/content/early/2015/10/22/029629">Relative Citation Ratio</a> (RCR) is a new citation-based measure of article influence, developed by the <a target="_blank" href="https://dpcpsi.nih.gov/opa/index">Office for Portfolio Analysis</a> (OPA) at the National Institutes of Health in the USA. It was designed to address some of the shortcomings of more standard citation number and Journal Impact Factor (JIF) measures. It does this by normalizing an article’s citation number to both time since publication and the field in which it was published, as using citation number alone (see “Times cited”) does not account for them.</p>\n      <p>Some areas of research experience higher average levels of citation than others, leading to a citation count of ‘8’ being regarded as high in some fields, but low in others. Along the same lines, a new paper may represent a significant scientific breakthrough, but it will have a low citation count if published recently. By taking into account time and field, the RCR attempts to produce an improved indication of impact and reception. For more information on these, and other RCR improvements, you are encouraged to click on the <a target="_blank" href="http://biorxiv.org/content/early/2015/10/22/029629">RCR</a> and <a target="_blank" href="https://dpcpsi.nih.gov/opa/index">OPA</a> links in this description.</p>\n      <p>NOTE: Not all publications have an RCR score, and this may be for several reasons. For example, if a paper is less than two years old, or older than 1980, it is unlikely to have an RCR score due to the lack of robust citation information in short periods and before 1980. Other criteria that the OPA have for inclusion or exclusion of papers are based on relative timing of citations for papers and qualifying journals contributing to the score.</p>\n    </div>\n  '))})}},{jquery:400,underscore:432}],501:[function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),o=e("./app_nav"),a=e("../article"),s=e("../tracking/tracker"),c=e("../templates/citation.tpl"),l={listAlt:e("@fortawesome/pro-light-svg-icons/faListAlt").definition};function u(e){return r('<div class="content wrfont"></div>').append(c.compile("reference",{references:e.references},"reference"))}a.metadata().then(function(e){if(e.references&&e.references.length){var t=i.memoize(u);o.add({id:"references",icon:l.listAlt,title:"References",badge:e.references.length,render:function(){return s.sidepanel("references"),t(e)}})}})},{"../article":455,"../templates/citation.tpl":576,"../tracking/tracker":585,"./app_nav":485,"@fortawesome/pro-light-svg-icons/faListAlt":46,jquery:400,underscore:432}],502:[function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),o=e("../status"),a=(e("../router"),e("../article")),s=e("../reader_api"),c=e("../templates/citation.tpl"),l=e("../tracking/tracker"),u=e("./app_nav"),d={codeBranch:e("@fortawesome/pro-light-svg-icons/faCodeBranch").definition};a.metadata().then(function(e){if(a.doi){var t=i.memoize(p);u.add({id:"related",icon:d.codeBranch,title:"Related Articles",badge:10,render:function(){return l.related(),l.sidepanel("related"),t()}})}});var f=i.memoize(function(e){return s.related(e)});function p(){var e=r('\n    <div class="related content wrfont">\n    </div>\n  ');function t(){e.empty().append('\n      <div class="loading-more">\n        <div class="loader-inner ball-pulse">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    '),f(a.doi).then(function(t){e.empty().append(c.compile("reference",{references:t},"related_article"))}).catch(function(e){return console.warn(e)})}return o.onLine?t():(e.empty().append('\n      <div class="offline-notice">\n        <p>You need to go online to be able to view related articles.</p>\n      </div>\n    '),o.on("online",t)),e}},{"../article":455,"../reader_api":565,"../router":567,"../status":569,"../templates/citation.tpl":576,"../tracking/tracker":585,"./app_nav":485,"@fortawesome/pro-light-svg-icons/faCodeBranch":29,jquery:400,underscore:432}],503:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.string.link");var r=e("jquery"),i=e("underscore"),o=e("clipboard"),a=e("@fortawesome/fontawesome-svg-core").icon,s=e("../article"),c=(e("../common/util"),e("../web/access")),l={classes:["fa-icon icon-h-16"]},u={link:e("@fortawesome/pro-light-svg-icons/faLink").definition},d={},f=i.memoize(function(){return c.share()}),p=r('\n  <button class="action-btn primary" data-clipboard-target="#share-link" disabled>\n    Copy Link\n  </button>\n');var h=i.memoize(function(){return s.isPublisher(/wiley|cochrane/)?(e=r('\n    <div class="content wrfont share-modal">\n      <p>Please review our <a target="_blank" href="http://onlinelibrary.wiley.com/termsAndConditions">Terms and Conditions of Use</a> and check box below to share full-text version of article.\n      </p>\n      <div>\n        <input type="checkbox" id="agree-terms" class="styled-checkbox">\n        <label for="agree-terms">I have read and accept the Wiley Online Library Terms and Conditions of Use.</label>\n      </div>\n      <p class="link-description">Use the link below to share a full-text version of this article with your friends and colleagues. <a target="_blank" href="https://onlinelibrary.wiley.com/researchers/tools-resources/sharing">Learn more.</a>\n      </p>\n      <div class="url-container">\n        <div class="link">\n          '.concat(a(u.link,l).html,'\n        </div>\n        <div class="input-wrap">\n          <input id="share-link" type="text" readonly="readonly">\n        </div>\n      </div>\n    </div>\n  ')),new o(p[0]),t=e.find(".url-container"),n=e.find("#share-link").mouseup(function(){return n[0].select()}),e.find("#agree-terms").change(function(){this.checked?(t.addClass("busy"),n.val("Generating Link..."),f().then(function(e){t.removeClass("busy"),e.url?(p.removeAttr("disabled"),n.val(e.url)):n.val("Article not shareable.")})):(p.attr("disabled",""),n.val(""))}),e):function(){var e=r('\n    <div class="content wrfont share-modal">\n      <p>Anyone with this link can read the <strong>full text</strong> of this article:</p>\n      <div class="url-container">\n        <div class="link">\n          '.concat(a(u.link,l).html,'\n        </div>\n        <div class="input-wrap">\n          <input id="share-link" type="text" readonly="readonly">\n        </div>\n      </div>\n    </div>\n  ')),t=(new o(p[0]),e.find(".url-container")),n=e.find("#share-link").mouseup(function(){return n[0].select()});return t.addClass("busy"),n.val("Generating link..."),f().then(function(e){t.removeClass("busy"),e.url?(p.removeAttr("disabled"),n.val(e.url)):n.val("Article not shareable.")}),e}();var e,t,n});d.render=h,d.copyButton=p,t.exports=d},{"../article":455,"../common/util":482,"../web/access":604,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faLink":45,clipboard:168,"core-js/modules/es6.array.find":279,"core-js/modules/es6.string.link":314,jquery:400,underscore:432}],504:[function(e,t,n){"use strict";e("core-js/modules/es6.string.trim");var r=e("jquery"),i=e("underscore"),o=e("./app_nav"),a=e("../article"),s=e("../viewer/viewer"),c={infoCircle:e("@fortawesome/pro-light-svg-icons/faInfoCircle").definition},l=r('<div class="content wrfont"></div>');function u(){return l.append('\n    <div class="supplement-description">\n      '.concat((a.data.description||'<div class="no-info">\n          No supplement details available.\n        </div>').trim(),"\n    </div>"))}s.onInit(function(){if(!s.isSupplement)return;o.add({id:"supplement_info",icon:c.infoCircle,title:"Supplement Details",render:i.memoize(u)}),a.data.description&&o.open("supplement_info")})},{"../article":455,"../viewer/viewer":602,"./app_nav":485,"@fortawesome/pro-light-svg-icons/faInfoCircle":44,"core-js/modules/es6.string.trim":315,jquery:400,underscore:432}],505:[function(e,t,n){"use strict";var r=e("jquery"),i=e("underscore"),o=e("./app_nav"),a=e("../evtbus"),s=e("../article"),c=e("../tracking/tracker"),l=e("../components/video_player"),u=e("../templates/video.tpl"),d=e("../templates/supplement.tpl"),f={fileWord:e("@fortawesome/pro-light-svg-icons/faFileWord").definition},p=r('<div class="content wrfont"></div>');function h(){return p.empty(),p.append(d.compile({supplements:s.data.supplements})),p.append(u.compile({videos:s.data.videos})),p}s.one("meta.supplements",function(e,t){if(t.supplements.length||t.videos.length){s.off("meta.supplements");var n=i.memoize(function(){return l.init(),h()});o.add({id:"supplements",icon:f.fileWord,title:"Supplements",badge:t.supplements.length+t.videos.length,render:function(){return c.sidepanel("supplements"),n()}})}}),a.on("play-video",function(e,t,n){l.open(t,n,r("#viewer-content")),c.video()}),window.addEventListener("online",h)},{"../article":455,"../components/video_player":508,"../evtbus":525,"../templates/supplement.tpl":577,"../templates/video.tpl":578,"../tracking/tracker":585,"./app_nav":485,"@fortawesome/pro-light-svg-icons/faFileWord":39,jquery:400,underscore:432}],506:[function(e,t,n){"use strict";e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("jquery"),i=e("underscore"),o=e("../status"),a=(e("../common/util"),e("../common/eventer")),s=e("../common/rect"),c=(e("../tracking/tracker"),e("../viewer/viewer")),l=e("../viewer/thumbnail"),u=e("../article"),d=a({}),f=1e3,p=100,h=[],m=r();function g(){m.find("img").each(function(e,t){(function(e){try{var t=e.getBoundingClientRect(),n=m.parent()[0].getBoundingClientRect();return s.prototype.intersects.call(n,t)}catch(e){return!1}})(t)&&function(e,t){if(t.completed&&t.naturalWidth)return Promise.resolve();var n=l(e,u.data.hash)||h[e];n&&e<f?t.src=n:c.pdfDoc&&c.getPage(e+1).getThumbSrc(p).then(function(n){return h[e]=t.src=n}).catch(function(){return console.warn("Could not render thumb ".concat(e+1))}),new Promise(function(e){t.onerror=t.onload=e})}(e,t)})}d.render=function(){return(m=r('\n    <div class="thumbnail-list">\n      '.concat(i.range(0,c.numPages).map(function(e){return'\n          <div class="thumbnail" idx="'.concat(e,'">\n            <img draggable="false" alt/>\n            <div class="page-number">\n              <span>').concat(e+1,"</span>\n            </div>\n          </div>")}).join(""),"\n    </div>\n  "))).on("click",".thumbnail",function(){var e=parseInt(r(this).attr("idx"));c.gotoPage(e+1),d.trigger("thumb-click",[e+1])}),m.find('.thumbnail[idx="'.concat(c.currentIndex-1,'"]')).addClass("active"),m.find("img").on("dragstart",!1).each(function(e,t){var n=c.getPage(e+1),i=n.height/n.width;r(t).css({width:p,height:Math.ceil(p*i)})}),o.on("online",g),c.on("page-changed",function(e,t){m.find(".thumbnail.active").removeClass("active");var n=m.find('.thumbnail[idx="'.concat(t-1,'"]')).addClass("active");n[0].scrollIntoViewIfNeeded&&n[0].scrollIntoViewIfNeeded()}),m.one("attached",function(){m.parent().on("scroll",g),g()}),m},t.exports=d},{"../article":455,"../common/eventer":466,"../common/rect":474,"../common/util":482,"../status":569,"../tracking/tracker":585,"../viewer/thumbnail":601,"../viewer/viewer":602,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,underscore:432}],507:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.function.name");var r=e("jquery"),i=e("@fortawesome/fontawesome-svg-core").icon,o=e("../user"),a=e("../evtbus"),s=e("../router"),c=e("../endpoint"),l=e("../elements/sidenav"),u=e("../elements/sidepanel"),d=e("../modals/auth_modal"),f=e("../modals/dev_tools"),p=e("../common/util"),h=e("../common/template"),m=e("../common/online"),g=e("./app_nav"),v=e("../viewer/viewer"),y=e("../tracking/tracker"),b={classes:["fa-icon list-h-18"]},w={classes:["fa-icon icon-h-56"]},_={userCircle:e("@fortawesome/pro-light-svg-icons/faUserCircle").definition,userHeadset:e("@fortawesome/pro-light-svg-icons/faUserHeadset").definition,university:e("@fortawesome/pro-light-svg-icons/faUniversity").definition,signOut:e("@fortawesome/pro-light-svg-icons/faSignOut").definition,tools:e("@fortawesome/pro-light-svg-icons/faTools").definition};function x(){return o.signedIn?r("\n    <div>\n      ".concat(i(_.userCircle,b).html,"\n      <span>").concat(o.get().name,"</span>\n    </div>\n  ")).click(function(){p.isMobile?l.open("user_details"):u.open({id:"user_details",title:"User Details",content:j()})}):r("\n    <div>\n      ".concat(i(_.userCircle,b).html,"\n      <span>Sign In</span>\n    </div>\n  ")).click(function(){return d.login("sign_in_button")})}function k(e){e.empty().append(x())}function j(){var e=r('\n    <div class="user-details">\n      <div class="user-info">\n        <div class="col-left">\n          '.concat(i(_.userCircle,w).html,'\n        </div>\n        <div class="col-right">\n          <div class="name">').concat(o.get().name,'</div>\n          <div class="email">').concat(o.get().email,'</div>\n        </div>\n      </div>\n      <div class="user-actions">\n        ').concat(C({id:"goto-account",icon:_.userCircle,title:"Account Page"}),"\n        ").concat(C({id:"open-library",icon:_.university,title:"My Papers Library"}),"\n        ").concat(C({id:"contact-support",icon:_.userHeadset,title:"Contact Support"}),"\n        ").concat(C({id:"sign-out",icon:_.signOut,title:"Sign Out"}),"\n        ").concat(h.if(/@readcube\.com|@labtiva\.com$/.test(o.get().email),function(){return C({id:"dev-tools",icon:_.tools,title:"Dev Tools"})}),"\n      </div>\n    </div>\n  "));return e.find("#open-library").click(function(){a.trigger("open-url",[c.app]),y.sidepanel("library")}),e.find("#goto-account").click(function(){window.open("".concat(c.web,"/account"),"_account")}),e.find("#contact-support").click(function(){window.open("https://support.readcube.com/support/home","_support")}),e.find("#sign-out").click(m.guard(function(){new Promise(function(e){r.ajax({type:"DELETE",crossDomain:!0,xhrFields:{withCredentials:!0},url:"".concat(c.web,"/session/delete.json"),success:e})}).then(function(){s.parent?window.parent.postMessage({type:"sign_out"},"*"):location.reload()})})),e.find("#dev-tools").click(f.open),e}function C(e){return'\n    <button id="'.concat(e.id,'">\n      ').concat(h.if(e.icon,function(){return"\n        ".concat(i(e.icon,b).html,"\n      ")}),"\n      ").concat(h.if(e.image,function(){return'\n        <div class="'.concat(e.image,'"></div>\n      ')}),"\n      <span>").concat(e.title,"</span>\n    </button>\n  ")}v.onInit(function(){var e=r('<div id="user-ctl"></div>');o.on("change",function(){return k(e)}),k(e),g.addUserCtl(e),p.isMobile&&l.add({id:"user_details",title:"User Details",back:function(){return l.open("main_menu")},render:j})})},{"../common/online":472,"../common/template":478,"../common/util":482,"../elements/sidenav":519,"../elements/sidepanel":520,"../endpoint":523,"../evtbus":525,"../modals/auth_modal":550,"../modals/dev_tools":552,"../router":567,"../tracking/tracker":585,"../user":586,"../viewer/viewer":602,"./app_nav":485,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faSignOut":53,"@fortawesome/pro-light-svg-icons/faTools":58,"@fortawesome/pro-light-svg-icons/faUniversity":61,"@fortawesome/pro-light-svg-icons/faUserCircle":62,"@fortawesome/pro-light-svg-icons/faUserHeadset":63,"core-js/modules/es6.array.find":279,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400}],508:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.string.trim"),e("core-js/modules/es6.promise"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.string.iterator");var r=e("jquery"),i=e("../evtbus"),o=e("../status"),a=e("../common/util"),s=e("../modals/offline_modal"),c=e("../elements/sidepanel"),l=e("../elements/pagination"),u={fileDownload:e("@fortawesome/pro-light-svg-icons/faFileDownload").definition},d={},f={script:"https://vjs.zencdn.net/".concat("6.6.3","/video.min.js"),style:"https://vjs.zencdn.net/".concat("6.6.3","/video-js.min.css")},p=null,h=null,m=null;function g(){return g.promise?g.promise:g.promise=Promise.all([a.getScript(f.script),a.getStyle(f.style)])}function v(e){return'\n    <video id="player" class="video-js vjs-default-skin" controls>\n      <source src="'.concat(e.url,'" type="video/mp4">\n    </video>')}function y(e){return r('\n    <div class="video-details">\n      <h2>Detailed Information</h2>\n      <divider></divider>\n      <div>\n        '.concat((e.description||'<div class="no-info">\n            <span>No video details available.\n          </div>').trim(),"\n      </div>\n    </div>\n  "))}function b(){r(window).off("keydown.video-player"),h&&h.dispose(),p&&p.remove(),h=null,p=null}d.init=g,d.open=function(e,t,n){if(!o.onLine)return s.open(),Promise.reject();var a=t[e];return g().then(function(){p=function(e){return r('\n    <div class="video-overlay">\n      <div class="backdrop"></div>\n      '.concat(v(e),'\n      <div class="video-toolbar"></div>\n    </div>\n  '))}(a).appendTo(n),h=f(),(m=l({prev_title:"Previous Video",next_title:"Next Video"})).init({container:p.find(".video-toolbar"),total:t.length,current:a.index+1}).on("paginate",function(e,t){return d(t-1)}),c.open(w()),c.on("onclose",b),p.find(".backdrop").click(function(e){r(this).is(e.target)&&(c.close(),b())}),r(window).on("keydown.video-player",function(e){if(!e.metaKey&&!e.ctrlKey)switch(e.keyCode){case 27:c.close();break;case 37:case 38:a.index-1<0||d(a.index-1);break;case 39:case 40:a.index+1>=t.length||d(a.index+1)}})});function d(e){a=t[e],m.current=a.index+1,c.update(w()),h.dispose(),p.find("#player").remove(),p.find(".backdrop").after(v(a)),h=f()}function f(){return videojs("player",{autoplay:!0,width:Math.min(640,.9*r(n).width()),height:Math.min(480,.9*r(n).height())})}function w(){return{id:"video_details",title:a.caption,content:y(a),buttons:[{icon:u.fileDownload,title:"Download",handler:function(){return i.trigger("download",[a.url||a.source_url])}}]}}},d.close=b,t.exports=d},{"../common/util":482,"../elements/pagination":515,"../elements/sidepanel":520,"../evtbus":525,"../modals/offline_modal":555,"../status":569,"@fortawesome/pro-light-svg-icons/faFileDownload":35,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.string.iterator":313,"core-js/modules/es6.string.trim":315,"core-js/modules/web.dom.iterable":321,jquery:400}],509:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string");var r=e("jquery"),i=e("./evtbus"),o=e("./common/util"),a=(e("./common/getkey"),e("./viewer/viewer")),s=e("./viewer/input_handler"),c=e("./viewer/text_reader"),l=e("./annotations/highlight_ctrl"),u=e("./annotations/annotate_menu"),d=e("./annotations/annotation_api"),f=e("./annotations/annotation_toolbar"),p=e("./annotations/freehand_toolbar"),h=".freehand-canvas",m=".highlight, .strikethrough, .underline, .note-rect",g=".current-selection",v=".context-menu-item",y=null,b=null;function w(){y&&(p.deactivate(),y=null),b&&(f.deactivate(),b=null)}function _(e,t){var n=l.annotate(e);f.open(n),t&&(n.editing=!0)}function x(e){return a.getRangePageIdx(e.getRangeAt(0))}a.onInit(function(){e("jquery-contextmenu"),r.contextMenu({zIndex:2e6,selector:".page",animation:{duration:0},events:{hide:w},build:function(e,t){var n=null;return!n&&r(t.target).closest(g).length&&(n=function(e){var t={},n=c.matchText(e.toString(),x(e));i.handlerCount("look-up")&&(t["look-up"]={name:"Look Up “".concat(o.ellipsis(n,30),"”"),callback:function(){return i.trigger("look-up",[n])}},t["separator-1"]={type:"cm_separator"});t["copy-to-clipboard"]={name:"Copy",callback:function(){return i.trigger("copy-to-clipboard",[n])}},i.handlerCount("search-google")&&(t["search-google"]={name:"Search Google for “".concat(o.ellipsis(n,30),"”"),callback:function(){return i.trigger("search-google",[n])}});u.enabled()&&(t["separator-2"]={type:"cm_separator"},t["add-note"]={name:"Add Note",callback:function(){return _("highlight",!0)}},t.highlight={name:"Highlight",callback:function(){return _("highlight")}},t.underline={name:"Underline",callback:function(){return _("underline")}},t.strikethrough={name:"Strikethrough",callback:function(){return _("strikethrough")}});(function(){try{return"speechSynthesis"in window}catch(e){return console.warn(e),!1}})()&&(t["separator-3"]={type:"cm_separator"},t["read-aloud"]={name:"Read Aloud",callback:function(){c.start(n,x(e))}});return{items:t}}(o.rangy.getSelection())),!n&&r(t.target).closest(h).length&&(n=function(e){var t={},n=r(e.target).closest("[input-id]").attr("input-id");return(y=s.get(n))?(p.close(),p.activate(y),t.edit={name:"Edit Path",callback:function(){p.open(y),y=null}},t.delete={name:"Delete Path",callback:function(){y.remove(),y=null}},{items:t}):null}(t)),!n&&r(t.target).closest(m).length&&(n=function(e){var t={},n=r(e.target).closest("[input-id]").attr("input-id");if(!(b=s.get(n)))return null;f.close(),f.activate(b),"note"==b.type?(t.edit={name:"Edit Note",callback:function(){f.open(b),b.editing=!0,b=null}},t.delete={name:"Delete Note",callback:function(){b.remove(),b=null}}):(t["add-edit-note"]={name:b.note?"Edit Note":"Add Note",callback:function(){f.open(b),b.editing=!0,b=null}},t.copy={name:"Copy Text",callback:function(){var e=c.matchText(b.text,b.page.index);i.trigger("copy-to-clipboard",[e]),b=null}},t.edit={name:"Edit ".concat(o.capitalize(b.type)),callback:function(){f.open(b),b=null}},t.delete={name:"Delete ".concat(o.capitalize(b.type)),callback:function(){b.remove(),b=null}});return{items:t}}(t)),n||function(e){var t={};return t["add-note"]={name:"Add Note",disabled:function(){return!u.enabled()},callback:function(){return d.addNote({x:e.pageX,y:e.pageY})}},t["draw-path"]={name:"Draw Path",disabled:function(){return!u.enabled()},callback:function(){return u.open("freehand")}},{items:t}}(t)}}),r("body").on("mousedown",g,function(e){return e.preventDefault()}),r("body").on("mousedown",v,function(e){return e.stopPropagation()})})},{"./annotations/annotate_menu":436,"./annotations/annotation_api":438,"./annotations/annotation_toolbar":443,"./annotations/freehand_toolbar":447,"./annotations/highlight_ctrl":448,"./common/getkey":469,"./common/util":482,"./evtbus":525,"./viewer/input_handler":591,"./viewer/text_reader":600,"./viewer/viewer":602,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.to-string":308,jquery:400,"jquery-contextmenu":399}],510:[function(e,t,n){"use strict";var r=e("../common/util");t.exports={init:function(t,n){r.isElectron&&e("./main").init(t,n)}}},{"../common/util":482,"./main":511}],511:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.date.now"),e("core-js/modules/es6.array.find-index"),e("core-js/modules/es6.array.for-each"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.array.map");var i=e("jquery"),o=(e("underscore"),e("../evtbus")),a=e("../article"),s=e("../reader_api"),c=e("../common/getkey"),l=e("../common/alarm_clock"),u=e("../sync/sync_item"),d=e("../viewer/viewer"),f=e("../notifications/toast"),p=e("../modals/rental_expired");function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.html,i=t.pdf;a.basedata({type:d.isSupplement?"pdf":void 0,access_method:"personal_library"}),a.fulldata(i?{pdf:i}:n),function(){if(a.data.expires_at){var e=1e3*a.data.expires_at;e-Date.now()>=0&&(l.add(function(){p.open(),d.destroy()},e),f.show("rental-expiry",{expires:e}))}}(),d.isSupplement||d.isResolve||u.onAdd((e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c("item.ext_ids.doi",u)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.metadata();case 4:t=e.sent,(u.item.files||[]).filter(function(e){return"article"!=e.type}).map(function(e,t){var n=e.pages,r=e.access_method,i=e.sha256;return{index:t,pages:n,access_method:r,hash:i,type:e.file_type,thumb:["https://images.readcube-cdn.com/prerendered/".concat(i,"/1.jpg")],personal:!0}}).forEach(function(e){t.supplements=t.supplements||[];var n=t.supplements.findIndex(function(t){return t.hash==e.hash});n>=0?t.supplements[n]=e:t.supplements.push(e)}),a.metadata(t);case 7:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}))}t.exports={init:function(e,t){i("html").addClass("electron"),h(t),i(function(){i(document.body).on("click","a[target]",function(e){e.preventDefault(),o.trigger("open-url",[i(this).attr("href")])})})}}},{"../article":455,"../common/alarm_clock":460,"../common/getkey":469,"../evtbus":525,"../modals/rental_expired":559,"../notifications/toast":564,"../reader_api":565,"../sync/sync_item":573,"../viewer/viewer":602,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.find-index":278,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.map":285,"core-js/modules/es6.date.now":288,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"regenerator-runtime/runtime":420,underscore:432}],512:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.index-of");var r=e("jquery"),i=(e("underscore"),e("../evtbus")),o=e("../status"),a=e("../common/util"),s=e("../common/browser"),c=e("../common/transformable"),l=e("../modals/offline_modal"),u=e("./pagination"),d=e("./slider"),f=e("./sidepanel"),p={fileDownload:e("@fortawesome/pro-light-svg-icons/faFileDownload").definition},h={},m=1,g=5,v="https://unpkg.com/pinch-zoom-element-js@1.1.2/dist/pinch-zoom.js",y=null,b=null,w=null,_=null,x=null,k=null,j=null;function C(e){return r('\n    <div class="figure-details">\n      <h2>Detailed Information</h2>\n      <divider></divider>\n      <div>'.concat((t=e.description,-1==(n=t.indexOf(":"))?t:t.substr(n+1)),"</div>\n    </div>\n  "));var t,n}function E(){return a.isElectron?Promise.resolve():E.result?E.result:E.result=a.getScript(v)}function S(){if(y&&y.length&&b&&b.length){var e=b.width()-40,t=b.height()-80;y[0].naturalHeight>t&&y.css("max-height",t),y[0].naturalWidth>e&&y.css("max-width",e)}}function T(){return{id:"figure_details",title:_.caption,content:C(_),buttons:[{icon:p.fileDownload,title:"Download",handler:function(){return i.trigger("download",[_.url])}}]}}function O(e){b.toggleClass("busy",e)}function A(){r(window).off("keydown.figure-viewer"),j&&j.detach(),b&&b.remove(),j=null,b=null}h.open=function(t,n,i){if(n[t])if(o.onLine){var p;_=n[t],b=(p=_.url,r('\n    <div class="figure-overlay busy">\n      <div class="backdrop"></div>\n      <pinch-zoom min-scale="'.concat(m,'" max-scale="').concat(g,'">\n        <img class="grabbable" src="').concat(p,'"/>\n      </pinch-zoom>\n      <spinner></spinner>\n      <div class="figure-toolbar"></div>\n    </div>\n  '))).appendTo(i);var h=e("css-element-queries/src/ResizeSensor");j=new h(b[0],S),(y=b.find("img")).one("load",function(){S(),O(!1)}),function(e){if(s.IEish){var t=c(e);return Promise.resolve(t)}return E().then(function(){return e[0]}).catch(function(){return c(e)})}(b.find("pinch-zoom")).then(function(e){k=e,w.set(k.scale),r(k).on("change",function(){w.set(k.scale)}),b.find(".figure-toolbar").addClass("transformable")}),w=d({label:"Zoom",container:b.find(".figure-toolbar"),min:m,max:g,valueStr:function(e){return"".concat(Math.round(100*e),"%")}}),(x=u({prev_title:"Previous Figure",next_title:"Next Figure"})).init({container:b.find(".figure-toolbar"),total:n.length,current:t+1}).on("paginate",function(e,t){return v(t-1)}),f.open(T()),f.on("onclose",A),b.find(".backdrop").click(function(e){r(this).is(e.target)&&(f.close(),A())}),r(window).on("keydown.figure-viewer",function(e){if(!e.metaKey&&!e.ctrlKey)switch(e.keyCode){case 27:f.close();break;case 37:case 38:_.index-1<0||v(_.index-1);break;case 39:case 40:_.index+1>=n.length||v(_.index+1)}}),w.on("slide",function(e,t){var n;k&&k.scaleTo(t,Object.assign({originX:(n=b[0].getBoundingClientRect()).left+n.width/2,originY:n.top+n.height/2},{allowChangeEvent:!1,relativeTo:"container"}))}),o.on("online",function(){b&&b.length&&(a.ensureImg(b.find("img")[0]),b.find(".offline-msg").replaceWith("<spinner></spinner>"))}),o.on("offline",function(){b&&b.length&&b.find("spinner").replaceWith('<div class="offline-msg wrfont">\n        You appear to be <strong>offline</strong>.<br/>\n        Please go online to view this figure.\n      </div>')})}else l.open();function v(e){_=n[e],(y=r('<img src="'.concat(_.url,'" class="grabbable"/>'))).one("load",function(){S(),O(!1)}),k&&k.setTransform({allowChangeEvent:!0,scale:m,x:0,y:0}),x.current=_.index+1,f.update(T()),b.find("img").replaceWith(y),O(!0)}},h.close=A,t.exports=h},{"../common/browser":461,"../common/transformable":481,"../common/util":482,"../evtbus":525,"../modals/offline_modal":555,"../status":569,"./pagination":515,"./sidepanel":520,"./slider":521,"@fortawesome/pro-light-svg-icons/faFileDownload":35,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"css-element-queries/src/ResizeSensor":322,jquery:400,underscore:432}],513:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("underscore"),o=e("tippy.js"),a=e("@fortawesome/fontawesome-svg-core").icon,s=(e("../article"),e("../viewer/viewer")),c=e("../common/eventer"),l={classes:["fa-icon icon-h-14"]},u={classes:["fa-icon icon-h-16"]},d={times:e("@fortawesome/pro-light-svg-icons/faTimes").definition,angleLeft:e("@fortawesome/pro-light-svg-icons/faAngleLeft").definition,angleRight:e("@fortawesome/pro-light-svg-icons/faAngleRight").definition},f=c({}),p=!1,h=null,m=null,g=null;function v(){var t,n;p=!0,h=s.pdfDoc?e("../finder/pdfjs_finder"):e("../finder/html_finder"),m&&m.remove(),(m=r('\n    <div id="find-bar" class="wrfont">\n      <input class="query" spellcheck="false" placeholder="Search full text..."></input>\n      <button class="toolbar-btn close" title="Close Find">\n        '.concat(a(d.times,l).html,'\n      </button>\n      <button class="toolbar-btn find-next" title="Find Next">\n        ').concat(a(d.angleRight,u).html,'\n      </button>\n      <div class="pagination">0 / 0</div>\n      <button class="toolbar-btn find-prev" title="Find Previous">\n        ').concat(a(d.angleLeft,u).html,"\n      </button>\n    </div>\n  "))).prependTo(g),m.find(".close").click(y),t=m.find("input"),n=i.debounce(function(){return h.find(t.val())},300),h.on("found",function(e,t){m.find(".pagination").html("".concat(t.selected," / ").concat(t.total))}),m.find(".find-next").click(h.next),m.find(".find-prev").click(h.prev),m.find("button[title]").each(function(e,t){o(t,{placement:"bottom"})}),t.focus(),t.on("keydown",function(e){e.stopImmediatePropagation(),13==e.keyCode?(e.preventDefault(),h[e.shiftKey?"prev":"next"]()):71==e.keyCode&&(e.metaKey||e.ctrlKey)?(e.preventDefault(),h[e.shiftKey?"prev":"next"]()):27==e.keyCode?y():n()}),m.addClass("show"),f.trigger("open")}function y(){p=!1,h.clear(),h.off("found"),m.removeClass("show"),m.find("input").blur(),f.trigger("close")}s.on("render",function(){return p&&y()}),f.init=function(e){g=e},f.show=v,f.hide=y,f.toggle=function(){p?y():v()},t.exports=f},{"../article":455,"../common/eventer":466,"../finder/html_finder":527,"../finder/pdfjs_finder":528,"../viewer/viewer":602,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faAngleLeft":22,"@fortawesome/pro-light-svg-icons/faAngleRight":23,"@fortawesome/pro-light-svg-icons/faTimes":57,"core-js/modules/es6.array.find":279,jquery:400,"tippy.js":430,underscore:432}],514:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.map"),e("promise.prototype.finally").shim();var r=e("jquery"),i=e("underscore"),o=e("tippy.js"),a=e("@fortawesome/fontawesome-svg-core").icon,s=e("./pagination"),c=e("./find_bar"),l=e("../article"),u=e("../metrics_api"),d=e("../web/access"),f=e("../evtbus"),p=e("../router"),h=e("../common/util"),m=e("../common/template"),g=e("../common/online"),v=e("../viewer/viewer"),y=e("../tracking/tracker"),b=(e("../annotations/notes_ctrl"),e("../annotations/annotation_model")),w=e("../annotations/annotate_menu"),_=e("../components/app_nav"),x=e("../modals/share_modal"),k=e("../sync/sync_item"),j=(e("../svg_icons"),{classes:["fa-icon menubar-h-14"]}),C={highlighter:e("@fortawesome/pro-light-svg-icons/faHighlighter").definition,bars:e("@fortawesome/pro-light-svg-icons/faBars").definition,times:e("@fortawesome/pro-light-svg-icons/faTimes").definition,shareAlt:e("@fortawesome/pro-light-svg-icons/faShareAlt").definition,fileDownload:e("@fortawesome/pro-light-svg-icons/faFileDownload").definition,print:e("@fortawesome/pro-light-svg-icons/faPrint").definition,chevronCircleDown:e("@fortawesome/pro-light-svg-icons/faChevronCircleDown").definition,spinnerThird:e("@fortawesome/pro-solid-svg-icons/faSpinnerThird").definition,playlistAdd:e("../icons/playlistAdd").definition,playlistAddCheck:e("../icons/playlistAddCheck").definition};e("../notifications/export_unavailable");var E=s({prev_title:"Previous Page",next_title:"Next Page"}),S=r('\n  <div class="menu-bar wrfont">\n    <div class="left">\n      '.concat(i.range(20).map(function(e){return"<span idx=".concat(e,"></span>")}).join(""),'\n    </div>\n    <div class="center"></div>\n    <div class="right">\n      ').concat(i.range(100,120).map(function(e){return"<span idx=".concat(e,"></span>")}).join(""),"\n    </div>\n  </div>\n")),T={menu:{index:0,icon:C.bars,title:"Open Menu",handler:function(){return _.toggle()}},supplements:{index:4,text:"Supplements",handler:function(){return _.open("supplements")}},figures:{index:6,text:"Figures",handler:function(){return _.open("figures")}},metrics:{index:9,text:"Metrics",handler:function(){return _.open("metrics")}},related:{index:10,text:"Related",badge:10,handler:function(){return _.open("related")}},references:{index:11,text:"References",handler:function(){return _.open("references")}},annotate:{index:100,icon:C.highlighter,title:"Annotate",text:"Annotate",handler:function(){return w.toggle()}},share:{index:101,icon:C.shareAlt,title:"Share",text:"Share",handler:g.guard(function(){return x.open()})},library:{index:102},download:{index:103,icon:C.fileDownload,title:"Save PDF",text:"PDF",spinner:!0,handler:function(e){e.stopImmediatePropagation(),h.isElectron&&!l.hasFullAccess?f.trigger("download-unavailable"):(f.trigger("download-pdf",[!0]),y.menuBar("download_pdf"))}},print:{index:104},more:{index:105},close:{index:106,icon:C.times,title:"Close Reader",handler:function(){window.parent.postMessage({type:"close"},"*")}}};function O(e){h.isElectron&&!l.hasFullAccess?f.trigger("print-unavailable"):(f.trigger("print-pdf",[!!e]),y.pdfToolbar("print"))}function A(){S.toggleClass("share-enabled",l.hasFullAccess&&l.data.access_share_enabled),S.toggleClass("annotate-enabled",w.enabled())}function P(){M("menu"),I(),M("download"),M("annotate")}function N(){var e=0;l.metadata().then(function(t){(t.supplements.length||t.videos.length)&&(M("supplements",{badge:t.supplements.length+t.videos.length}),e++),t.figures.length&&(M("figures",{badge:t.figures.length}),e++),l.doi&&!l.data.non_hosted&&u.metrics(l.doi).then(function(n){n.count&&(M("metrics",{badge:n.count}),e++),e<3&&(M("related"),e++),e<3&&t.references.length&&(M("references",{badge:t.references.length}),e++)})})}function M(e,t){return function(e,t){var n=r('\n    <menu-button class="'.concat(e,'" title="').concat(t.title||"",'">\n      ').concat(m.if(t.spinner,function(){return a(C.spinnerThird,j).html}),"\n      ").concat(m.if(t.icon,function(){return a(t.icon,j).html}),"\n      ").concat(m.if(t.text,function(){return'\n        <span class="text badge" data-badge="'.concat(t.badge,'">').concat(t.text,"</span>\n      ")}),"\n    </menu-button>\n  ")).on(t.evt||"click",t.handler);t.title&&R(n,/menu|close/.test(e));return n}(e,t=Object.assign({},T[e],t)).appendTo(S.find('[idx="'.concat(t.index,'"]')).empty())}function R(e,t){if(o(e[0],{placement:"bottom",dynamicTitle:!0,delay:[null,0]}),!t){var n=r("#viewer-content");parseInt(n.attr("client-width"))>=1080&&e[0]._tippy.disable(),f.on("resize-content",function(t,n){n>=1080?e[0]._tippy.disable():e[0]._tippy.enable()})}}function I(){var e=function(){var e=r('\n    <menu-button class="print" title="Print">\n      '.concat(a(C.spinnerThird,j).html,"\n      ").concat(a(C.print,j).html,'\n      <ul>\n        <li class="print-pdf">\n          <span class="text submenu">Print PDF</span>\n        </li>\n        <li class="print-pdf-notes">\n          <span class="text submenu">Print PDF + Notes</span>\n        </li>\n      </ul>\n    </menu-button>\n  '));return R(e,!0),e}();!function(e){if(h.isElectron)return;var t=function(){b.isEmpty?(e.removeClass("has-annotations"),e[0]._tippy.enable()):(e.addClass("has-annotations"),e[0]._tippy.disable())};b.on("add update remove",t),t()}(e),e.find(".print-pdf").click(function(e){e.stopImmediatePropagation(),O(!1)}),e.find(".print-pdf-notes").click(function(e){e.stopImmediatePropagation(),O(!0)}),e.click(function(){return O(!1)}),e.appendTo(S.find('[idx="'.concat(T.print.index,'"]')).empty())}function D(){if(!v.isLabs){var e=function(){var e=r('\n    <menu-button class="library" title="">\n      <div class="import">\n        '.concat(a(C.spinnerThird,j).html,"\n        ").concat(a(C.playlistAdd,j).html,'\n        <span class="text">Add to Library</span>\n      </div>\n      <div class="in-library">\n        ').concat(a(C.playlistAddCheck,j).html,'\n        <span class="text">In Library</span>\n      </div>\n    </menu-button>\n  '));return R(e),e}(),t=function(){e.toggleClass("syncing",k.busy).toggleClass("synced",k.synced).attr("title",k.synced?"In Library":"Add to Library")};k.on("added removed busy:start busy:end",t),t(),e.find(".import").click(function(){f.trigger("add-to-library",["add_to_library"]),y.menuBar("add_to_library")}),e.find(".in-library").click(function(){f.trigger("open-in-library",[k.item])}),e.appendTo(S.find('[idx="'.concat(T.library.index,'"]')).empty())}}v.onInit(function(){!function(){if(v.isSupplement)return M("menu"),I(),M("download",{text:"Download"}),void M("annotate");if(v.isPersonal)return P(),N(),void D();if(v.isPublic)return P(),N(),D(),p.params.show_close&&M("close"),e=r('\n    <menu-button class="more">\n      '.concat(a(C.chevronCircleDown,j).html,'\n      <ul>\n        <li class="import">\n          ').concat(a(C.spinnerThird,j).html,"\n          ").concat(a(C.playlistAdd,j).html,'\n          <span class="text submenu">Add to Library</span>\n        </li>\n        <li class="in-library">\n          ').concat(a(C.playlistAddCheck,j).html,'\n          <span class="text submenu">In Library</span>\n        </li>\n        <li class="share">\n          ').concat(a(C.shareAlt,j).html,'\n          <span class="text submenu">Share</span>\n        </li>\n        <li class="annotate">\n          ').concat(a(C.highlighter,j).html,'\n          <span class="text submenu">Annotate</span>\n        </li>\n      </ul>\n    </menu-button>\n  ')),t=function(){e.toggleClass("syncing",k.busy).toggleClass("synced",k.synced)},k.on("added removed busy:start busy:end",t),t(),e.find(".import").click(function(){f.trigger("add-to-library",["add_to_library"]),y.menuBar("add_to_library")}),e.find(".in-library").click(function(){f.trigger("open-in-library",[k.item])}),e.find(".share").click(function(){return x.open()}),e.find(".annotate").click(function(){return w.toggle()}),e.appendTo(S.find('[idx="'.concat(T.more.index,'"]')).empty()),void M("share");var e,t;P()}();var e=r("#viewer-content");c.init(e),E.init({container:S.find(".center"),current:v.currentIndex,total:v.numPages}),E.on("paginate",function(e,t){return v.gotoPage(t)}),v.on("page-changed",function(e,t){return E.current=t}),v.on("slide",function(e,t){(t=Math.round(t))!=E.current&&(E.current=t)}),r(window).on("keydown",function(e){v.isResolve||(e.metaKey||e.ctrlKey)&&70==e.keyCode&&(e.preventDefault(),c.toggle())}),S.appendTo(e),_.on("opened closed",function(){_.isOpen?S.find(".menu").attr("title","Close Menu").find("svg").replaceWith(a(C.times,j).html):S.find(".menu").attr("title","Open Menu").find("svg").replaceWith(a(C.bars,j).html)}),d.on("cloudview fullview",A),d.checked().then(A),A()})},{"../annotations/annotate_menu":436,"../annotations/annotation_model":441,"../annotations/notes_ctrl":452,"../article":455,"../common/online":472,"../common/template":478,"../common/util":482,"../components/app_nav":485,"../evtbus":525,"../icons/playlistAdd":532,"../icons/playlistAddCheck":533,"../metrics_api":543,"../modals/share_modal":560,"../notifications/export_unavailable":561,"../router":567,"../svg_icons":570,"../sync/sync_item":573,"../tracking/tracker":585,"../viewer/viewer":602,"../web/access":604,"./find_bar":513,"./pagination":515,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faBars":25,"@fortawesome/pro-light-svg-icons/faChevronCircleDown":27,"@fortawesome/pro-light-svg-icons/faFileDownload":35,"@fortawesome/pro-light-svg-icons/faHighlighter":42,"@fortawesome/pro-light-svg-icons/faPrint":49,"@fortawesome/pro-light-svg-icons/faShareAlt":52,"@fortawesome/pro-light-svg-icons/faTimes":57,"@fortawesome/pro-solid-svg-icons/faSpinnerThird":78,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.assign":295,jquery:400,"promise.prototype.finally":409,"tippy.js":430,underscore:432}],515:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.index-of"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("tippy.js"),o=e("@fortawesome/fontawesome-svg-core").icon,a=(e("../common/util"),e("../common/eventer")),s={classes:["fa-icon icon-h-16"]},c={angleLeft:e("@fortawesome/pro-light-svg-icons/faAngleLeft").definition,angleRight:e("@fortawesome/pro-light-svg-icons/faAngleRight").definition};t.exports=function(e){var t=a({}),n=-1,l=1/0,u=r('\n    <pagination class="wrfont">\n      <button class="toolbar-btn prev-page" title="'.concat(e.prev_title||"Previous",'">\n        ').concat(o(c.angleLeft,s).html,'\n      </button>\n      <div class="pginfo">\n        <input class="idx num" val=""></input>/\n        <div class="num"></div>\n      </div>\n      <button class="toolbar-btn next-page" title="').concat(e.next_title||"Next",'">\n        ').concat(o(c.angleRight,s).html,"\n      </button>\n    </pagination>\n  ")),d=u.find(".idx"),f=u.find(".num");function p(e,r){e=function(e){return Math.min(Math.max(e,1),l)}(e),d.val(e),e!=n&&(n=e,u.removeClass("first last"),n<=1&&u.addClass("first"),n>=l&&u.addClass("last"),r&&t.trigger("paginate",[n]))}return u.find(".prev-page").click(function(){return p(n-1,!0)}),u.find(".next-page").click(function(){return p(n+1,!0)}),d.on("click",function(){d[0].select()}),d.on("blur",function(){var e=parseInt(d.val().replace(/[^0-9]/g,""));p(isNaN(e)?n:e,!0)}),d.on("keydown",function(e){13==e.keyCode&&d.blur(),-1!=[46,8,9,27,13].indexOf(e.keyCode)||(e.ctrlKey||e.metaKey)&&-1!=[65,67,88].indexOf(e.keyCode)||-1!=[35,36,37,38,39,40,45].indexOf(e.keyCode)||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),t.init=function(e){var n;return n=e.total,l=n,u.find(".pginfo").attr("data-num",l.toString().length),f.html(l),p(e.current),u.appendTo(e.container),u.find("button[title]").each(function(e,t){i(t,{placement:"bottom"})}),t},Object.defineProperty(t,"current",{get:function(){return n},set:function(e){p(e)}}),t}},{"../common/eventer":466,"../common/util":482,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faAngleLeft":22,"@fortawesome/pro-light-svg-icons/faAngleRight":23,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.to-string":308,jquery:400,"tippy.js":430}],516:[function(e,t,n){"use strict";e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.regexp.search"),e("core-js/modules/es6.array.find"),e("promise.prototype.finally").shim();var r=e("jquery"),i=e("underscore"),o=e("tippy.js"),a=e("@fortawesome/fontawesome-svg-core").icon,s=e("../evtbus"),c=e("../common/util"),l=e("../common/template"),u=e("../common/scrollbar_size"),d=e("../viewer/viewer"),f=e("../viewer/zoom_helper"),p=e("../tracking/tracker"),h=e("../components/thumb_view"),m=e("../components/outline_view"),g=e("./sidepanel"),v=e("./find_bar"),y=e("./popover"),b=e("./slider"),w={classes:["fa-icon icon-h-16"]},_={plus:e("@fortawesome/pro-light-svg-icons/faPlus").definition,minus:e("@fortawesome/pro-light-svg-icons/faMinus").definition,redoAlt:e("@fortawesome/pro-light-svg-icons/faRedoAlt").definition,expand:e("@fortawesome/pro-light-svg-icons/faExpand").definition,compress:e("@fortawesome/pro-light-svg-icons/faCompress").definition,gripVertical:e("@fortawesome/pro-light-svg-icons/faGripVertical").definition,stream:e("@fortawesome/pro-light-svg-icons/faStream").definition,search:e("@fortawesome/pro-light-svg-icons/faSearch").definition},x=r('\n  <div class="pdf-toolbar show">\n    <div class="buttons"></div>\n    <div class="zoom-slider"></div>\n  </div>\n'),k=.01,j=null,C=null,E=null,S=[{id:"zoom-in",icon:_.plus,title:"Zoom In",handler:function(){j=null,d.scaleBy(1.2),d.elem.focus(),x.addClass("zoom-mode"),p.pdfToolbar("zoom_in")}},{id:"zoom-out",icon:_.minus,title:"Zoom Out",handler:function(){j=null,d.scaleBy(1/1.2),d.elem.focus(),x.addClass("zoom-mode"),p.pdfToolbar("zoom_out")}},{id:"rotate-right",icon:_.redoAlt,title:"Rotate Page",handler:function(){d.rotatePageBy(90),d.elem.focus(),p.pdfToolbar("rotate")}},{id:"fit-size",icon:_.expand,title:"Fit Width",handler:function(){var e=x.find(".fit-size");"width"!=j?(j="width",e.find("svg").replaceWith(a(_.compress,w).html),e.attr("title","Fit Page"),d.fitWidth(),d.elem.focus(),p.pdfToolbar("fit_width")):(j="page",e.find("svg").replaceWith(a(_.expand,w).html),e.attr("title","Fit Width"),d.fitPage(),d.elem.focus(),p.pdfToolbar("fit_page"))}},{id:"thumbnails",icon:_.gripVertical,title:"Page Thumbnails",handler:function(){g.toggle({id:"thumb_view",title:"Page Thumbnails",content:h.render()}),p.pdfToolbar("thumb_view")}},{id:"outline",icon:_.stream,title:"Document Outline",handler:function(){g.toggle({id:"outline_view",title:"Document Outline",content:m.render()}),p.pdfToolbar("outline_view")}},{id:"search",icon:_.search,title:"Find",handler:function(){v.toggle(),p.pdfToolbar("find")}}],T=i.debounce(function(e,t){d.scaleTo(d.currentScale,e),t&&t()},300);function O(e){return Math.min(Math.max(e,d.minScale),d.maxScale)}function A(e){return Math.abs(1-e/d.currentScale)>k}d.onInit(function(){if(!c.isMobile){var e=r("#viewer-content");S.forEach(function(e){var t=r('\n      <button class="toolbar-btn '.concat(e.id,'" title="').concat(e.title||"",'">\n        ').concat(l.if(e.spinner,function(){return"<spinner></spinner>"}),"\n        ").concat(l.if(e.icon,function(){return a(e.icon,w).html}),"\n      </button>\n    ")).on(e.evt||"click",e.handler).appendTo(x.find(".buttons"));o(t[0],{placement:"top",dynamicTitle:!0})}),function(){var e=f(),t=x.find(".zoom-slider"),n=b({container:t,min:0,max:1,valueStr:function(t){return"".concat(Math.round(100*e.toScale(t)),"%")}});n.on("slide",function(t,n){j=null,d.elem.addClass("prescale");var r=e.toScale(n);A(r)&&d.prescaleTo(r),T(null,function(){d.elem.removeClass("prescale")})}),n.on("slide-end",function(){return d.elem.focus()}),n.set(e.toLinear(d.currentScale)),d.on("scale",function(){n.set(e.toLinear(d.currentScale))})}(),function(){var e=!1,t=null,n=null,r=null;function i(e){var t=d.elem[0].getBoundingClientRect(),n=parseFloat(d.elem.css("padding-left")),r=parseFloat(d.elem.css("padding-top"));return{x:e.pageX-t.left-n,y:e.pageY-t.top-r}}function o(){e||(e=!0,requestAnimationFrame(function(){A(r)&&(d.prescaleTo(r,n),y.update()),T(n,function(){d.elem.removeClass("prescale"),n=null,r=null}),e=!1}))}d.elem[0].addEventListener("wheel",function(e){e.ctrlKey&&(e.preventDefault(),j=null,r||(r=d.currentScale,d.elem.addClass("prescale")),n||(n=i(e)),r=O(r-.01*e.deltaY),o())},{passive:!1}),d.elem[0].addEventListener("gesturestart",function(e){e.preventDefault(),j=null,d.elem.addClass("prescale"),t=d.currentScale,n=i(e)}),d.elem[0].addEventListener("gesturechange",function(e){e.preventDefault(),r=O(t*e.scale),o()}),d.elem[0].addEventListener("gestureend",function(e){t=null,e.preventDefault()})}(),s.on("viewer:shrink-to-width",function(){j||(d.shrinkToWidth(),y.update())}),s.on("resize-content",function(){j&&(d.elem.addClass("prescale"),"width"==j?d.prescaleFitWidth():"page"==j&&d.prescaleFitPage(),y.update(),T(null,function(){d.elem.removeClass("prescale")}))}),d.getOutline().then(function(){return x.addClass("has-outline")}),v.on("open",function(){return x.addClass("find")}),v.on("close",function(){return x.removeClass("find")}),x.appendTo(e),x.css("right","+=".concat(u().width));var t=!1;x.on("mousedown",function(){return t=!0}),r(document).on("mouseup",function(){return t=!1}),e.on("mousemove",function(n){var i=2*n.pageX>e.width(),o=e.height()-n.pageY<200,a=!r.contains(x[0],n.target);i&&o&&(clearTimeout(C),C=null,x.addClass("show")),t||!a?(clearTimeout(E),E=null):E||(E=setTimeout(function(){x.removeClass("zoom-mode")},1e3)),!C&&a&&(C=setTimeout(function(){x.removeClass("show")},3e3))}),d.elem.keydown(function(e){37==e.keyCode&&d.overflow.x<=0&&(e.preventDefault(),d.gotoPage(Math.max(0,d.currentIndex-1))),39==e.keyCode&&d.overflow.x<=0&&(e.preventDefault(),d.gotoPage(Math.min(d.numPages,d.currentIndex+1))),187==e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),S[0].handler()),189==e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),S[1].handler())}),setTimeout(function(){return d.elem.focus()},1e3)}})},{"../common/scrollbar_size":475,"../common/template":478,"../common/util":482,"../components/outline_view":499,"../components/thumb_view":506,"../evtbus":525,"../tracking/tracker":585,"../viewer/viewer":602,"../viewer/zoom_helper":603,"./find_bar":513,"./popover":517,"./sidepanel":520,"./slider":521,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faCompress":30,"@fortawesome/pro-light-svg-icons/faExpand":32,"@fortawesome/pro-light-svg-icons/faGripVertical":41,"@fortawesome/pro-light-svg-icons/faMinus":47,"@fortawesome/pro-light-svg-icons/faPlus":48,"@fortawesome/pro-light-svg-icons/faRedoAlt":50,"@fortawesome/pro-light-svg-icons/faSearch":51,"@fortawesome/pro-light-svg-icons/faStream":56,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.regexp.search":306,jquery:400,"promise.prototype.finally":409,"tippy.js":430,underscore:432}],517:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.string.anchor");var r=e("jquery"),i=e("underscore"),o=e("scrollparent"),a=e("../common/util"),s={top:42,right:20,bottom:0,left:20},c={top:15,right:4,bottom:4,left:4},l='\n  <div class="popover wrfont">\n    <div class="container"></div>\n    <div class="arrow"></div>\n  </div>',u={},d=null,f=null,p=null,h=null,m=null,g=null,v=function(){},y=r('<div class="wrfont"></div>').css({position:"absolute",visibility:"hidden"});function b(e){return{width:e[0].offsetWidth,height:e[0].offsetHeight}}function w(e){if(document.body.contains(e[0]))return b(e);e=e.clone(),y.append(e).appendTo(document.body);var t=b(e);return e.remove(),y.detach(),t}function _(e){k()&&x(),d=e.anchor,f=e.content,p=r(o(d[0])||"body"),h=r(l).addClass(e.klass),m=h.find(".arrow"),g=h.find(".container"),h.on("mousedown mouseup click touchstart touchend",function(e){e.stopImmediatePropagation()});var t=null,n=null,y=null,b=null,_=null,j=null,C=null,E=null;function S(){h.removeClass("up down left right"),h.css({top:"",left:""}),g.css({top:"",left:""})}function T(){S(),h.addClass("up"),y=w(m),h.css({top:_.top-C-b.height-y.height-c.top,left:j.x-E-b.width/2});var e=a.getBoundingRect(g);return Math.max(0,n.top-(e.top-s.top))}function O(){S(),h.addClass("down"),y=w(m),h.css({top:_.bottom-C+y.height+c.bottom,left:j.x-E-b.width/2});var e=a.getBoundingRect(g);return Math.max(0,e.bottom+s.bottom-n.bottom)}function A(){S(),h.addClass("left"),y=w(m),h.css({top:j.y-C-b.height/2,left:_.left-E-b.width-y.width-c.left});var e=a.getBoundingRect(g);return Math.max(0,n.left-(e.left-s.left))}function P(){S(),h.addClass("right"),y=w(m),h.css({top:j.y-C-b.height/2,left:_.right-E+y.width+c.right});var e=a.getBoundingRect(g);return Math.max(0,e.right+s.right-n.right)}function N(){switch(S(),t=p.offset(),n=a.getBoundingRect(p),b=w(f),_=a.getBoundingRect(d),j={x:(_.left+_.right)/2,y:(_.top+_.bottom)/2},C=t.top-p.scrollTop(),E=t.left-p.scrollLeft(),e.placement){case"up":case"down":r=e.placement,((i=[])[c="up"==r?0:1]=(o=[T,O])[c]())&&(i[1-c]=o[1-c]())&&(i[c]<=i[1-c]?o[c]():o[1-c]()),function(){var e=a.getBoundingRect(g),t={left:n.left-e.left+s.left,right:e.right-n.right+s.right},r=function(e){var t=e.left>0,n=e.right>0;return n&&t?e.left>=e.right?"right":"left":n?"left":t?"right":null}(t);"left"==r&&g.css("left",Math.max(-b.width/2+y.width,-t.right)),"right"==r&&g.css("left",Math.min(b.width/2-y.width,t.left))}();break;case"left":case"right":!function(e){var t=[],n=[A,P],r="left"==e?0:1;(t[r]=n[r]())&&(t[1-r]=n[1-r]())&&(t[r]<=t[1-r]?n[r]():n[1-r]())}(e.placement),function(){var e=a.getBoundingRect(g),t={top:n.top-e.top+s.top,bottom:e.bottom-n.bottom+s.bottom},r=function(e){var t=e.top>0,n=e.bottom>0;return n&&t?e.top>=e.bottom?"bottom":"top":n?"top":t?"bottom":null}(t);"top"==r&&g.css("top",Math.max(-b.height/2+y.height,-t.bottom)),"bottom"==r&&g.css("top",Math.min(b.height/2-y.height,t.top))}()}var r,i,o,c}g.removeClass(),g.addClass("container"),g.children().detach(),g.append(f),h.appendTo(p),h.css({visibility:"hidden",display:"block"}),N(),v=function(){k()&&N()},r(window).on("resize.popover",i.throttle(v,50)),r(document).one("mouseup.popover touchstart.popover",function(e){r.contains(d[0],e.target)||x()}),h.css("visibility","visible"),d.trigger("open.popover"),r(u).trigger("open-popover")}function x(e){return!!k(e)&&(r(window).off(".popover"),r(document).off(".popover"),h.css({visibility:"hidden",display:"none"}),d.trigger("close.popover"),r(u).trigger("close-popover"),h.detach(),f=null,d=null,p=null,!0)}function k(e){return!!d&&(!e||e.is(d))}u.open=_,u.close=x,u.update=function(){v()},u.toggle=function(e){x(e.anchor)||_(e)},u.isOpen=k,t.exports=u},{"../common/util":482,"core-js/modules/es6.array.find":279,"core-js/modules/es6.string.anchor":310,jquery:400,scrollparent:424,underscore:432}],518:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery");t.exports=function(e){e.find("select").each(function(){var e=r(this);e.addClass("select-hidden"),e.wrap('<div class="select"></div>'),e.after('<div class="select-styled"></div>');var t=e.next("div.select-styled");t.text(e.children("option[selected]").text());var n=r("<ul />",{class:"select-options"}).insertAfter(t);e.children("option:not([selected])").each(function(){r("<li/>",{text:r(this).text(),rel:r(this).val()}).appendTo(n)});var i=n.children("li");t.click(function(e){e.stopPropagation(),r("div.select-styled.active").not(this).each(function(){r(this).removeClass("active").next("ul.select-options").hide()}),r(this).toggleClass("active").next("ul.select-options").toggle()}),i.click(function(i){i.stopPropagation(),t.text(r(this).text()).removeClass("active"),e.children("option[selected]").removeAttr("selected"),e.children('option[value="'.concat(r(this).attr("rel"),'"]')).attr("selected",""),e.change(),n.hide()}),r(document).click(function(){t.removeClass("active"),n.hide()})})}},{"core-js/modules/es6.array.find":279,jquery:400}],519:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("tippy.js"),o=e("hammerjs"),a=e("@fortawesome/fontawesome-svg-core").icon,s=e("../evtbus"),c=e("../common/util"),l=e("../common/template"),u=e("../viewer/viewer"),d={classes:["fa-icon menubar-h-14"]},f={times:e("@fortawesome/pro-light-svg-icons/faTimes").definition,arrowLeft:e("@fortawesome/pro-light-svg-icons/faArrowLeft").definition},p=r(),h=r(),m=r(),g={},v=!1,y="",b=(e("../common/detect_ie"),/firefox/i.test(navigator.userAgent),/(iPod|iPhone|iPad)/i.test(navigator.userAgent),{}),w='<div class="backdrop snav"></div>',_='\n  <div class="sidenav flat wrfont">\n    <div class="cube">\n      <div class="side default">\n        <div class="face-header"></div>\n        <div class="face-content"></div>\n      </div>\n      <div class="side auxiliary">\n        <div class="face-header"></div>\n        <div class="face-content"></div>\n      </div>\n    </div>\n  </div>\n';function x(e,t){t=t||"default";var n=h.find(".".concat(t)),o=n.find(".face-header"),s=n.find(".face-content");o.children().detach(),o.append(function(e){var t=g[e],n=r('\n    <div id="'.concat(e,'-header">\n      <div class="btns-left"></div>\n      <div class="title truncate" title="').concat(t.header_title||t.title,'">\n        ').concat(t.header_title||t.title,'\n      </div>\n      <div class="btns-right">\n        ').concat(l.if(t.back,function(){return'\n          <button class="toolbar-btn back" title="Go Back">\n            '.concat(a(f.arrowLeft,d).html,'\n          </button>\n          <button class="toolbar-btn close" title="Close">\n            ').concat(a(f.times,d).html,"\n          </button>\n        ")}),"\n      </div>\n    </div>\n  ")).on("click","button.back",function(){return t.back()}).on("click","button.close",function(){return j()});return(t.buttons||[]).forEach(function(e){r('\n      <button class="toolbar-btn '.concat(e.icon,'" title="').concat(e.title||"",'">\n      ').concat(a(e.icon,d).html,"\n      </button>\n    ")).on("click",e.handler).appendTo(n.find(".btns-left"))}),n.find("button[title]").each(function(e,t){i(t,{placement:"bottom"})}),n}(e)),s.children().detach();var c=g[e].render();c.appendTo(s),c.trigger("attached")}function k(e){e!=y&&g[e]&&(p.parent().addClass(e),p.parent().removeClass(y),p.parent().hasClass("sidenav-open")?(x(e,v?"default":"auxiliary"),h.toggleClass("flipped",v=!v)):(x(e,v?"auxiliary":"default"),m.appendTo(p.parent()),setTimeout(function(){return p.parent().addClass("sidenav-open")})),y=e)}function j(){p.parent().hasClass("sidenav-open")&&("main_menu"!=y&&x("main_menu"),p.parent().removeClass("sidenav-open ".concat(y)),m.detach(),y="")}u.onInit(function(){if(p.length)return;m=r(w).click(j),c.isMobile||m.hide();p=r(_).appendTo(".viewer-root"),h=p.find(".cube"),p.on("transitionend",function(e){p.parent().hasClass("sidenav-open")?s.trigger("viewer:shrink-to-width"):h.toggleClass("flipped",v=!1)}),new o.Manager(p[0],{inputClass:o.TouchInput,recognizers:[[o.Swipe,{direction:o.DIRECTION_HORIZONTAL}]]}).on("swipeleft",function(){if("main_menu"==y)j();else{var e=g[y];e&&e.back&&e.back()}})}),b.add=function(e){g[e.id]=e},b.update=function(e){g[e.id]=c.merge(g[e.id],e)},b.remove=function(e){delete g[e]},b.open=k,b.close=j,b.toggle=function(e){p.parent().hasClass("sidenav-open")?j():k(e)},Object.defineProperty(b,"isOpen",{get:function(){return p.parent().hasClass("sidenav-open")}}),Object.defineProperty(b,"activeId",{get:function(){return y}}),t.exports=b},{"../common/detect_ie":463,"../common/template":478,"../common/util":482,"../evtbus":525,"../viewer/viewer":602,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faArrowLeft":24,"@fortawesome/pro-light-svg-icons/faTimes":57,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.object.define-property":297,hammerjs:390,jquery:400,"tippy.js":430}],520:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.for-each");var r=e("jquery"),i=e("tippy.js"),o=e("@fortawesome/fontawesome-svg-core").icon,a=e("../evtbus"),s=e("../common/util"),c=e("../common/eventer"),l=e("../viewer/viewer"),u={classes:["fa-icon menubar-h-14"]},d={times:e("@fortawesome/pro-light-svg-icons/faTimes").definition},f=c({}),p=r(),h=r(),m="",g='<div class="backdrop span"></div>',v='\n  <div class="sidepanel wrfont">\n    <div class="header"></div>\n    <div class="content"></div>\n  </div>\n';function y(){return p.parent().hasClass("sidepanel-open")}function b(e){y()||(e.animate&&p.parent().addClass("sidepanel-animate"),_(e),h.appendTo(p.parent()),setTimeout(function(){return p.parent().addClass("sidepanel-open")}))}function w(){y()&&(p.one("transitionend",function(){p.parent().removeClass("sidepanel-animate"),p.removeClass(m),m=""}),p.parent().removeClass("sidepanel-open"),p.children(".content").scrollTop(0),h.detach(),f.trigger("onclose"))}function _(e){p.addClass(m=e.id),p.children(".header").empty().append(function(e){var t=r('\n    <div>\n      <div class="btns-left"></div>\n      <div class="title truncate" title="'.concat(e.title,'">').concat(e.title,'</div>\n      <div class="btns-right">\n        <button class="toolbar-btn close" title="Close">\n          ').concat(o(d.times,u).html,"\n        </button>\n      </div>\n    </div>\n  ")).on("click",".close",w);return(e.buttons||[]).forEach(function(e){r('\n      <button class="toolbar-btn '.concat(e.icon,'" title="').concat(e.title||"",'">\n        ').concat(o(e.icon,u).html,"\n      </button>\n    ")).on("click",e.handler).appendTo(t.find(".btns-left"))}),t.find("button[title]").each(function(e,t){i(t,{placement:"bottom"})}),t}(e)),p.children(".content").children().detach(),p.children(".content").append(e.content),e.content.trigger("attached")}l.onInit(function(){if(p.length)return;h=r(g).click(w),s.isMobile||h.hide();return(p=r(v).appendTo(".viewer-root")).on("transitionend",function(e){y()&&a.trigger("viewer:shrink-to-width")}),f}),f.open=b,f.close=w,f.update=_,f.toggle=function(e){y()?m===e.id?w():_(e):b(e)},Object.defineProperty(f,"isOpen",{get:function(){return y()}}),t.exports=f},{"../common/eventer":466,"../common/util":482,"../evtbus":525,"../viewer/viewer":602,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faTimes":57,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.object.define-property":297,jquery:400,"tippy.js":430}],521:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("hammerjs"),o=e("../common/template"),a=e("../common/eventer");t.exports=function(e){var t,n,s,c,l,u=a({}),d=r('\n    <slider class="wrfont '.concat(e.klass,'">\n      ').concat(o.if(e.label,function(){return"\n        <span>".concat(e.label,"</span>\n      ")}),'\n      <div class="slider-wrap">\n        <div class="slider-track">\n          <div class="slider-fill"></div>\n          <div class="slider-thumb">\n            <div class="focus-ring"></div>\n            <div class="thumb-ring"></div>\n          </div>\n        </div>\n      </div>\n      ').concat(o.if(e.valueStr,function(){return'\n        <div class="slider-value"></div>\n      '}),"\n    </slider>\n  ")).contextmenu(!1),f=d.find(".slider-track"),p=d.find(".slider-thumb"),h=d.find(".slider-fill"),m=new i.Manager(d[0],{recognizers:[[i.Pan,{pointers:1,threshold:0}]]});function g(){var r,i=(r=s,((r=Math.max(Math.min(r,e.max),e.min))-t)/(n-t)),o=100*i+"%";p[0].style.left=o,h[0].style.width=o,e.valueStr&&d.find(".slider-value").html(e.valueStr(s,i))}function v(e){var r,i,o,a;l&&(i=e.srcEvent.pageX,o=f[0].getBoundingClientRect(),r=Math.max(0,Math.min(1,(i-o.left)/o.width)),s=t+r*(n-t),a=!0,c||(c=!0,requestAnimationFrame(function(){g(),c=!1,a&&u.trigger("slide",[s])})))}return m.on("pan",v),m.on("hammer.input",function(e){e.isFirst&&(l=!0,d.addClass("active"),u.trigger("slide-start"),v(e)),e.isFinal&&(l=!1,d.removeClass("active"),u.trigger("slide-end"))}),u.set=function(e){l||(s=e,g())},u.get=function(){return s},s=t=isNaN(e.min)?1:e.min,n=isNaN(e.max)?100:e.max,e.klass&&d.addClass(e.klass),d.appendTo(e.container),g(),u}},{"../common/eventer":466,"../common/template":478,"core-js/modules/es6.array.find":279,hammerjs:390,jquery:400}],522:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("tippy.js"),o=e("binary-search-bounds"),a=e("@fortawesome/fontawesome-svg-core").icon,s={classes:["fa-icon icon-h-16"]},c={},l={},u=[],d=r('\n  <div class="tabs">\n    <div class="tab-header">\n      <div class="tab-title"></div>\n      <ul></ul>\n    </div>\n    <div class="tab-content"></div>\n  </div>\n'),f="";function p(e){if(e!==f){f=e;var t=d.find('.tab-header > ul > li[tab-id="'.concat(e,'"]')),n=d.find('.tab-content > div[tab-id="'.concat(e,'"]')),r=l[e].render();d.find(".tab-header > ul > li").removeClass("active"),d.find(".tab-content > div").removeClass("active"),d.find(".tab-title").text(l[e].title),t.addClass("active"),n.addClass("active"),r.appendTo(n),r.trigger("attached")}}c.init=function(e){d.appendTo(e)},c.get=function(e){return Object.assign({},l[e])},c.add=function(e){l[e.id]=e,isNaN(parseInt(e.index))&&(e.index=u.length?u[u.length-1].index+1:1),d.toggleClass("single-tab",Object.keys(l).length<=1);var t=r('\n    <li tab-id="'.concat(e.id,'" tab-index="').concat(e.index,'">\n      <button title="').concat(e.title,'">\n        ').concat(a(e.icon,s).html,"\n      </button>\n    </li>\n  ")),n=t.find("button"),c=r('<div tab-id="'.concat(e.id,'"></div>')),f=o.ge(u,e,function(e,t){return e.index-t.index});u[f]?(t.insertBefore(d.find('.tab-header > ul > li[tab-index="'.concat(u[f].index,'"]'))),u.splice(f,0,e)):(t.appendTo(d.find(".tab-header > ul")),u.push(e)),c.appendTo(d.find(".tab-content")),t.click(function(){return p(e.id)}),i(n[0],{placement:"bottom"})},c.remove=function(e){p(u[0].id),d.find('.tab-header > ul > li[tab-id="'.concat(e,'"]')).remove(),d.find('.tab-content > div[tab-id="'.concat(e,'"]')).remove(),delete l[e],d.toggleClass("single-tab",Object.keys(l).length<=1)},c.activate=p,c.sorted=function(){return u},Object.defineProperty(c,"activeId",{get:function(){return f}}),t.exports=c},{"@fortawesome/fontawesome-svg-core":1,"binary-search-bounds":166,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.keys":298,"core-js/modules/es6.object.to-string":299,"core-js/modules/web.dom.iterable":321,jquery:400,"tippy.js":430}],523:[function(e,t,n){"use strict";var r=e("./environment"),i="https:"==document.location.protocol?"https:":"http:",o={production:{web:"https://www.readcube.com",app:"https://app.readcube.com",services:"https://services.readcube.com",sync:"https://sync.readcube.com",analytics:"https://analytics.readcube.com",push:"https://push.readcube.com/bayeux",institution:"https://api-gateway.readcube.com/institution",services_gateway:"https://services-gateway.readcube.com",version:"https://".concat("reader.readcube.com/v4","/rev-version.json")},staging:{web:"https://staging.readcube.com",app:"http://app-dev.readcube.com",services:"https://services-staging.readcube.com",sync:"https://sync-staging.readcube.com",analytics:"https://analytics-staging.readcube.com",push:"https://push-staging.readcube.com/bayeux",institution:"https://api-gateway.readcube.com/institution-staging",services_gateway:"https://services-gateway-staging.readcube.com",version:"https://".concat("reader.readcube.com/v4","/rev-version.json")},development:{web:"".concat(i,"//local.readcube.com:3000"),app:"".concat(i,"//local.readcube.com:4000"),services:"".concat(i,"//local.readcube.com:3001"),sync:"".concat(i,"//local.readcube.com:3003"),analytics:"".concat(i,"//local.readcube.com:3004"),push:"".concat(i,"//local.readcube.com:8000/bayeux"),institution:"https://api-gateway.readcube.com/institution-staging",services_gateway:"https://services-gateway-staging.readcube.com",version:"/rev-version.json"}};t.exports=o[r.get()]},{"./environment":524}],524:[function(e,t,n){"use strict";var r,i=/^development|staging|production$/i.test(r="production")?r.toLowerCase():"production";t.exports={is:function(e){return e.toLowerCase()==i},get:function(){return i},get development(){return this.is("development")},get staging(){return this.is("staging")},get production(){return this.is("production")}}},{}],525:[function(e,t,n){"use strict";var r=e("./common/eventer");t.exports=r({})},{"./common/eventer":466}],526:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.regexp.constructor");var r=e("../viewer/viewer"),i=e("../evtbus"),o={},a=.2,s={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},c=new RegExp("[".concat(Object.keys(s).join(""),"]"),"g");o.klass="search-result",o.defaults={caseSensitive:!1,wholeWordsOnly:!1,direction:"forward"},o.normalizeText=function(e,t){return t||(e=e.toLowerCase()),e.replace(c,function(e){return s[e]})},o.scrollIntoView=function(e,t){if(e&&t){if(t.scrollIntoViewIfNeeded&&document.body.contains(t))t.scrollIntoViewIfNeeded();else{var n=t.getBoundingClientRect(),o=e.doc2page({x:n.left,y:n.top}).y/e.height,s=e.index+o,c=r.numVisiblePages;r.gotoPage(s-c*a)}i.trigger("viewer:shrink-to-width")}},t.exports=o},{"../evtbus":525,"../viewer/viewer":602,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.object.keys":298,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.constructor":301,"core-js/modules/es6.regexp.replace":305,"core-js/modules/web.dom.iterable":321}],527:[function(e,t,n){"use strict";e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.reduce"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.array.index-of"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("jquery"),i=e("underscore"),o=e("async/queue"),a=e("../viewer/viewer"),s=e("../common/util"),c=e("../common/eventer"),l=e("../annotations/annotation_helper"),u=e("../article"),d=e("./finder_helper"),f=c({}),p=o(function(e,t){return e().then(t)}),h=0,m=null,g=null,v=null,y={},b={},w={},_={};function x(e){return new Promise(function(t){var n=a.getPage(e);n.load().then(function(){if(!n.getTextLayer)return t([]);var e=s.rangy.createRange(),i=s.rangy.createRange();i.selectNodeContents(n.getTextLayer()[0]);for(var o=r.extend({},_,{withinRange:i}),a=[],c=s.timer.tic();e.findText(m,o);)a.push(e.cloneRange()),e.collapse(!1);s.log("find ".concat(a.length," matches (").concat(n.index,"): ").concat(s.timer.toc(c)," ms")),h-=y[n.index],y[n.index]=a.length,h+=y[n.index],-1==g.pageIdx&&a.length&&(g.pageIdx=n.index,g.matchIdx=0),O(),t(a)})})}function k(){return v?Promise.resolve(v):new Promise(function(e){var t;(t=[],a.eachPage(function(){return t.push("")}),a.getPage(1).getTextContent().then(function(e){return t[0]=r(e).text(),t})).then(function(t){return e(v=t)}).then(function(){u.fulltext().then(function(e){return v=e})})})}function j(e){e=d.normalizeText(e,_.caseSensitive);for(var t=0,n=-m.length;-1!=(n=e.indexOf(m,n+m.length));)t++;return t}function C(e){if(e.drawable){var t=s.timer.tic();e.drawable.find(".".concat(d.klass)).remove(),s.log("clear ".concat(y[e.index]," matches (").concat(e.index,"): ").concat(s.timer.toc(t)," ms"))}}function E(e,t){var n=a.getPage(e);return t||w[n.index]&&n.visible?(C(n),function(e,t){return null===m?Promise.resolve():b[e.index]().then(function(n){var i=s.timer.tic();n.forEach(function(n,i){if(n.isValid()){var o=l.getNormalizedRects(n,e),a=o.slice(1).reduce(function(e,t){return e.boundingRect(t)},o[0].clone()),c=r(s.tagFromRect(a)).appendTo(e.drawable);c.addClass("".concat(d.klass," rangy")),e.index==g.pageIdx&&i==g.matchIdx&&(c.addClass("selected"),t&&d.scrollIntoView(e,c[0]))}else console.warn("finder: range not valid:",n)}),s.log("render ".concat(y[e.index]," matches (").concat(e.index,"): ").concat(s.timer.toc(i)," ms"))})}(n,t).then(function(){w[n.index]=!1})):Promise.resolve()}function S(e,t){function n(){return E[e]=E(e,t).then(function(){delete E[e]})}p.push(function(){return E[e]?E[e].then(n):n()})}function T(){a.eachPage(function(e){b[e.index]=function(){return Promise.resolve([])},y[e.index]=0,w[e.index]=!1,C(e)}),h=0,g=null,m=null,O()}function O(){f.trigger("found",{selected:g?Object.keys(y).map(function(e){return parseInt(e)}).filter(function(e){return e<g.pageIdx}).reduce(function(e,t){return e+y[t]},0)+g.matchIdx+1:0,total:h})}a.onInit(k),a.on("scale",function(){a.eachVisiblePage(function(e,t){return S(t)})}),a.on("scroll",i.throttle(function(){a.eachVisiblePage(function(e,t){return S(t)})},100)),f.find=function(e,t){k().then(function(){T(),e&&e.length&&(_=Object.assign({},d.defaults,t),function(e,t){var n=d.normalizeText(e,_.caseSensitive);if(n!==m){m=n,g={pageIdx:-1,matchIdx:-1},h=0;for(var r=a.currentIndex,i=0,o=a.contentPages.length;i<o;i++)!function(e){w[e]=!0,y[e]=j(v[e-1]),b[e]=function t(){return t.result?Promise.resolve(t.result):x(e).then(function(e){return t.result=e})},h+=y[e],O(),S(e)}((r+i-1)%o+1)}}(e))})},f.clear=T,f.next=function(){if(g&&-1!=g.pageIdx){if(g.matchIdx<y[g.pageIdx]-1)g.matchIdx++,w[g.pageIdx]=!0,S(g.pageIdx,!0);else{w[g.pageIdx]=!0,S(g.pageIdx);for(var e=0;e<a.numPages;){if(g.pageIdx++,g.pageIdx>a.numPages&&(g.pageIdx=1),y[g.pageIdx]){g.matchIdx=0,w[g.pageIdx]=!0,S(g.pageIdx,!0);break}e++}}O()}},f.prev=function(){if(g&&-1!=g.pageIdx){if(g.matchIdx>0)g.matchIdx--,w[g.pageIdx]=!0,S(g.pageIdx,!0);else{w[g.pageIdx]=!0,S(g.pageIdx);for(var e=0;e<a.numPages;){if(g.pageIdx--,g.pageIdx<1&&(g.pageIdx=a.numPages),y[g.pageIdx]){g.matchIdx=y[g.pageIdx]-1,w[g.pageIdx]=!0,S(g.pageIdx,!0);break}e++}}O()}},t.exports=f},{"../annotations/annotation_helper":439,"../article":455,"../common/eventer":466,"../common/util":482,"../viewer/viewer":602,"./finder_helper":526,"async/queue":164,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.array.map":285,"core-js/modules/es6.array.reduce":286,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.keys":298,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/web.dom.iterable":321,jquery:400,underscore:432}],528:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.array.reduce"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.index-of");e("jquery");var r=e("underscore"),i=e("async/queue"),o=e("../viewer/viewer"),a=e("../common/util"),s=e("../common/eventer"),c=e("./finder_helper"),l=s({}),u=i(function(e,t){return e().then(t)}),d=0,f=0,p=null,h=null,m={},g={},v={},y={},b={};function w(e){for(var t=[],n=-p.length;-1!=(n=e.indexOf(p,n+p.length));)t.push(n);return t}function _(e,t){var n=o.getPage(e);(t||y[e]&&n.visible)&&u.push(function(){return n.load().then(function(){return n.getTextContent().then(function(r){var i=n.getTextDivs();!function(e,t,n){var r=v[e];if(r&&r.length){for(var i=a.timer.tic(),o=-1,s=0;s<r.length;s++){for(var c=r[s],l=Math.max(o,c.begin.divIdx);l<=c.end.divIdx;l++){var u=n[l];u.textContent=t.items[l].str,u.className=""}o=c.end.divIdx+1}a.log("clear ".concat(r.length," matches (").concat(e,"): ").concat(a.timer.toc(i)," ms"))}}(e,r,i),v[e]=function(e,t){for(var n=0,r=0,i=t.items,o=[],a=0;a<e.length;a++){for(var s={},c=e[a];n!==i.length-1&&c>=r+i[n].str.length;)r+=i[n].str.length,n++;for(n===i.length&&console.warn("finder: could not find a matching mapping"),s.begin={divIdx:n,offset:c-r},c+=p.length;n!==i.length-1&&c>r+i[n].str.length;)r+=i[n].str.length,n++;s.end={divIdx:n,offset:c-r},o.push(s)}return o}(m[e],r),function(e,t,n,r){if(null!==p){var i=v[e];if(i&&i.length){for(var s=a.timer.tic(),l=null,u={divIdx:-1,offset:void 0},d=0;d<i.length;d++){var f=i[d],m=f.begin,g=f.end,y=e==h.pageIdx&&d==h.matchIdx,b=y?" selected":"";if(l&&m.divIdx===l.divIdx?k(l.divIdx,l.offset,m.offset):(null!==l&&k(l.divIdx,l.offset,u.offset),x(m)),m.divIdx===g.divIdx)k(m.divIdx,m.offset,g.offset,c.klass+b);else{k(m.divIdx,m.offset,u.offset,"".concat(c.klass," begin")+b);for(var w=m.divIdx+1,_=g.divIdx;w<_;w++)n[w].className="".concat(c.klass," middle")+b;x(g,"".concat(c.klass," end")+b)}l=g,y&&r&&c.scrollIntoView(o.getPage(e),n[m.divIdx])}l&&k(l.divIdx,l.offset,u.offset),a.log("render ".concat(i.length," matches (").concat(e,"): ").concat(a.timer.toc(s)," ms"))}}function x(e,t){var r=e.divIdx;n[r].textContent="",k(r,0,e.offset,t)}function k(e,r,i,o){var a=n[e],s=t.items[e].str.substring(r,i),c=document.createTextNode(s);if(o){var l=document.createElement("span");return l.className=o,l.appendChild(c),void a.appendChild(l)}a.appendChild(c)}}(e,r,i,t),y[e]=!1})})})}function x(){o.eachPage(function(e){m[e.index]=[],g[e.index]=0,y[e.index]=!0,_(e.index)}),d=0,h=null,p=null,k()}function k(){l.trigger("found",{selected:h?Object.keys(g).map(function(e){return parseInt(e)}).filter(function(e){return e<h.pageIdx}).reduce(function(e,t){return e+g[t]},0)+h.matchIdx+1:0,total:d})}o.on("scale",function(){o.eachVisiblePage(function(e,t){return _(t)})}),o.on("scroll",r.throttle(function(){o.eachVisiblePage(function(e,t){return _(t)})},100)),l.find=function(e,t){x(),e&&e.length&&(b=Object.assign({},c.defaults,t),function(e){var t=c.normalizeText(e,b.caseSensitive);if(t!==p){p=t,f++,h={pageIdx:-1,matchIdx:-1},d=0;for(var n=Promise.resolve(),r=o.currentIndex,i=0,a=o.contentPages.length;i<a;i++)!function(e,t){n=n.then(function(){return o.getPage(e).getTextContent().then(function(n){if(t==f&&n.items){var r=n.items.map(function(e){return e.str}).join("");r=c.normalizeText(r,b.caseSensitive),y[e]=!0,m[e]=w(r),g[e]=m[e].length,d+=g[e],-1==h.pageIdx&&m[e].length&&(h.pageIdx=e,h.matchIdx=0),_(e),k()}})})}((r+i-1)%a+1,f)}}(e))},l.clear=x,l.next=function(){if(h&&-1!=h.pageIdx){if(h.matchIdx<g[h.pageIdx]-1)h.matchIdx++,y[h.pageIdx]=!0,_(h.pageIdx,!0);else{y[h.pageIdx]=!0,_(h.pageIdx);for(var e=0;e<o.numPages;){if(h.pageIdx++,h.pageIdx>o.numPages&&(h.pageIdx=1),g[h.pageIdx]){h.matchIdx=0,y[h.pageIdx]=!0,_(h.pageIdx,!0);break}e++}}k()}},l.prev=function(){if(h&&-1!=h.pageIdx){if(h.matchIdx>0)h.matchIdx--,y[h.pageIdx]=!0,_(h.pageIdx,!0);else{y[h.pageIdx]=!0,_(h.pageIdx);for(var e=0;e<o.numPages;){if(h.pageIdx--,h.pageIdx<1&&(h.pageIdx=o.numPages),g[h.pageIdx]){h.matchIdx=g[h.pageIdx]-1,y[h.pageIdx]=!0,_(h.pageIdx,!0);break}e++}}k()}},t.exports=l},{"../common/eventer":466,"../common/util":482,"../viewer/viewer":602,"./finder_helper":526,"async/queue":164,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.array.map":285,"core-js/modules/es6.array.reduce":286,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.keys":298,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/web.dom.iterable":321,jquery:400,underscore:432}],529:[function(e,t,n){"use strict";t.exports={definition:{prefix:"fac",iconName:"cloudOff",icon:[24,24,[],null,"M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"]}}},{}],530:[function(e,t,n){"use strict";t.exports={definition:{prefix:"fac",iconName:"description",icon:[24,24,[],null,"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"]}}},{}],531:[function(e,t,n){"use strict";t.exports={definition:{prefix:"fac",iconName:"lineWeight",icon:[24,24,[],null,"M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"]}}},{}],532:[function(e,t,n){"use strict";t.exports={definition:{prefix:"fac",iconName:"playlistAddCheck",icon:[24,24,[],null,"M2 14h8v2H2zm0-4h12v2H2zm0-4h12v2H2zm16 4h-2v4h-4v2h4v4h2v-4h4v-2h-4z"]}}},{}],533:[function(e,t,n){"use strict";t.exports={definition:{prefix:"fac",iconName:"playlistAddCheck",icon:[24,24,[],null,"M14 10H2v2h12v-2zm0-4H2v2h12V6zM2 16h8v-2H2v2zm19.5-4.5L23 13l-6.99 7-4.51-4.5L13 14l3.01 3 5.49-5.5z"]}}},{}],534:[function(e,t,n){"use strict";t.exports={definition:{prefix:"fac",iconName:"screenRotation",icon:[24,24,[],null,"M16.48 2.52c3.27 1.55 5.61 4.72 5.97 8.48h1.5C23.44 4.84 18.29 0 12 0l-.66.03 3.81 3.81 1.33-1.32zm-6.25-.77c-.59-.59-1.54-.59-2.12 0L1.75 8.11c-.59.59-.59 1.54 0 2.12l12.02 12.02c.59.59 1.54.59 2.12 0l6.36-6.36c.59-.59.59-1.54 0-2.12L10.23 1.75zm4.6 19.44L2.81 9.17l6.36-6.36 12.02 12.02-6.36 6.36zm-7.31.29C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32z"]}}},{}],535:[function(e,t,n){"use strict";var r,i,o,a,s,c;r=window,i=document,o="script",a="ga",r.GoogleAnalyticsObject=a,r.ga=r.ga||function(){(r.ga.q=r.ga.q||[]).push(arguments)},r.ga.l=1*new Date,s=i.createElement(o),c=i.getElementsByTagName(o)[0],s.async=1,s.src="https://www.google-analytics.com/analytics.js",c.parentNode.insertBefore(s,c)},{}],536:[function(e,t,n){"use strict";var r,i,o,a,s,c;e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.regexp.split"),r=document,(i=window.mixpanel||[]).__SV||(window.mixpanel=i,i._i=[],i.init=function(e,t,n){function r(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var o=i;for(void 0!==n?o=i[n]=[]:n="mixpanel",o.people=o.people||[],o.toString=function(e){var t="mixpanel";return"mixpanel"!==n&&(t+="."+n),e||(t+=" (stub)"),t},o.people.toString=function(){return o.toString(1)+".people (stub)"},s="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),c=0;c<s.length;c++)r(o,s[c]);i._i.push([e,t,n])},i.__SV=1.2,(o=r.createElement("script")).type="text/javascript",o.async=!0,o.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===r.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(a=r.getElementsByTagName("script")[0]).parentNode.insertBefore(o,a))},{"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.regexp.match":304,"core-js/modules/es6.regexp.split":307,"core-js/modules/es6.regexp.to-string":308}],537:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.symbol"),e("core-js/modules/es6.regexp.constructor"),e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.array.index-of"),function(e,t,n){var i=[],o={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){i.push({name:e,fn:t,options:n})},addAsyncTest:function(e){i.push({name:null,fn:e})}},a=function(){};a.prototype=o,(a=new a).addTest("history",function(){var t=navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")||"file:"===location.protocol)&&(e.history&&"pushState"in e.history)}),a.addTest("postmessage","postMessage"in e),a.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);var s=[];function c(e,t){return r(e)===t}var l=o._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];o._prefixes=l;var u=t.documentElement,d="svg"===u.nodeName.toLowerCase();function f(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):d?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}a.addTest("video",function(){var e=f("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(e){}return t}),a.addTest("cssgradients",function(){for(var e,t="background-image:",n="",r=0,i=l.length-1;r<i;r++)e=0===r?"to ":"",n+=t+l[r]+"linear-gradient("+e+"left top, #9f9, white);";a._config.usePrefixes&&(n+=t+"-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));");var o=f("a").style;return o.cssText=n,(""+o.backgroundImage).indexOf("gradient")>-1}),a.addTest("opacity",function(){var e=f("a").style;return e.cssText=l.join("opacity:.55;"),/^0.55$/.test(e.opacity)}),a.addTest("rgba",function(){var e=f("a").style;return e.cssText="background-color:rgba(150,255,150,.5)",(""+e.backgroundColor).indexOf("rgba")>-1});var p=function(){var e=!("onblur"in t.documentElement);return function(t,r){var i;return!!t&&(r&&"string"!=typeof r||(r=f(r||"div")),!(i=(t="on"+t)in r)&&e&&(r.setAttribute||(r=f("div")),r.setAttribute(t,""),i="function"==typeof r[t],r[t]!==n&&(r[t]=n),r.removeAttribute(t)),i)}}();function h(e,n,r,i){var o,a,s,c,l="modernizr",p=f("div"),h=function(){var e=t.body;return e||((e=f(d?"svg":"body")).fake=!0),e}();if(parseInt(r,10))for(;r--;)(s=f("div")).id=i?i[r]:l+(r+1),p.appendChild(s);return(o=f("style")).type="text/css",o.id="s"+l,(h.fake?h:p).appendChild(o),h.appendChild(p),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),p.id=l,h.fake&&(h.style.background="",h.style.overflow="hidden",c=u.style.overflow,u.style.overflow="hidden",u.appendChild(h)),a=n(p,e),h.fake?(h.parentNode.removeChild(h),u.style.overflow=c,u.offsetHeight):p.parentNode.removeChild(p),!!a}o.hasEvent=p,a.addTest("hashchange",function(){return!1!==p("hashchange",e)&&(t.documentMode===n||t.documentMode>7)});var m,g,v,y=o.testStyles=h;(m=navigator.userAgent,g=m.match(/w(eb)?osbrowser/gi),v=m.match(/windows phone/gi)&&m.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9,g||v)?a.addTest("fontface",!1):y('@font-face {font-family:"font";src:url("https://")}',function(e,n){var r=t.getElementById("smodernizr"),i=r.sheet||r.styleSheet,o=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"",s=/src/i.test(o)&&0===o.indexOf(n.split(" ")[0]);a.addTest("fontface",s)});var b=o._config.usePrefixes?"Moz O ms Webkit".split(" "):[];o._cssomPrefixes=b;var w=o._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];function _(e,t){return function(){return e.apply(t,arguments)}}o._domPrefixes=w;var x={elem:f("modernizr")};a._q.push(function(){delete x.elem});var k={style:x.elem.style};function j(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function C(t,r){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(j(t[i]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];i--;)o.push("("+j(t[i])+":"+r+")");return h("@supports ("+(o=o.join(" or "))+") { #modernizr { position: absolute; } }",function(t){return"absolute"==function(t,n,r){var i;if("getComputedStyle"in e){i=getComputedStyle.call(e,t,n);var o=e.console;null!==i?r&&(i=i.getPropertyValue(r)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else i=!n&&t.currentStyle&&t.currentStyle[r];return i}(t,null,"position")})}return n}function E(e,t,r,i){if(i=!c(i,"undefined")&&i,!c(r,"undefined")){var o=C(e,r);if(!c(o,"undefined"))return o}for(var a,s,l,u,d,p=["modernizr","tspan","samp"];!k.style&&p.length;)a=!0,k.modElem=f(p.shift()),k.style=k.modElem.style;function h(){a&&(delete k.style,delete k.modElem)}for(l=e.length,s=0;s<l;s++)if(u=e[s],d=k.style[u],~(""+u).indexOf("-")&&(u=u.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")),k.style[u]!==n){if(i||c(r,"undefined"))return h(),"pfx"!=t||u;try{k.style[u]=r}catch(e){}if(k.style[u]!=d)return h(),"pfx"!=t||u}return h(),!1}a._q.unshift(function(){delete k.style});var S=o.testProp=function(e,t,r){return E([e],n,t,r)};function T(e,t,n,r,i){var o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+b.join(o+" ")+o).split(" ");return c(t,"string")||c(t,"undefined")?E(a,t,r,i):function(e,t,n){var r;for(var i in e)if(e[i]in t)return!1===n?e[i]:c(r=t[e[i]],"function")?_(r,n||t):r;return!1}(a=(e+" "+w.join(o+" ")+o).split(" "),t,n)}function O(e,t,r){return T(e,n,n,t,r)}a.addTest("textshadow",S("textShadow","1px 1px")),o.testAllProps=T,o.testAllProps=O,a.addTest("backgroundsize",O("backgroundSize","100%",!0)),a.addTest("borderradius",O("borderRadius","0px",!0)),a.addTest("boxshadow",O("boxShadow","1px 1px",!0)),a.addTest("flexbox",O("flexBasis","1px",!0)),a.addTest("flexboxlegacy",O("boxDirection","reverse",!0)),a.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&O("transform","scale(1)",!0)}),a.addTest("csstransitions",O("transition","all",!0)),function(){var e,t,n,r,o,l;for(var u in i)if(i.hasOwnProperty(u)){if(e=[],(t=i[u]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=c(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)1===(l=e[o].split(".")).length?a[l[0]]=r:(!a[l[0]]||a[l[0]]instanceof Boolean||(a[l[0]]=new Boolean(a[l[0]])),a[l[0]][l[1]]=r),s.push((r?"":"no-")+l.join("-"))}}(),delete o.addTest,delete o.addAsyncTest;for(var A=0;A<a._q.length;A++)a._q[A]();e.Modernizr=a}(window,document)},{"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.function.name":292,"core-js/modules/es6.regexp.constructor":301,"core-js/modules/es6.regexp.match":304,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.split":307,"core-js/modules/es6.symbol":316,"core-js/modules/es7.symbol.async-iterator":320}],538:[function(e,t,n){"use strict";var r=e("rangy");e("rangy/lib/rangy-classapplier"),e("rangy/lib/rangy-highlighter"),e("rangy/lib/rangy-selectionsaverestore"),e("rangy/lib/rangy-serializer"),e("rangy/lib/rangy-textrange"),r.init(),t.exports=r},{rangy:415,"rangy/lib/rangy-classapplier":414,"rangy/lib/rangy-highlighter":416,"rangy/lib/rangy-selectionsaverestore":417,"rangy/lib/rangy-serializer":418,"rangy/lib/rangy-textrange":419}],539:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign");var r=e("tippy.js");Object.assign(r.defaults,{delay:100,duration:[100,100],animation:"scale",animateFill:!1,performance:!0,zIndex:2e9})},{"core-js/modules/es6.object.assign":295,"tippy.js":430}],540:[function(e,t,n){"use strict";e("core-js/modules/es6.array.is-array");var r=e("../environment"),i=e("../api_keys"),o={production:"readcube-reader",staging:"readcube-reader-staging"}[r.get()]||"";function a(e){try{return"string"==typeof e?e:JSON.stringify(e)}catch(e){}}t.exports={application:o,token:i.trackjs,serialize:function(e){return Array.isArray(e)?function(e){for(var t=[],n=0;n<e.length;n++)t.push(a(e[n]));return t.join(" ")}(e):a(e)},onError:function(e){return!(/401 Unauthorized: GET/.test(e.message)||/^Script error(\.)?$/.test(e.message)||/\/\/api\.altmetric\.com\/v1\/doi/.test(e.message)||/file:\/\/(\/)?/.test(e.url)||/404 Not Found: GET https:\/\/sync\.readcube\.com/.test(e.message))}}},{"../api_keys":454,"../environment":524,"core-js/modules/es6.array.is-array":283}],541:[function(e,t,n){"use strict";e("core-js/modules/es6.date.now"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.filter");var r=e("jquery"),i=e("underscore"),o=e("query-string"),a=e("./user"),s=e("./endpoint"),c={type:"GET",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0}};t.exports={access:function e(t,n){e.cache||(e.cache={}),e.cache[a.id]||(e.cache[a.id]={});var l=t.filter(function(t){return n||!e.cache[a.id][t]});return l.length?new Promise(function(n){var u=o.stringify({dois:l},{arrayFormat:"index"});r.ajax(Object.assign({},c,{url:"".concat(s.institution,"/access?").concat(u),success:function(r){Object.assign(e.cache[a.id],r),n(i.pick(e.cache[a.id],t))}}))}):Promise.resolve(i.pick(e.cache[a.id],t))},available:function(e){var t=o.stringify({doi:e,t:Date.now()});return r.ajax(Object.assign({},c,{url:"".concat(s.institution,"/available?").concat(t)}))}}},{"./endpoint":523,"./user":586,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.date.now":288,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"query-string":413,underscore:432}],542:[function(e,t,n){"use strict";e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.function.bind");var r=e("jquery"),i=e("./user"),o=e("./sync/sync"),a=e("./evtbus"),s=e("./status"),c=e("./article"),l=e("./sync_api"),u=e("./reader_api"),d=e("./analytics_api"),f=e("./common/util"),p=e("./viewer/viewer"),h=(e("./elements/popover"),e("./annotations/annotation_api")),m=e("./tracking/tracker"),g=e("./electron/index"),v=e("./mobile/index"),y=e("./notifications/index");e("./includes/tooltip_config"),e("./elements/menu_bar"),e("./elements/sidepanel"),e("./elements/pdf_toolbar"),e("./annotations/annotation_toolbar"),e("./annotations/freehand_toolbar"),e("./citations/citation_ctrl"),e("./components/app_nav"),e("./components/supplement_info"),e("./components/export"),e("./components/notes"),e("./components/thumb_view"),e("./components/references"),e("./components/figures"),e("./components/supplements"),e("./components/metrics"),e("./components/related");var b=[],w=[1080,720],_=p.init.bind(p),x=p.destroy.bind(p);p.version=e("./version"),p.evtbus=a,p.status=s,p.annotations=h,p.setMetadata=function(e){return c.metadata(e)};var k="default";function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r(t.container).addClass("viewer-root"),c=r('<div id="viewer-content"></div>').appendTo(n);if(t=Object.assign({viewer_pdf:t.pdf},t),t=Object.assign(t,{container:c}),l.init(t.sync_api||e("./web/sync_api")),u.init(t.reader_api||e("./web/reader_api/reader_api")),d.init(t.analytics_api||e("./web/analytics_api")),!f.isMobile){var h=function(){var e=c[0].clientWidth;c.attr("client-width",e),c.attr("min-width",b.filter(function(t){return t<e}).join(" ")),c.attr("max-width",w.filter(function(t){return t>e}).join(" ")),a.trigger("resize-content",[e])};new(e("css-element-queries/src/ResizeSensor"))(c[0],function(){return h()}),h()}return p.isResolve||p.isDiscover||(i.init(),o.init(),m.init(),y.init(c),s.on("offline",function(){return n.addClass("offline")}),s.on("online",function(){return n.removeClass("offline")}),p.on("page-changed",function(e,t){return m.scroll(t)})),g.init(n,t),v.init(n),p.isResolve||e("./context_menu"),p.destroy=function(){x(),n.empty(),a.trigger("destroy")},t.theme&&(p.theme=t.theme),_(t)}r("html").addClass("".concat(k,"-theme")),Object.defineProperty(p,"theme",{get:function(){return k},set:function(e){r("html").removeClass("".concat(k,"-theme")).addClass("".concat(k=e,"-theme"))}}),p.init=function(e){return p.isPersonal=!0,j(e)},p.public=function(e){return p.isPublic=!0,j(e)},p.supplement=function(e){return p.isSupplement=!0,j(e)},p.resolve=function(t){return p.isResolve=!0,r(t.container).addClass("resolve"),e("./resolve/context_menu").init(t.types),j(t)},p.discover=function(t){return p.isDiscover=!0,r(t.container).addClass("discover"),e("./web/discover").init(t.container),j(t)},p.labs=function(e){return p.isLabs=!0,j(e)},window.print=function(){return a.trigger("print-pdf")},window.viewer=p,t.exports=p},{"./analytics_api":435,"./annotations/annotation_api":438,"./annotations/annotation_toolbar":443,"./annotations/freehand_toolbar":447,"./article":455,"./citations/citation_ctrl":458,"./common/util":482,"./components/app_nav":485,"./components/export":491,"./components/figures":493,"./components/metrics":494,"./components/notes":496,"./components/references":501,"./components/related":502,"./components/supplement_info":504,"./components/supplements":505,"./components/thumb_view":506,"./context_menu":509,"./electron/index":510,"./elements/menu_bar":514,"./elements/pdf_toolbar":516,"./elements/popover":517,"./elements/sidepanel":520,"./evtbus":525,"./includes/tooltip_config":539,"./mobile/index":544,"./notifications/index":562,"./reader_api":565,"./resolve/context_menu":566,"./status":569,"./sync/sync":571,"./sync_api":575,"./tracking/tracker":585,"./user":586,"./version":587,"./viewer/viewer":602,"./web/analytics_api":616,"./web/discover":618,"./web/reader_api/reader_api":638,"./web/sync_api":647,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.function.bind":291,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,"css-element-queries/src/ResizeSensor":322,jquery:400}],543:[function(e,t,n){"use strict";e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.string.iterator"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("jquery"),i=e("underscore"),o=e("./article"),a=e("./api_keys"),s=i.memoize(function(e){return new Promise(function(t,n){r.ajax({url:"https://api.altmetric.com/v1/doi/".concat(encodeURIComponent(e)),data:{key:a.altmetric},success:t,error:function(){return t({})}})})}),c=i.memoize(function(e){return new Promise(function(t,n){r.ajax({url:"https://metrics-api.dimensions.ai/doi/".concat(encodeURIComponent(e)),success:t,error:function(){return t({})}})})});function l(e,t){var n=0;return n+=e.times_cited?1:0,n+=e.recent_citations?1:0,n+=e.relative_citation_ratio?1:0,n+=e.field_citation_ratio?1:0,n+=t.score?1:0}t.exports={metrics:function(e){return Promise.all([c(e),s(e)]).then(function(e){var t=e[0],n=e[1];return o.isPublisher(/wiley|cochrane/)&&(t=i.omit(t,"relative_citation_ratio","field_citation_ratio")),{dimensions:t,altmetric:n,count:l(t,n)}})},altmetric:s,dimensions:c}},{"./api_keys":454,"./article":455,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.string.iterator":313,"core-js/modules/web.dom.iterable":321,jquery:400,underscore:432}],544:[function(e,t,n){"use strict";var r=e("jquery"),i=e("../common/util"),o=e("../common/browser");t.exports={init:function(){i.isMobile&&(o.iPhoneX&&r("html").addClass("iphone-x"),e("./read_mode"),e("./pages_slider"))}}},{"../common/browser":461,"../common/util":482,"./pages_slider":546,"./read_mode":547,jquery:400}],545:[function(e,t,n){"use strict";var r=e("../evtbus"),i=e("../article"),o=e("../components/app_nav"),a=e("../sync/sync_item"),s=e("../viewer/viewer"),c=e("../tracking/tracker"),l={playlistAdd:e("../icons/playlistAdd").definition,playlistAddCheck:e("../icons/playlistAddCheck").definition};function u(){a.synced?o.update({id:"library",icon:l.playlistAddCheck,title:"In Library",onclick:function(){r.trigger("open-in-library",[a.item])}}):o.update({id:"library",icon:l.playlistAdd,title:"Add to Library",onclick:function(){r.trigger("add-to-library",["add_to_library"]),c.menuBar("add_to_library")},busy:a.busy})}s.onInit(function(){i.basedata().then(function(){o.add({id:"library",icon:l.playlistAdd,title:""}),a.on("added removed busy:start busy:end",u),u()})})},{"../article":455,"../components/app_nav":485,"../evtbus":525,"../icons/playlistAdd":532,"../icons/playlistAddCheck":533,"../sync/sync_item":573,"../tracking/tracker":585,"../viewer/viewer":602}],546:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=(e("hammerjs"),e("@fortawesome/fontawesome-svg-core").icon),o=e("../viewer/viewer"),a=e("../elements/slider"),s=e("../elements/sidepanel"),c=e("../components/thumb_view"),l=e("../tracking/tracker"),u={classes:["fa-icon icon-h-20"]},d={gripVertical:e("@fortawesome/pro-solid-svg-icons/faGripVertical").definition};o.onInit(function(){var e=r(".viewer-root"),t=r('\n    <div class="mobile-pagination">\n      <button class="toolbar-btn thumb-view">\n        '.concat(i(d.gripVertical,u).html,"\n      </button>\n    </div>\n  ")),n=a({container:t,min:1,max:o.numPages,klass:"pages-slider"}),f=null;t.appendTo("#viewer-content"),t.find(".thumb-view").click(function(){s.open({id:"thumb_view",title:"Page Thumbnails",content:c.render()}),l.pdfToolbar("thumb_view")}),c.on("thumb-click",function(){return s.close("thumb_view")}),n.on("slide",function(e,t){return o.slideIndex=t}),o.on("page-changed",function(e,t){return n.set(t)}),n.on("slide-start",function(){clearTimeout(f),e.addClass("sliding")}),n.on("slide-end",function(){o.gotoPage(Math.round(o.slideIndex)),f=setTimeout(function(){e.removeClass("sliding")},3e3)})})},{"../components/thumb_view":506,"../elements/sidepanel":520,"../elements/slider":521,"../tracking/tracker":585,"../viewer/viewer":602,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-solid-svg-icons/faGripVertical":76,"core-js/modules/es6.array.find":279,hammerjs:390,jquery:400}],547:[function(e,t,n){"use strict";var r=e("jquery"),i=e("../common/util"),o=e("../viewer/viewer"),a=5e3,s="read-mode";o.onInit(function(){var e=r(".viewer-root"),t=r(".menu-bar"),n=c();function c(){return setTimeout(function(){return e.addClass(s)},a)}t.click(function(t){clearTimeout(n),e.removeClass(s),n=c()}),o.hammer.on("singletap",function(){clearTimeout(n),e.toggleClass(s),n=c()}),r(window).on("resize orientationchange",function(){i.isLandscape||(clearTimeout(n),e.removeClass(s),n=c())})})},{"../common/util":482,"../viewer/viewer":602,jquery:400}],548:[function(e,t,n){"use strict";e("core-js/modules/es6.string.link");var r=e("../article"),i=e("../common/util"),o=e("../web/access"),a=e("../modals/share_modal"),s=e("../tracking/tracker"),c=e("../components/app_nav"),l={link:e("@fortawesome/pro-light-svg-icons/faLink").definition};!function(){if(!i.isMobile)return;o.on("fullview",function(){r.data.access_share_enabled&&c.add({id:"share",icon:l.link,title:"Share",onclick:function(){a.open(),s.sidepanel("share")}})})}()},{"../article":455,"../common/util":482,"../components/app_nav":485,"../modals/share_modal":560,"../tracking/tracker":585,"../web/access":604,"@fortawesome/pro-light-svg-icons/faLink":45,"core-js/modules/es6.string.link":314}],549:[function(e,t,n){"use strict";e("core-js/modules/es6.function.bind");var r=e("hammerjs"),i=e("../common/transform_helper");function o(e,t){this._elem=e,this._opts=t,this._mc=null,this._startX=null,this._startY=null,this._panDirectioon=null,this._initScale=null,this._minScale=null,this._maxScale=null,this._transform=null,this._transformOrigin=null,this._ticking=null,this._scaling=null,this._translating=null,this._swiping=null,this._offsetWidth=null,this._offsetHeight=null,this._dbltapScale=null,this._init()}o.prototype={_init:function(){this._dbltapScale=.5,this._offsetWidth=this._elem.offsetWidth,this._offsetHeight=this._elem.offsetHeight,this._initTransform(),this._mc=new r.Manager(this._elem,{preventDefault:!0,recognizers:[[r.Pan,{pointers:0}],[r.Pinch,{},["pan"]],[r.Tap,{event:"doubletap",posThreshold:20,threshold:10,taps:2},["pan"]]]}),this._mc.on("pinchstart",this._onPinchStart.bind(this)),this._mc.on("panstart panmove",this._onPan.bind(this)),this._mc.on("pinchstart pinchmove",this._onPinch.bind(this)),this._mc.on("doubletap",this._onDoubleTap.bind(this)),this._mc.on("hammer.input",this._onInput.bind(this)),this._finalizeElementTransform()},_initTransform:function(){this._startX=0,this._startY=0,this._initScale=this._opts.scale||1,this._minScale=this._initScale,this._maxScale=4*this._initScale,this._transformOrigin={x:0,y:0},this._transform={translate:{x:this._startX,y:this._startY},scale:this._initScale}},_onPan:function(e){this._translating=!0,this._setPanDirection(e);var t=this._panDirection==r.DIRECTION_VERTICAL?0:e.deltaX,n=this._panDirection==r.DIRECTION_HORIZONTAL?0:e.deltaY,i={x:this._startX+t,y:this._startY+n},o=this._setTransfromTranslate(i,this._panDirection==r.DIRECTION_HORIZONTAL);(e.panOutX=i.x-o.x)&&(this._swiping=!0),this._requestElementTransform()},_onPinchStart:function(e){this._setTransformOrigin(e.center)},_onPinch:function(e){this._scaling=!0;var t=this._swiping?1:e.scale;this._setTransformScale(this._initScale*t),this._requestElementTransform()},_onDoubleTap:function(e){this._dbltapScale=1/this._dbltapScale,this._setTransformOrigin(e.center),this._setTransformScale(this._transform.scale*this._dbltapScale),this._finalizeElementTransform(!0)},_onInput:function(e){e.isFirst&&this._elem.classList.remove("animate"),e.isFinal&&(this._scaling||this._translating)&&(this._setTransformOrigin(),this._setElementTransform(),this._addTranslateInertia(e),this._finalizeElementTransform(!0),this._translating=null,this._scaling=null,this._swiping=null,this._panDirection=null)},_setPanDirection:function(e){this._scaling&&!this._swiping?this._panDirection=r.DIRECTION_ALL:this._panDirection||(this._offsetHeight*this._transform.scale<=this._opts.viewport.height?this._panDirection=r.DIRECTION_HORIZONTAL:Math.abs(e.deltaY)<8&&Math.abs(e.deltaX)>12?this._panDirection=r.DIRECTION_HORIZONTAL:Math.abs(e.deltaX)<8&&Math.abs(e.deltaY)>12?this._panDirection=r.DIRECTION_VERTICAL:Math.abs(e.deltaX)>=8&&Math.abs(e.deltaY)>=8&&(this._panDirection=r.DIRECTION_ALL))},_finalizeElementTransform:function(e){this._setTransformOrigin(),this._setTransfromTranslate(this._transform.translate,!0),this._updateStartValues(),this._elem.classList.toggle("animate",!!e),this._setElementTransform()},_setTransformOrigin:function(e){var t=this._elem.getBoundingClientRect(),n=e?{x:(e.x-t.left)/this._transform.scale,y:(e.y-t.top)/this._transform.scale}:{x:0,y:0},r=(n.x-this._transformOrigin.x)*(this._transform.scale-1),i=(n.y-this._transformOrigin.y)*(this._transform.scale-1);this._transformOrigin=n,this._transform.translate.x+=r,this._transform.translate.y+=i,this._initScale=this._transform.scale,this._startX+=r,this._startY+=i},_setTransformScale:function(e){e=Math.min(e,this._maxScale),e=Math.max(e,this._minScale),this._transform.scale=e},_setTransfromTranslate:function(e,t){return t&&(e=this._clipTranslate(e)),this._transform.translate=e},_clipTranslate:function(e){e={x:e.x,y:e.y};var t=this._offsetWidth*this._transform.scale,n=this._offsetHeight*this._transform.scale,r=this._transformOrigin.x*(this._transform.scale-1),i=this._transformOrigin.y*(this._transform.scale-1),o=this._opts.viewport.width-t,a=this._opts.viewport.height-n;return t>this._opts.viewport.width?(e.x=Math.max(e.x,r+o),e.x=Math.min(e.x,r)):e.x=r+o/2,n>this._opts.viewport.height?(e.y=Math.max(e.y,i+a),e.y=Math.min(e.y,i)):e.y=i+a/2,e},_setElementTransform:function(){var e=this._scaling||this._translating;this._elem.style.transformOrigin=i.getCssTransformOrigin(this._transformOrigin),this._elem.style.transform=i.getCssTransform(this._transform,e)},_requestElementTransform:function(){var e=this;this._ticking||(this._ticking=!0,requestAnimationFrame(function(){e._setElementTransform(),e._ticking=!1}))},_updateStartValues:function(){this._startX=this._transform.translate.x,this._startY=this._transform.translate.y,this._initScale=this._transform.scale},_addTranslateInertia:function(e){if(!this._scaling){var t=100*e.velocityX,n=100*e.velocityY;Math.max(Math.abs(t),Math.abs(n))<10&&(t=n=0),this._panDirection==r.DIRECTION_VERTICAL&&(t=0),this._anDirection==r.DIRECTION_HORIZONTAL&&(n=0),this._transform.translate.x+=t,this._transform.translate.y+=n}},resize:function(e){var t=e.width/this._opts.viewport.width;this._opts.viewport=e,this._initScale*=t,this._minScale*=t,this._maxScale*=t,this._offsetWidth=this._elem.offsetWidth,this._offsetHeight=this._elem.offsetHeight,this._setTransformOrigin({x:this._opts.viewport.left,y:this._opts.viewport.top}),this._setTransformScale(this._transform.scale*t),this._finalizeElementTransform()},reset:function(e){this._opts.scale=e,this._initTransform(),this._finalizeElementTransform()},destroy:function(){this._mc.destroy(),this._mc=null,this._elem=null,this._opts=null,this._startX=null,this._startY=null,this._panDirectioon=null,this._initScale=null,this._minScale=null,this._maxScale=null,this._transform=null,this._transformOrigin=null,this._ticking=null,this._scaling=null,this._translating=null,this._swiping=null,this._offsetWidth=null,this._offsetHeight=null,this._dbltapScale=null},get hammer(){return this._mc}},t.exports=o},{"../common/transform_helper":480,"core-js/modules/es6.function.bind":291,hammerjs:390}],550:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("jquery"),i=e("query-string"),o=e("../user"),a=e("../status"),s=e("../endpoint"),c=e("../web/receiver"),l=e("../tracking/tracker"),u=e("../elements/sidepanel"),d=e("../common/util"),f=e("../web/client"),p=e("./offline_modal"),h=e("./modal"),m={};m.login=function(e){return a.onLine?new Promise(function(t){if(o.signedIn)t();else{var n="".concat(s.web,"/authentication"),a={embed:1,client:f.name,client_version:f.version};d.isMobile&&(a.mobile=1),e&&(a=Object.assign({tracking_action:e,tracking_origin:l.origin()},a)),n="".concat(n,"?").concat(i.stringify(a));var p,m=r('\n      <div class="auth-container">\n        <iframe class="auth-frame" src="'.concat(n,'">\n        </iframe>\n        <spinner-sq class="loader">\n          <div class="square-spin">\n            <div></div>\n          </div>\n        </spinner-sq>\n      </div>\n    '));m.find("iframe").on("load",g),c.readcube.on("auth:new",g),d.isSmallScreen?(u.open({id:"auth_panel",title:"Login & Register",content:m}),o.one("auth",function(){u.close(),t()})):(p=h({css_class:"auth-modal",content:m}),o.one("auth",function(){p.close(),t()}),p.open())}function g(){m.addClass("loaded")}}):(p.open(),Promise.reject())},t.exports=m},{"../common/util":482,"../elements/sidepanel":520,"../endpoint":523,"../status":569,"../tracking/tracker":585,"../user":586,"../web/client":617,"../web/receiver":642,"./modal":553,"./offline_modal":555,"core-js/modules/es6.array.find":279,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"query-string":413}],551:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.for-each");var r=e("jquery"),i=e("../common/template"),o=(e("../common/eventer"),e("./modal"));t.exports=function(e){var t=r('\n    <div class="basic-modal wrfont">\n      <div class="modal-title">\n        <h3>'.concat(e.title,'</h3>\n      </div>\n      <div class="modal-content"></div>\n      <div class="modal-buttons"></div>\n    </div>\n  '));return e.buttons.forEach(function(e,n){var o=e.elem||r('\n      <button\n        class="'.concat(i.cls({"action-btn":!0,primary:e.primary}),'">\n        ').concat(e.text,"\n      </button>\n    "));e.handler&&o.click(e.handler),o.appendTo(t.find(".modal-buttons"))}),t.find(".modal-content").append(e.content),e.align_buttons&&t.find(".modal-buttons").attr("align",e.align_buttons),o({content:t,no_close:e.no_close})}},{"../common/eventer":466,"../common/template":478,"./modal":553,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,jquery:400}],552:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("../environment"),o=e("../user"),a=e("../settings"),s=e("../article"),c=e("../web/access"),l=e("../web/client"),u=e("../common/template"),d=e("../viewer/viewer"),f=e("./basic_modal"),p=r('\n  <div class="content wrfont dev-tools">\n    <p><code>alt/opt + shift + d</code></p>\n    <table>\n      <tbody>\n        <tr>\n          <td>Environment:</td>\n          <td><code>'.concat(i.get(),'</code></td>\n        </tr>\n        <tr>\n          <td>Access Type:</td>\n          <td><code><span id="access-type">checking...</span></code></td>\n        </tr>\n        <tr>\n          <td>Access Method:</td>\n          <td><code><span id="access-method">checking...</span></code></td>\n        </tr>\n        <tr>\n          <td>Renderer:</td>\n          <td><code><span id="renderer">').concat(d.renderer,"</span></code></td>\n        </tr>\n        <tr>\n        <td>Viewer Version:</td>\n          <td><code>").concat(l.version,"</code></td>\n        </tr>\n        <td>Viewer Build:</td>\n          <td><code>").concat(l.build,"</code></td>\n        </tr>\n        <td>Client Id:</td>\n          <td><code>").concat(l.id,'</code></td>\n        </tr>\n        <td>User Id:</td>\n          <td><code><span id="x-user-id">n/a</span></code></td>\n        </tr>\n      </tbody>\n    </table>\n    <p>\n      <input type="checkbox" id="dark-theme" class="styled-checkbox"\n        ').concat(u.if("dark"==d.theme,function(){return"checked"}),'>\n      <label for="dark-theme">Dark Theme</label>\n    </p>\n    <p>\n      <input type="checkbox" id="redirect-notice" class="styled-checkbox"\n        ').concat(u.if(a.redirectNotice,function(){return"checked"}),'>\n      <label for="redirect-notice">Show Redirect Notice</label>\n    </p>\n    <p>\n      <input type="checkbox" id="access-debug" class="styled-checkbox"\n        ').concat(u.if(a.accessDebug,function(){return"checked"}),'>\n      <label for="access-debug">Show Access Info</label>\n    </p>\n    <p>\n      <input type="checkbox" id="textlayer-debug" class="styled-checkbox"\n        ').concat(u.if(a.textLayerDebug,function(){return"checked"}),'>\n      <label for="textlayer-debug">Text Layer Debug</label>\n    </p>\n  </div>\n'));p.find("input#dark-theme").change(function(){d.theme=this.checked?"dark":"default",a.theme=d.theme}),p.find("input#redirect-notice").change(function(){a.redirectNotice=this.checked}),p.find("input#access-debug").change(function(){a.accessDebug=this.checked}),p.find("input#textlayer-debug").change(function(){a.textLayerDebug=this.checked}),a.on("change:theme",function(e,t){p.find("input#dark-theme")[0].checked="dark"==t}),a.on("change:redirect-notice",function(e,t){p.find("input#redirect-notice")[0].checked=!!t}),a.on("change:access-debug",function(e,t){p.find("input#access-debug")[0].checked=!!t}),c.on("preview cloudview fullview",function(){p.find("span#access-type").text(s.accessType),p.find("span#access-method").text(s.accessMethod||"n/a"),p.find("span#renderer").text(d.renderer)}),d.on("render",function(e,t){p.find("span#renderer").text(t)}),o.onSignIn(function(){p.find("span#x-user-id").text(o.id)});var h=f({title:"Developer Tools",content:p,align_buttons:"center",buttons:[{text:"Done",primary:!0,handler:function(){return h.close()}}]});r(window).on("keydown",function(e){68==e.keyCode&&e.altKey&&e.shiftKey&&h.open()}),t.exports=h},{"../article":455,"../common/template":478,"../environment":524,"../settings":568,"../user":586,"../viewer/viewer":602,"../web/access":604,"../web/client":617,"./basic_modal":551,"core-js/modules/es6.array.find":279,jquery:400}],553:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("../common/eventer");t.exports=function(e){var t=i({}),n=!1,o=null;function a(){if(n)return n=!1,o.one("transitionend",function(){return o.detach()}),o.removeClass("visible"),t}return t.on("cancel",a),t.open=function(){if(!n)return n=!0,(o=r('\n      <div class="modal-backdrop">\n        <div class="modal-box"></div>\n      </div>\n    ').click(function(n){e.no_close||r(this).is(n.target)&&t.trigger("cancel")}).addClass(e.css_class||"")).find(".modal-box").append(e.content),o.appendTo(document.body),setTimeout(function(){return o.addClass("visible")},0),r(window).on("keydown.modal",function(e){27==e.keyCode&&(r(window).off("keydown.modal"),t.trigger("cancel"))}),t},t.close=a,Object.defineProperty(t,"isOpen",{get:function(){return n}}),t}},{"../common/eventer":466,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.define-property":297,jquery:400}],554:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var i=e("../endpoint"),o=e("../common/util"),a=e("./basic_modal");function s(){var e;return e=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a({title:"Whoops!",content:"<p>Content preview is currently not available.</p>",align_buttons:"left",no_close:!0,buttons:[{primary:!0,text:"Download File",handler:function(){return o.redirectOrPost(t)}},{text:"Go to Library",handler:function(){return o.redirectOrPost(i.app)}}]}),e.abrupt("return",n.open());case 2:case"end":return e.stop()}},e)}),(s=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}t.exports={open:function(e){return s.apply(this,arguments)}}},{"../common/util":482,"../endpoint":523,"./basic_modal":551,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"regenerator-runtime/runtime":420}],555:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var i=e("./basic_modal");function o(){var e;return e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i({title:"Temporarily Unavailable",content:"<p>You appear to be <strong>offline</strong>. Please go online to complete this action.</p>",buttons:[{text:"Got it!",primary:!0,handler:function(){return t.close()}}]}),e.abrupt("return",t.open());case 2:case"end":return e.stop()}},e)}),(o=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}t.exports={open:function(){return o.apply(this,arguments)}}},{"./basic_modal":551,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"regenerator-runtime/runtime":420}],556:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var i=e("../endpoint"),o=e("../common/util"),a=e("./basic_modal");function s(){var e;return e=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a({title:"Whoops!",content:"<p>Failed to load PDF document.</p>",align_buttons:"center",no_close:!0,buttons:[{primary:!0,text:"Download File",handler:function(){return o.redirectOrPost(t)}},{text:"Go to Library",handler:function(){return o.redirectOrPost(i.app)}}]}),e.abrupt("return",n.open());case 2:case"end":return e.stop()}},e)}),(s=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}t.exports={open:function(e){return s.apply(this,arguments)}}},{"../common/util":482,"../endpoint":523,"./basic_modal":551,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"regenerator-runtime/runtime":420}],557:[function(e,t,n){"use strict";e("core-js/modules/es6.function.bind"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("../common/util"),o=e("./basic_modal"),a=r('\n  <div class="print-progress wrfont">\n    <div class="row">\n      <span>Preparing document for printing </span>\n      <span class="relative-progress">(0%)</span>\n    </div>\n    <div class="row">\n      <progress value="0" max="100"></progress>\n    </div>\n  </div>\n'),s=o({title:"Print",content:a,align_buttons:"center",buttons:[{text:"Cancel",handler:function(){return s.trigger("cancel")}}]});s.update=function(e,t){var n=t?Math.round(100*e/t):0;i.log("Preparing document for printing: ".concat(n,"%")),a.find(".relative-progress")[0].textContent="(".concat(n,"%)"),a.find("progress")[0].value=n};var c=s.open.bind(s);s.open=function(e){return s.update(0,100),c(e)},t.exports=s},{"../common/util":482,"./basic_modal":551,"core-js/modules/es6.array.find":279,"core-js/modules/es6.function.bind":291,jquery:400}],558:[function(e,t,n){"use strict";var r=e("../common/util"),i=e("./basic_modal");t.exports={open:function(e,t){var n=i({title:"Redirect Notice",content:'\n      <div class="redirect-prompt">\n        <table>\n          <tbody>\n            <tr>\n              <td>Redirect reason:</td>\n              <td><code>'.concat(t,"</code></td>\n            </tr>\n            <tr>\n              <td>Redirect URL:</td>\n              <td><code>").concat(e,"</code></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    "),no_close:!0,buttons:[{primary:!0,text:"Proceed",handler:function(){return r.redirectOrPost(e)}},{text:"Cancel",handler:function(){r.notifyParent("html_unavailable"),n.close()}}]});return n.open()}}},{"../common/util":482,"./basic_modal":551}],559:[function(e,t,n){"use strict";var r=e("moment"),i=e("../evtbus"),o=e("../article"),a=e("./basic_modal");t.exports={open:function(){var e=new Date(1e3*o.data.purchased_at),t=r(e).format("YYYY/MM/DD"),n=a({title:"Rental Expired",content:"<p>Your rental purchase has expired.<br/>This article was purchased as a <b>Rental</b> on <b>".concat(t,"</b></p>"),no_close:!0,buttons:[{text:"Got it!",primary:!0,handler:function(){i.trigger("close-viewer"),n.close()}}]});return n.open()}}},{"../article":455,"../evtbus":525,"./basic_modal":551,moment:401}],560:[function(e,t,n){"use strict";var r=e("../components/share"),i=e("./basic_modal"),o={};o.open=function(){var e=r.render(),t=i({title:"Shareable Link",content:e,align_buttons:"right",buttons:[{text:"Cancel",handler:function(){return t.close()}},{elem:r.copyButton}]});return t.open()},t.exports=o},{"../components/share":503,"./basic_modal":551}],561:[function(e,t,n){"use strict";var r=e("moment"),i=e("../common/template"),o=e("../common/util"),a=e("../article"),s=e("../evtbus"),c=e("../modals/basic_modal"),l=o.capitalize,u={download:{title:"download",message:"downloading"},print:{title:"print",message:"printing"}};function d(e){a.isShared?function(e){var t=u[e],n=c({title:"".concat(l(t.title)," Unavailable"),content:"\n      <p>You are viewing a complimentary shared article.</p>\n      <p>\n        Complimentary shares do not allow ".concat(t.message,". If you have another access method, please visit the regular publisher article page in order to ").concat(t.title,".\n      </p>\n    "),buttons:[{text:"Go to Publisher",handler:function(){o.redirectOrPost(a.data.meta.url),n.close()}},{text:"Got it!",primary:!0,handler:function(){return n.close()}}]}).open()}(e):function(e){var t=u[e],n=c({title:"".concat(l(t.title)," Unavailable"),content:"\n      <p>\n        ".concat(l(t.message)," the PDF outside of ReadCube requires the full PDF purchase option. Rental and Cloud articles can be viewed online and offline in the ReadCube Web, Desktop and Mobile apps but cannot be printed or saved outside of ReadCube.\n      </p>\n      ").concat(i.if(a.data.purchased_at,function(){var e=new Date(1e3*a.data.purchased_at),t={1:"Rental",2:"Cloud Access"}[a.data.purchase_tier];return"<p>This article was purchased as a <b>".concat(t,"</b> on <b>").concat(r(e).format("YYYY/MM/DD"),"</b></p>")}),"\n    "),buttons:[{text:"Got it!",primary:!0,handler:function(){return n.close()}}]}).open()}(e)}function f(e){var t=u[e],n=c({title:"".concat(l(t.title)," Unavailable"),content:"\n      <p>You are viewing an article preview which does not allow ".concat(t.message,". A full PDF purchase is required to ").concat(t.title,". If you have another access method please visit the regular publisher article page.\n      </p>\n    "),buttons:[{text:"Go to Publisher",handler:function(){o.redirectOrPost(a.data.meta.url),n.close()}},{text:"Got it!",primary:!0,handler:function(){return n.close()}}]}).open()}s.on("download-unavailable",function(){a.hasAccess?d("download"):f("download")}),s.on("print-unavailable",function(){a.hasAccess?d("print"):f("print")})},{"../article":455,"../common/template":478,"../common/util":482,"../evtbus":525,"../modals/basic_modal":551,moment:401}],562:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("underscore"),o=e("../user"),a=e("../evtbus"),s=e("../status"),c=e("../router"),l=e("../article"),u=e("../settings"),d=e("../web/access"),f=e("../common/util"),p=(e("../common/getkey"),e("../common/scrollbar_size")),h=e("../viewer/viewer"),m=e("../sync_api"),g=(e("../sync/sync_item"),e("./info_bar")),v=e("./toast"),y={};y.init=function(e){if((e=r(e)).prepend('\n    <div id="info-bar" class="wrfont"></div>\n    <div class="toast-wrap">\n      <div id="toast-target" class="wrfont"></div>\n    </div>\n  '),e.find(".toast-wrap").css("right","+=".concat(p().width)),g.init({container:e,elem:e.find("#info-bar")}),"public_article"!=c.current||c.parent&&!c.params.standalone_access||d.on("checking",function(){v.show("checking-access"),d.checked().then(function(){v.hide("checking-access")})}),u.accessDebug&&d.on("preview cloudview fullview",function(){try{v.hide("access-info"),v.show("access-info")}catch(e){}}),f.isMobile){var t=i.once(function(){return v.show("mobile-landscape")});f.isLandscape&&t(),r(window).on("resize orientationchange",function(){f.isLandscape?t():v.hide("mobile-landscape")})}d.on("rental-expiry",function(e,t){v.show("rental-expiry",{expires:t})}),d.on("resource-expiry",function(){h.one("loading-start",function(){v.show("session-expired")})}),d.on("preview",function(){f.isMobile&&(v.show("get-access-mobile"),d.one("cloudview fullview",function(){v.hide("get-access-mobile")}))}),d.on("preview",function(){o.onSignIn(function(){var e=[{doi:l.doi}];m.item.status({ext_ids:e}).then(function(e){if("ok"==e.status){var t=e.result[0].items.find(function(e){return e.has_file});t&&v.show("read-personal",{item:t,shared:t.collection_shared})}}).catch(i.noop)})}),d.on("preview",function(){if(d.hasSharingToken&&l.isPublisher(/wiley|cochrane/)){var e=f.isMobile?v:g;e.show("shared-paywall-wiley"),d.one("cloudview fullview",function(){return e.hide("shared-paywall-wiley")})}}),d.publisherChecked().then(function(){if(l.isShared)if(l.isPublisher(/wiley|cochrane/)){var e=f.isMobile?v:g;e.show("shared-access-wiley"),d.on("fullview",function(){return e.hide("shared-access-wiley")})}else v.show("shared-access"),d.on("fullview",function(){return v.hide("shared-access")})}).catch(i.noop),d.on("access-api-error",function(){var e="access-api-error";l.isPublisher(/wiley|cochrane/)&&(e+="-wiley"),v.show(e),d.one("fullview",function(){return v.hide(e)})}),a.on("prompt-subscribe-changes",function(){v.show("prompt-subscribe-changes")}),a.on("xhr-access-forbidden",function(){v.show("session-expired")}),a.on("faye-command:toast",function(e,t){v.show("info-message",{message:t})}),s.on("online offline",function(){var e=l.isPublisher(/wiley|cochrane/)&&d.hasSharingToken||f.isMobile?v:g;s.onLine?e.hide("offline"):e.show("offline")})},t.exports=y},{"../article":455,"../common/getkey":469,"../common/scrollbar_size":475,"../common/util":482,"../evtbus":525,"../router":567,"../settings":568,"../status":569,"../sync/sync_item":573,"../sync_api":575,"../user":586,"../viewer/viewer":602,"../web/access":604,"./info_bar":563,"./toast":564,"core-js/modules/es6.array.find":279,jquery:400,underscore:432}],563:[function(e,t,n){"use strict";e("core-js/modules/es6.array.for-each");var r=e("jquery"),i=(e("underscore"),e("../evtbus")),o={},a={},s=null,c=null;a["shared-access-wiley"]=function(){return{message:"Limited access to this article is provided by the Wiley Content Sharing initiative.",buttons:[['<button class="action-btn">Learn More</button>',function(){window.open("http://www.wiley.com/WileyCDA/Section/id-829333.html","_blank")}],['<button class="action-btn primary">Get Access</button>',function(){i.trigger("show-checkout")}]]}},a["shared-paywall-wiley"]=function(){return{message:"The Wiley Content Sharing link that you used to access this page is no longer valid.",buttons:[['<button class="action-btn">Learn More</button>',function(){window.open("http://www.wiley.com/WileyCDA/Section/id-829333.html","_blank")}]]}},a.offline=function(){return{message:"You appear to be <strong>offline</strong>."}},o.init=function(e){s=e.container,c=e.elem},o.show=function(e,t){var n;n=a[e](t),c.empty().append('<span class="info-message">'.concat(n.message,"</span>")),(n.buttons||[]).forEach(function(e){return r(e[0]).appendTo(c).click(e[1])}),s.addClass("info-bar-visible ".concat(e))},o.hide=function(e){s.removeClass("info-bar-visible ".concat(e)),c.empty()},t.exports=o},{"../evtbus":525,"core-js/modules/es6.array.for-each":280,jquery:400,underscore:432}],564:[function(e,t,n){"use strict";e("core-js/modules/es6.string.link"),e("core-js/modules/es6.object.assign");e("jquery");var r=e("moment"),i=e("izitoast"),o=e("@fortawesome/fontawesome-svg-core").icon,a=e("../router"),s=(e("../user"),e("../evtbus")),c=e("../endpoint"),l=e("../article"),u=e("../common/util"),d=(e("../viewer/viewer"),e("../modals/auth_modal"),e("../sync/sync_item"),{classes:["fa-icon icon-h-20"]}),f={cloudOff:e("../icons/cloudOff").definition,screenRotation:e("../icons/screenRotation").definition,playlistAddCheck:e("../icons/playlistAddCheck").definition,cloudUploadAlt:e("@fortawesome/pro-regular-svg-icons/faCloudUploadAlt").definition,wifiSlash:e("@fortawesome/pro-duotone-svg-icons/faWifiSlash").definition,shareAlt:e("@fortawesome/pro-regular-svg-icons/faShareAlt").definition,clock:e("@fortawesome/pro-duotone-svg-icons/faClock").definition,infoCircle:e("@fortawesome/pro-duotone-svg-icons/faInfoCircle").definition,arrowCircleUp:e("@fortawesome/pro-duotone-svg-icons/faArrowCircleUp").definition,lockAlt:e("@fortawesome/pro-duotone-svg-icons/faLockAlt").definition,lockOpenAlt:e("@fortawesome/pro-duotone-svg-icons/faLockOpenAlt").definition,volumeUp:e("@fortawesome/pro-duotone-svg-icons/faVolumeUp").definition},p={},h={},m={};m.show=function(e,t){if(p[e])return!1;try{var n=h[e](t);return i.show(Object.assign((r={theme:"dark",class:"wrfont",position:"topRight",target:"#toast-target",transitionIn:"fadeInDown",transitionOut:"fadeOutUp",animateInside:!1,backgroundColor:"#333",icon:"svg-icon",maxWidth:"400px",titleLineHeight:24,messageLineHeight:20,zindex:1e6,timeout:!1,layout:2},u.isMobile&&Object.assign(r,{theme:"light",position:"topCenter",backgroundColor:"#f4f5f7"}),r),n,{id:e,onOpening:function(){n.onOpening&&n.onOpening(),p[e]=!0},onClosing:function(){n.onClosing&&n.onClosing(),delete p[e]}}))}catch(e){console.warn(e)}var r},m.hide=function(e){try{var t=document.querySelector("#".concat(e));t&&i.hide({},t)}catch(e){console.warn(e)}finally{delete p[e]}},h.tts=function(e){return{iconNode:o(f.volumeUp,d).node[0],message:'"'.concat(u.ellipsis(e.text,256),'"'),onClosing:e.onClosing,buttons:[["<button>Stop Reading</button>",e.onClosing]]}},h["get-access-mobile"]=function(){return{drag:!1,close:!1,iconNode:o(f.lockOpenAlt,d).node[0],position:"topCenter",buttons:[["<button>Get Access</button>",function(){s.trigger("show-checkout")}]]}},h["shared-access-wiley"]=function(){return{iconNode:o(f.shareAlt,d).node[0],message:"Limited access to this article is provided by the Wiley Content Sharing initiative.",buttons:[["<button>Learn More</button>",function(){window.open("http://www.wiley.com/WileyCDA/Section/id-829333.html","_blank")}],["<button>Get Access</button>",function(){s.trigger("show-checkout")}]]}},h["shared-paywall-wiley"]=function(){return{iconNode:o(f.shareAlt,d).node[0],message:"The Wiley Content Sharing link that you used to access this page is no longer valid.",buttons:[['<button class="action-btn">Learn More</button>',function(){window.open("http://www.wiley.com/WileyCDA/Section/id-829333.html","_blank")}]]}},h["checking-access"]=function(){return{message:'\n      <div class="access-progress">\n        '.concat('\n  <div class="square-spin">\n    <div></div>\n  </div>',"\n        <span>Checking Access...</span>\n      </div>")}},h["info-message"]=function(e){return{iconNode:o(f.infoCircle,d).node[0],message:e.message}},h["access-info"]=function(){return{iconNode:o(f.lockAlt,d).node[0],message:"\n      <table>\n        <tbody>\n          <tr>\n            <td>Access Type:</td>\n            <td><code>".concat(l.accessType,"</code></td>\n          </tr>\n          <tr>\n            <td>Access Method:</td>\n            <td><code>").concat(l.accessMethod||l.data.access_failure||"n/a","</code></td>\n          </tr>\n        </tbody>\n      </table>\n    ")}},h["update-available"]=function(){return{iconNode:o(f.arrowCircleUp,d).node[0],message:"A new version of this application is available.",buttons:[["<button>Refresh</button>",function(){return u.reload()}]]}},h["session-expired"]=function(){return{iconNode:o(f.clock,d).node[0],message:"Your session has expired, please reload the page to regain access to the article.",buttons:[["<button>Reload</button>",function(){return u.reload()}]]}},h["access-api-error"]=function(){return{iconNode:o(f.lockAlt,d).node[0],message:"We are unable to authorize full PDF access to this article at this time. Please try visiting the publisher’s site to obtain access.",buttons:[["<button>Open Article Page</button>",function(){return u.redirectOrPost(l.data.meta.url)}]]}},h["access-api-error-wiley"]=function(){return{iconNode:o(f.lockAlt,d).node[0],message:"We are unable to authorize full PDF access to this article at this time. Please try opening the publisher's PDF to obtain access.",buttons:[["<button>Open Publisher PDF</button>",function(){return u.redirectOrPost(l.data.meta.pdf_url)}]]}},h.offline=function(){return{iconNode:o(f.wifiSlash,d).node[0],message:"You appear to be offline."}},h["rental-expiry"]=function(e){return{iconNode:o(f.clock,d).node[0],message:"Rental will expire ".concat(r(e.expires).calendar(null,{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"[on] dddd [at] LT",sameElse:"[on] l [at] LT"}),".")}},h["read-personal"]=function(e){return{iconNode:o(f.playlistAddCheck,d).node[0],message:"You have this article in your Papers ".concat(e.shared?"shared":""," library. Open that version to get full-text access."),buttons:[["<button>Open in Library</button>",function(){return u.redirectOrPost((t=e.item,a.generate("personal_article",{library_id:"".concat(t.collection_id,":").concat(t.id)})));var t}]]}},h["shared-access"]=function(){var e=function(){var e="author_token"==l.accessMethod?"Online access to this article has been shared by the author(s) via":"Online access to this article has been provided by";switch(l.data.publisher){case"nature":case"springer":return{link:"http://www.springernature.com/content-sharing",message:"".concat(e," Springer Nature SharedIt.")};case"taylorfrancis":return{link:"https://www.routledge.com/resources/authors/promoting",message:"".concat(e," the Taylor & Francis sharing initiative.")};case"IEEE":return{link:"https://www.routledge.com/resources/authors/promoting",message:"".concat(e," the IEEE sharing initiative.")};default:return{message:"".concat(e," the Publisher sharing initiative.")}}}(),t=[["<button>Back to publisher</button>",function(){u.redirectOrPost("https://doi.org/".concat(l.doi))}]];e.link&&t.push(['<button class="right">What\'s this</button>',function(){s.trigger("open-url",e.link)}]);var n={iconNode:o(f.shareAlt,d).node[0],class:"wrfont ".concat(l.data.publisher),message:e.message,buttons:t};return!u.isMobile&&l.isPublisher(/nature|springer/)&&(n.title='<div class="sharing-logo"></div>',n.iconNode=null),n},h["prompt-subscribe-changes"]=function(){return{iconNode:o(f.cloudOff,d).node[0],message:"Your Papers subscription has expired. Please renew your subscription to save changes.",buttons:[["<button>Renew Subscription</button>",function(){s.trigger("open-url",["".concat(c.web,"/account")])}]]}},h["prompt-sync-changes"]=function(){return{iconNode:o(f.cloudOff,d).node[0],message:"Changes not saved. Please add this article to your Papers Library to save changes.",buttons:[["<button>Add to Library</button>",function(){s.trigger("add-to-library",["note_notification"])}]]}},h["sync-non-hosted"]=function(){return{timeout:6e4,progressBar:!0,progressBarEasing:"ease-out",progressBarColor:"rgb(6, 151, 254)",iconNode:o(f.cloudUploadAlt,d).node[0],message:"Uploading article PDF to your personal library.</br>It shouldn't take long so please be patient."}},h["mobile-landscape"]=function(){return{iconNode:o(f.screenRotation,d).node[0],message:"You are in fullscreen mode. Rotate to portrait to use menus."}},t.exports=m},{"../article":455,"../common/util":482,"../endpoint":523,"../evtbus":525,"../icons/cloudOff":529,"../icons/playlistAddCheck":533,"../icons/screenRotation":534,"../modals/auth_modal":550,"../router":567,"../sync/sync_item":573,"../user":586,"../viewer/viewer":602,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-duotone-svg-icons/faArrowCircleUp":3,"@fortawesome/pro-duotone-svg-icons/faClock":4,"@fortawesome/pro-duotone-svg-icons/faInfoCircle":16,"@fortawesome/pro-duotone-svg-icons/faLockAlt":17,"@fortawesome/pro-duotone-svg-icons/faLockOpenAlt":18,"@fortawesome/pro-duotone-svg-icons/faVolumeUp":20,"@fortawesome/pro-duotone-svg-icons/faWifiSlash":21,"@fortawesome/pro-regular-svg-icons/faCloudUploadAlt":65,"@fortawesome/pro-regular-svg-icons/faShareAlt":68,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.string.link":314,izitoast:398,jquery:400,moment:401}],565:[function(e,t,n){"use strict";e("core-js/modules/es6.function.bind"),e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.array.for-each");var r={},i=null;r.init=function(e){return i=e},["basedata","metadata","fulldata","supplement","share_link","proxy_mobile","stream_pdf","related","metrics","fulltext"].forEach(function(e){Object.defineProperty(r,e,{get:function(){return i[e]?i[e].bind(i):void 0}})}),t.exports=r},{"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.function.bind":291,"core-js/modules/es6.object.define-property":297}],566:[function(e,t,n){"use strict";e("core-js/modules/es6.array.map"),e("core-js/modules/es6.regexp.split");var r=e("jquery"),i=e("../evtbus"),o=e("../viewer/viewer"),a=e("../annotations/selection");e("jquery-contextmenu");var s={},c=null,l="DOI,PMID,ISBN,Journal,Year,Title,Authors".split(",");function u(e){return(e||l).map(function(e){return{name:e,callback:function(){i.trigger("marked-text",[e,c.range.text()])}}})}s.init=function(e){o.onInit(function(){r.contextMenu({items:u(e),trigger:"none",animation:{duration:0},selector:".current-selection"}),(c=a(o.elem,function(e){return o.getRangePageIdx(e)})).on("set-selection",function(e,t){c.elems.first().contextMenu(t.position)})})},t.exports=s},{"../annotations/selection":453,"../evtbus":525,"../viewer/viewer":602,"core-js/modules/es6.array.map":285,"core-js/modules/es6.regexp.split":307,jquery:400,"jquery-contextmenu":399}],567:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.regexp.search");var r=e("underscore"),i=e("query-string"),o=e("./common/getkey"),a=e("./endpoint"),s=i.parse(location.search),c=o("reader_route"),l=o("reader_data.sync_collection_id"),u=o("reader_data.sync_item_id"),d=o("reader_data.doi")||s.doi||(decodeURIComponent(location.pathname).match(/10\.\d{3,9}.+/)||[])[0],f=l&&u?"".concat(l,":").concat(u):void 0,p=Object.assign(s,{library_id:f,doi:d});t.exports={generate:function(e,t){var n={};switch(e){case"personal_supplement":return n=Object.assign({library_id:f},t),"".concat(a.web,"/library/supplement?").concat(i.stringify(n));case"personal_article":return n=r.omit(t,"library_id"),"".concat(a.web,"/library/").concat(t.library_id,"?").concat(i.stringify(n)).replace(/\?$/,"");case"personal_resolve":return n=r.omit(t,"library_id"),"".concat(a.web,"/resolve/").concat(t.library_id,"?").concat(i.stringify(n)).replace(/\?$/,"");case"public_supplement":return n=Object.assign({doi:d},t),"".concat(a.web,"/articles/supplement?").concat(i.stringify(n));case"public_article":return n=r.omit(t,"doi"),"".concat(a.web,"/articles/").concat(t.doi,"?").concat(i.stringify(n)).replace(/\?$/,"")}},libraryTagUrl:function(e,t){return"".concat(a.app,"/library/").concat(e,"/tag/").concat(t.replace(/^#/,""),"#tag")},libraryItemUrl:function(e){return"".concat(a.app,"/library/").concat(e.collection_id,"/item/").concat(e.id)},get params(){return p},get current(){return c},get collection_id(){return l},get item_id(){return u},get doi(){return d},get parent(){return p.parent_url},get isPublic(){return/public/.test(c)},get isPersonal(){return/personal/.test(c)}}},{"./common/getkey":469,"./endpoint":523,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.regexp.match":304,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.search":306,"query-string":413,underscore:432}],568:[function(e,t,n){"use strict";var r=e("./common/eventer"),i=e("./common/storage");function o(){r(this)}o.prototype={get theme(){return i.local.get("readcube-theme")},set theme(e){return i.local.set("readcube-theme",e),this.trigger("change:theme",[e]),e},get redirectNotice(){return JSON.parse(i.local.get("readcube-redirect-notice"))},set redirectNotice(e){return i.local.set("readcube-redirect-notice",e),this.trigger("change:redirect-notice",[e]),e},get accessDebug(){return JSON.parse(i.local.get("readcube-access-debug"))},set accessDebug(e){return i.local.set("readcube-access-debug",e),this.trigger("change:access-debug",[e]),e},get textLayerDebug(){return JSON.parse(i.local.get("readcube-textlayer-debug"))},set textLayerDebug(e){return i.local.set("readcube-textlayer-debug",e),this.trigger("change:textlayer-debug",[e]),e}},t.exports=new o},{"./common/eventer":466,"./common/storage":476}],569:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property");var r=e("./common/eventer")({}),i=navigator.onLine;Object.defineProperty(r,"onLine",{get:function(){return i},set:function(e){i=!!e,r.trigger(i?"online":"offline")}}),t.exports=r},{"./common/eventer":466,"core-js/modules/es6.object.define-property":297}],570:[function(e,t,n){"use strict";t.exports={metrics_citations:'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="-25 -15 125 111">\n    <path d="M99.498 9.243c0-4.668-3.788-8.45-8.465-8.45H63.52c-4.673 0-8.467 3.782-8.467 8.45v33.795c0 4.668 3.794 8.455 8.467 8.455h13.59a4.219 4.219 0 0 1 4.23 4.218c0 .766-.187 1.288-.187 1.288-3.09 10.228-10.9 18.418-20.91 22.053l-.045.045c-3.029 1.29-5.145 4.285-5.145 7.769 0 4.67 3.794 8.455 8.467 8.455 1.147 0 2.23-.234 3.215-.638l.39-.145c18.939-7.374 32.374-25.748 32.374-47.273V9.243zm-55.023 0c0-4.668-3.788-8.45-8.467-8.45H8.496C3.82.793.026 4.575.026 9.243v33.795c0 4.668 3.793 8.455 8.47 8.455h13.587a4.22 4.22 0 0 1 4.23 4.218c0 .783-.189 1.288-.189 1.288-3.09 10.228-10.895 18.418-20.91 22.053l-.038.045c-3.03 1.29-5.15 4.285-5.15 7.769 0 4.67 3.793 8.455 8.47 8.455a8.48 8.48 0 0 0 3.21-.638l.386-.145c18.943-7.374 32.38-25.748 32.38-47.273V9.243h.003z" fill="#333"/>\n  </svg>',metrics_recent_citations:'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 30">\n    <path fill="#333" d="M20 2c7.732 0 14 6.268 14 14s-6.268 14-14 14v-3c2.938 0 5.701-1.144 7.778-3.222s3.222-4.84 3.222-7.778c0-2.938-1.144-5.701-3.222-7.778s-4.84-3.222-7.778-3.222c-2.938 0-5.701 1.144-7.778 3.222-1.598 1.598-2.643 3.601-3.041 5.778h5.819l-7 8-7-8h5.143c0.971-6.784 6.804-12 13.857-12zM26 14v4h-8v-10h4v6z"/>\n  </svg>',metrics_rcr:'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 32">\n    <path fill="#333" d="M28.416 18.272a3.223 3.223 0 0 1-3.232 3.232c-1.76 0-3.2-1.44-3.2-3.232v-.064l-2.4-.48a5.367 5.367 0 0 1-2.24 2.912l1.536 3.168c.32-.096.64-.16.992-.16a3.223 3.223 0 0 1 3.232 3.232c0 1.76-1.44 3.2-3.232 3.2a3.21 3.21 0 0 1-3.2-3.2c0-1.088.512-2.016 1.344-2.624l-1.568-3.168c-.608.224-1.28.384-1.952.384-1.472 0-2.784-.608-3.776-1.568l-4.064 3.2c.256.48.448 1.024.448 1.632 0 1.76-1.44 3.2-3.232 3.2a3.21 3.21 0 0 1-3.2-3.2c0-1.792 1.44-3.232 3.2-3.232a3.2 3.2 0 0 1 2.144.832l4.064-3.2a5.315 5.315 0 0 1-.928-3.008c0-1.248.448-2.432 1.184-3.328L5.728 8.192a3.248 3.248 0 0 1-1.824.576c-1.76 0-3.2-1.44-3.2-3.232s1.44-3.2 3.2-3.2c1.76 0 3.2 1.44 3.2 3.2 0 .736-.224 1.408-.64 1.952l4.544 4.608c.928-.832 2.144-1.312 3.488-1.312.512 0 .992.096 1.472.224l1.12-2.656a3.2 3.2 0 0 1-1.6-2.784c0-1.76 1.44-3.2 3.232-3.2 1.76 0 3.2 1.44 3.2 3.2 0 1.792-1.44 3.232-3.2 3.232-.256 0-.48-.032-.704-.096l-1.12 2.656a5.365 5.365 0 0 1 2.912 4.768c0 .224 0 .416-.032.608l2.4.512a3.142 3.142 0 0 1 3.008-2.176c1.792 0 3.232 1.44 3.232 3.2z"/>\n  </svg>',metrics_fcr:'\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 32">\n    <g fill="#333">\n      <g opacity=".5">\n        <path d="M18 19.9l4.5 4.6c-.4.5-.6 1.2-.6 2 0 1.8 1.4 3.2 3.2 3.2s3.2-1.4 3.2-3.2-1.4-3.2-3.2-3.2c-.7 0-1.3.2-1.8.6l-4.6-4.6c-.2.2-.5.4-.7.6zM12.1 20.6L11 23.3c-.2-.1-.4-.1-.7-.1-1.8 0-3.2 1.4-3.2 3.2 0 1.8 1.4 3.2 3.2 3.2 1.8 0 3.2-1.4 3.2-3.2 0-1.1-.6-2.2-1.6-2.8L13 21c-.4-.1-.7-.2-1-.4h.1zM3.8 16.9c1.4 0 2.6-.9 3-2.2l2.4.5c0-.3.1-.7.2-1L7 13.7v-.1c0-1.8-1.4-3.2-3.2-3.2C2 10.4.6 11.9.6 13.6c0 1.9 1.4 3.3 3.2 3.3zM11 7.7c.8-.6 1.3-1.5 1.3-2.6 0-1.8-1.4-3.2-3.2-3.2-1.8 0-3.2 1.4-3.2 3.2 0 1.8 1.5 3.2 3.2 3.2.4 0 .7-.1 1-.2l1.5 3.2c.3-.2.6-.3.9-.5L11 7.7zM23 9.7c.6.5 1.4.8 2.1.8 1.8 0 3.2-1.4 3.2-3.2 0-1.8-1.4-3.2-3.2-3.2-1.8 0-3.2 1.4-3.2 3.2 0 .6.2 1.2.4 1.6l-4 3.2c.2.2.4.5.6.8L23 9.7z"/>\n      </g>\n      <path d="M9.2 15.3v.6c0 2 1.1 3.8 2.8 4.7.3.2.7.3 1 .4.2.1.5.1.7.2.2 0 .5.1.7.1.6 0 1.2-.1 1.7-.3.1 0 .2 0 .3-.1.2-.1.5-.2.7-.3.1 0 .1-.1.2-.1.3-.2.5-.3.7-.5.2-.2.5-.4.7-.7.7-.9 1.2-2.1 1.2-3.3 0-.3 0-.5-.1-.8 0-.2-.1-.5-.2-.7v-.1c-.2-.5-.4-1-.7-1.4-.2-.3-.4-.5-.6-.8-.8-.8-1.9-1.4-3.1-1.5h-1.1-.1c-.5.1-1 .2-1.4.4-.3.1-.6.3-.9.5-1.1.7-1.9 1.7-2.2 2.9-.2.1-.3.4-.3.8z"/>\n    </g>\n  </svg>'}},{}],571:[function(e,t,n){"use strict";e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.array.for-each");var r=e("underscore"),i=e("../evtbus"),o=e("../article"),a=e("../sync_api"),s=e("../common/util"),c=e("../common/eventer"),l=e("./sync_item"),u=e("./sync_annots"),d=c({}),f={init:function(){o.basedata().then(function(){l.init(),u.init();var e=a.collection.subscribe(function(e){var t=r.once(function(){return u.sync()}),n=r.once(function(){return l.sync()});s.log("collection notification:",e),d.trigger("collection",[e]),e.changes.filter(function(e){return e.id===l.id}).forEach(function(e){"annotated"==e.action?t():n()})});i.on("destroy",function(){e&&(e.cancel(),e=null)})})},notifications:d};t.exports=f},{"../article":455,"../common/eventer":466,"../common/util":482,"../evtbus":525,"../sync_api":575,"./sync_annots":572,"./sync_item":573,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.for-each":280,underscore:432}],572:[function(e,t,n){"use strict";e("core-js/modules/es6.array.for-each");var r=e("underscore"),i=(e("../user"),e("../evtbus")),o=e("../sync_api"),a=e("../common/util"),s=e("../annotations/annotation_api"),c=e("../viewer/viewer"),l=e("./sync_item"),u={},d=r.once(function(){return i.trigger("prompt-sync-changes")}),f=r.once(function(){return i.trigger("prompt-subscribe-changes")});function p(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};/add|update/.test(e)&&"not_found"==t.code?d():"inactive_subscription"==t.code&&f(),console.warn("sync: annotations.".concat(e," failed:"),t)}}function h(){o.annots.list().then(function(e){c.onInit(function(){s.list().forEach(g),e.annotations.forEach(s.addItem)})},p("list"))}function m(){s.clear()}function g(e){v()||o.annots.add(e.serialize()).catch(p("add"))}function v(){return!l.synced&&(d(),!0)}u.init=function(){l.onAdd(h),l.onRemove(m),s.on("add.sync",function(e,t){return g(t)}),s.on("update.sync",function(e,t,n){return function(e,t){v()||o.annots.update(e.id,t).catch(p("update"))}(t,n)}),s.on("remove.sync",function(e,t){return function(e){v()||o.annots.remove(e.id).catch(p("remove"))}(t)})},u.sync=r.throttle(function(){o.annots.list().then(function(e){c.onInit(function(){var t=a.arrayToHash(s.list()),n=a.arrayToHash(e.annotations);r.each(t,function(e,t){n[t]||s.removeItem(e)}),r.each(n,function(e,n){t[n]?s.updateItem(t[n],e):s.addItem(e)})})},p("list"))},5e3),t.exports=u},{"../annotations/annotation_api":438,"../common/util":482,"../evtbus":525,"../sync_api":575,"../user":586,"../viewer/viewer":602,"./sync_item":573,"core-js/modules/es6.array.for-each":280,underscore:432}],573:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("promise.prototype.finally").shim();var r=e("underscore"),i=e("promise-retry"),o=e("../user"),a=e("../article"),s=e("../evtbus"),c=e("../common/util"),l=e("../common/getkey"),u=e("../common/eventer"),d=e("../sync_api"),f={minTimeout:4e3,retries:2},p=u({}),h=r.once(function(){return s.trigger("prompt-subscribe-changes")}),m=null,g=null,v=!1;function y(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"get"==e&&"not_found"==t.code||("inactive_subscription"==t.code&&h(),console.warn("sync: item.".concat(e," failed:"),t))}}function b(){v=!0,p.trigger("busy:start")}function w(){v=!1,p.trigger("busy:end")}function _(){return v?new Promise(function(e){p.one("busy:end",e)}):Promise.resolve()}function x(e){r.isEmpty(m)?function(e){p.trigger("added",[m=e.item]),i(function(e){return d.item.view().catch(e)},f).catch(y("view"))}(e):r.isEqual(m,e.item)||function(e){var t=c.objDiff(m,e.item);p.trigger("changed",[m=e.item,t])}(e)}function k(){r.isEmpty(m)||(m={},p.trigger("removed"))}function j(e){r.isEmpty(m)||e(m),p.on("added",function(){return e(m)})}p.init=function(){o.onSignIn(function(){d.item.get().then(x).catch(y("get")),j(function(){d.collection.get(m.collection_id).then(function(e){"ok"==e.status&&(g=e.collection,p.trigger("item:collection",[g]))})})})},p.sync=r.throttle(function(){o.signedIn&&d.item.get().then(x).catch(function(e){"not_found"==e.code?k():y("get")(e)})},5e3),p.get=function(){if(!o.signedIn)return Promise.reject({status:"signed_out"});if(!r.isEmpty(m))return Promise.resolve({item:m});var e=d.item.get();return e.then(x),e.catch(y("get")),e},p.add=function e(){return e.promise?e.promise:e.promise=_().then(function(){b();var e,t=d.item.add((e={"ext_ids[doi]":a.doi},a.data.non_hosted?e.non_hosted_url=a.data.viewer_pdf:a.data.access_token&&(e.article_access_token=a.data.access_token),e));return t.then(function(e){w(),x(e)}).catch(y("add")).finally(w),t}).finally(function(){return delete e.promise})},p.update=function(e){return _().then(function(){b();var t=d.item.update(e);return t.then(function(e){w(),x(e)}).catch(y("update")).finally(w),t})},p.remove=function e(){return e.promise?e.promise:e.promise=_().then(function(){if(r.isEmpty(m))return Promise.resolve({status:"ok"});b();var e=d.item.remove();return e.then(function(){w(),k()}).catch(y("remove")).finally(w),e}).finally(function(){return delete e.promise})},p.onAdd=j,p.onRemove=function(e){r.isEqual(m,{})&&e(),p.on("removed",e)},p.userProp=function(e){return l("item.user_data.".concat(e),p)},Object.defineProperty(p,"id",{get:function(){return r.isEmpty(m)?null:m.id}}),Object.defineProperty(p,"item",{get:function(){return m}}),Object.defineProperty(p,"collection",{get:function(){return g}}),Object.defineProperty(p,"busy",{get:function(){return v}}),Object.defineProperty(p,"synced",{get:function(){return!(!o.signedIn||r.isEmpty(m))}}),t.exports=p},{"../article":455,"../common/eventer":466,"../common/getkey":469,"../common/util":482,"../evtbus":525,"../sync_api":575,"../user":586,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,"promise-retry":407,"promise.prototype.finally":409,underscore:432}],574:[function(e,t,n){"use strict";e("core-js/modules/es6.array.for-each"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.array.map");var r=e("underscore"),i=e("../user"),o=e("../sync_api"),a=e("../common/util");t.exports=function e(t,n){e.cache||(e.cache={}),e.cache[i.id]||(e.cache[i.id]={});var s=t.ext_ids.map(function(e){return a.obj2key(e)}),c=t.ext_ids.filter(function(t){return n||!e.cache[i.id][a.obj2key(t)]});return c.length?o.item.status({ext_ids:c}).then(function(t){return"ok"!=t.status?t:(t.result.forEach(function(t,n){e.cache[i.id][a.obj2key(c[n])]=t}),t.result=r.values(r.pick(e.cache[i.id],s)),t)}).catch(r.noop):Promise.resolve({status:"ok",items:r.values(r.pick(e.cache[i.id],s))})}},{"../common/util":482,"../sync_api":575,"../user":586,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/web.dom.iterable":321,underscore:432}],575:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.promise.finally"),e("promise.prototype.finally").shim();var r=e("underscore"),i=e("./common/util"),o={},a={},s={},c={},l={},u=null;function d(e,t){return function(n){"not_found"==n.code?e({status:"ok"}):t(n)}}a.get=function(){return i.log("sync_api: user.get"),u.user.get()},s.view=function(){return i.log("sync_api: item.view"),u.item.view()},s.get=function e(){return e.promise?e.promise:(i.log("sync_api: item.get"),e.promise=u.item.get().finally(function(){return delete e.promise}))},s.add=function(e){return i.log("sync_api: item.add",e),u.item.add(e)},s.update=function(e){return i.log("sync_api: item.update",e),r.isEmpty(e)?(console.warn("refused item.update with empty diff"),Promise.reject("empty diff")):u.item.update(e)},s.remove=function(){return i.log("sync_api: item.remove"),new Promise(function(e,t){u.item.remove().then(e).catch(d(e,t))})},s.status=function(e){return i.log("sync_api: item.status",e),u.item.status(e)},c.list=function(){return i.log("sync_api: annotations.list"),u.annots.list()},c.add=function(e){return i.log("sync_api: annotations.add",e),u.annots.add({annotation:e})},c.update=function(e,t){return i.log("sync_api: annotations.update [".concat(e,"]"),t),r.isEmpty(t)?(console.warn("refused annotations.update with empty diff"),Promise.reject("empty diff")):u.annots.update(e,{annotation:t})},c.remove=function(e){return i.log("sync_api: annotations.remove [".concat(e,"]")),new Promise(function(t,n){u.annots.remove(e).then(t).catch(d(t,n))})},l.get=function(e){return i.log("sync_api: collections.get"),u.collection.get(e)},l.subscribe=function(e){return i.log("sync_api: collection.subscribe"),u.collection.subscribe(e)},o.init=function(e){u||(u=e)},o.user=a,o.item=s,o.annots=c,o.collection=l,t.exports=o},{"./common/util":482,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,"promise.prototype.finally":409,underscore:432}],576:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}}e("regenerator-runtime/runtime"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.string.iterator"),e("core-js/modules/es6.set"),e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.index-of"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.regexp.search"),e("core-js/modules/es6.array.map"),e("promise.prototype.finally").shim();var o=e("jquery"),a=e("underscore"),s=e("@fortawesome/fontawesome-svg-core").icon,c=(e("@readcube/anywhere-access-check"),e("../tracking/tracker")),l=e("../common/template"),u=e("../common/online"),d=e("../modals/auth_modal"),f=e("../modals/offline_modal"),p=e("../common/util"),h=e("../sync_api"),m=e("../sync/sync"),g=e("../sync/sync_status"),v=e("../institution_api"),y=(e("../endpoint"),e("../router")),b=e("../evtbus"),w=e("../status"),_=e("../user"),x=(e("../environment"),e("../svg_icons"),{classes:["fa-icon icon-h-14"]}),k={user:e("@fortawesome/pro-solid-svg-icons/faUser").definition,externalLinkSquare:e("@fortawesome/pro-light-svg-icons/faExternalLinkSquare").definition,fileSearch:e("@fortawesome/pro-light-svg-icons/faFileSearch").definition};function j(e,t){function n(e){return e=(e=e.replace(/^([\s\:\.])+/g,"")).replace(/([\s\:])+$/g,"")}var r=o("\n    <div>\n      ".concat(e.figures.map(function(e){return'\n          <div class="figure" idx="'.concat(e.index,'">\n            <div class="view-figure">\n              <img class="thumb" draggable="false" src="').concat(e.thumb,'" alt/>\n              <div class="launch">\n                ').concat(s(k.externalLinkSquare,x).html,'\n                <span>View</span>\n              </div>\n            </div>\n            <span class="description">\n              ').concat(function(e){var t=e.indexOf(":");if(-1==t)return e;var r=[n(e.substr(0,t)),n(e.substr(t+1))];return"<b>".concat(r[0]," | </b>").concat(r[1])}(e.description),"\n            </span>\n          </div>")}).join(""),"\n    </div>\n  "));return r.find(".figure").click(function(e){e.preventDefault();var t=parseInt(o(this).attr("idx"));b.trigger("open-figure",[t])}).each(function(t){var n=this,r=e.figures[t].thumb;if(r){var i=new Image;i.onload=function(){return o(n).attr("loaded","true")},i.onerror=function(){return o(n).attr("loaded","false")},i.src=r}else o(this).attr("loaded","false")}),r}function C(e,t){var n=o('\n    <div class="articles">\n      '.concat(e.references.map(function(e,t){return"\n          <div\n            ".concat(l.if(e.doi,function(){return'data-doi="'.concat(e.doi,'"')}),'\n            ref-idx="').concat(t,'"\n            class="').concat(l.cls({article:!0,reference:e.badge,"hide-badges":e.hide_badges}),'">\n            ').concat(l.if(e.badge,function(){return'\n              <div\n                title="'.concat(e.badge,'"\n                class="number">\n                ').concat(e.badge,"\n              </div>\n            ")}),"\n            ").concat(l.if(e.title,function(){return'\n              <h4 class="title">\n                '.concat(e.title.replace(/<(http[^>]+)>/g,function(e,t){return t}).replace(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/g,function(e){return'<a href="'+e+'" target="_blank"> '+e+" </a>"}),"\n              </h4>\n            ")}),"\n            ").concat(l.if(e.authors&&e.authors.length,function(){return'\n              <div class="authors">'.concat(e.authors.slice(0,10).join(", "),"</div>\n            ")}),'\n            <div class="published">').concat((n=e,n.journal&&n.year?n.journal+", "+n.year:n.journal||n.year||""),'</div>\n            <div class="links">\n              ').concat(l.if(e.find_article_url,function(){return'\n                <button class="find-article linkout">\n                  '.concat(s(k.fileSearch,x).html,"\n                  <span>Find Article</span>\n                </button>\n              ")}),"\n              ").concat(l.if(e.article_url,function(){return'\n                <button class="go-to-article-page linkout">\n                  '.concat(s(k.externalLinkSquare,x).html,"\n                  <span>Article Page</span>\n                </button>\n              ")}),"\n              ").concat(l.if(e.doi,function(){return'\n                <button class="view-pdf svg-bg">\n                  <span class="view-text">View PDF</span>\n                  <span class="verifying-text">Verifying access...</span>\n                </button>\n                <button class="add-to-library svg-bg">\n                  <span class="add-text">Add to Library</span>\n                  <span class="busy-text">Importing...</span>\n                  <span class="added-text">In Library</span>\n                </button>\n              '}),"\n            </div>\n          </div>");var n}).join(""),"\n    </div>\n  "));function r(){return(r=i(regeneratorRuntime.mark(function e(t,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,r);case 2:i=e.sent,t.forEach(function(e){n.find('.article[data-doi="'.concat(e,'"]')).toggleClass("has-access",!!/subscription|oa/.test(i[e].access))});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(e,t){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark(function e(t,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.map(function(e){return{doi:e}}),e.next=3,S({ext_ids:i},r);case 3:if("ok"==(o=e.sent).status){e.next=6;break}return e.abrupt("return");case 6:t.forEach(function(e,t){var r=o.result[t],i=r.items.length>0,a=r.items.find(function(e){return e.has_file}),s=n.find('.article[data-doi="'.concat(e,'"]')).toggleClass("in-library",i).toggleClass("has-file",!!a);i&&s.data("sync-item",a||r.items[0])});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}return n.on("click",".linkout",function(n){var r=o(n.target).closest(".article[ref-idx]").attr("ref-idx"),i=e.references[parseInt(r)];c.linkout(t),i&&i.doi&&c.referral(i.doi,t),b.trigger("open-url",[i.article_url||i.find_article_url])}),n.on("click",".add-to-library",function(e){var t=o(e.target).closest(".article[data-doi]"),n=t.attr("data-doi");if(t.hasClass("in-library"))return e=o.Event("open-in-library",a.omit(e.originalEvent,"type")),void b.trigger(e,[t.data("sync-item")]);w.onLine?d.login("references_add").then(function(){t.addClass("importing"),h.item.add({"ext_ids[doi]":n}).then(function(e){"ok"==e.status&&(e.item.has_file=!!e.item.pdf_hash,t.addClass("in-library").toggleClass("has-file",e.item.has_file).data("sync-item",e.item))}).catch(function(){}).finally(function(){return t.removeClass("importing")})}):f.open()}),n.on("click",".view-pdf",function(e){var n,r=o(e.target).closest(".article[data-doi]"),i=r.attr("data-doi");r.hasClass("in-library")?(e=o.Event("read-in-library",a.omit(e.originalEvent,"type")),b.trigger(e,[r.data("sync-item")])):(c.referral(i,t),e=o.Event("open-url",a.omit(e.originalEvent,"type")),b.trigger(e,[y.generate("public_article",{doi:i,anywhere_access:n?"verified":"true"})]))}),_.onSignIn(function(){var t=e.references.filter(function(e){return!!e.doi}).map(function(e){return e.doi}),n=new Set(t);p.chunkArray(t,30).forEach(function(e){return function(e,t){return r.apply(this,arguments)}(e)}),p.chunkArray(t,100).forEach(function(e){return u(e)}),m.notifications.on("collection",function(e,t){u(t.changes.filter(function(e){return!!e.doi&&/created|deleted/.test(e.action)&&n.has(e.doi)}).map(function(e){return e.doi}),!0)})}),n}function E(e,t){return new Promise(function(n,r){u.wait(function(){v.access(e,t).then(n,r)})})}function S(e,t){return new Promise(function(n,r){u.wait(function(){g(e,t).then(n,r)})})}t.exports={compile:function(e,t,n){var r;switch(e){case"author":r=function(e,t){return o('\n    <div class="author">\n      <h4 class="name">'.concat(e.text,"</h4>\n      ").concat(l.if(e.affiliations,function(){return'\n        <div class="affiliations">\n          '.concat(a.uniq(e.affiliations).map(function(e){return"<div>".concat(e,"</div>")}).join(""),"\n        </div>\n      ")}),"\n      ").concat(l.if(e.email,function(){return'\n        <div class="contact">\n          '.concat(s(k.user,x).html,'\n          <a\n            target="_blank"\n            href="').concat((t=e.email,/^https?:/.test(t)?t:/^mailto:/.test(t)?t:"mailto:".concat(t)),'">\n            Contact ').concat(e.text,"\n          </a>\n        </div>\n      ");var t}),"\n      ").concat(l.if(e.orcid_url,function(){return'\n        <div class="orcid">\n          <i class="logo"></i>\n          <a\n            target="_blank"\n            href="'.concat(e.orcid_url,'">\n            View author on ORCID\n          </a>\n        </div>\n      ')}),'\n      <div class="search">\n        Search for author in:\n        <div class="links">\n          ').concat(e.search.map(function(e,t){return e.disabled?"":'\n              <a href="'.concat(e.url,'" target="_blank" class="linkout">\n                ').concat(s(k.externalLinkSquare,x).html,"\n                <span>").concat(e.provider,"</span>\n              </a>")}).join(""),"\n        </div>\n      </div>\n    </div>\n  "))}(t);break;case"figure":r=j(t);break;default:r=C(t,n)}return function(e){return e.find("a[href]").click(function(e){e.preventDefault(),b.trigger("open-url",o(this).attr("href"))}),e}(r)}}},{"../common/online":472,"../common/template":478,"../common/util":482,"../endpoint":523,"../environment":524,"../evtbus":525,"../institution_api":541,"../modals/auth_modal":550,"../modals/offline_modal":555,"../router":567,"../status":569,"../svg_icons":570,"../sync/sync":571,"../sync/sync_status":574,"../sync_api":575,"../tracking/tracker":585,"../user":586,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-light-svg-icons/faExternalLinkSquare":33,"@fortawesome/pro-light-svg-icons/faFileSearch":37,"@fortawesome/pro-solid-svg-icons/faUser":80,"@readcube/anywhere-access-check":81,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.index-of":282,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.search":306,"core-js/modules/es6.set":309,"core-js/modules/es6.string.iterator":313,"core-js/modules/es7.promise.finally":319,"core-js/modules/web.dom.iterable":321,jquery:400,"promise.prototype.finally":409,"regenerator-runtime/runtime":420,underscore:432}],577:[function(e,t,n){"use strict";e("core-js/modules/es6.array.sort"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("underscore"),o=e("@fortawesome/fontawesome-svg-core").icon,a=e("../tracking/tracker"),s=e("../common/template"),c=e("../common/util"),l=e("../evtbus"),u={classes:["fa-icon"]},d={generic:e("@fortawesome/pro-duotone-svg-icons/faFileAlt").definition,doc:e("@fortawesome/pro-duotone-svg-icons/faFileWord").definition,docx:e("@fortawesome/pro-duotone-svg-icons/faFileWord").definition,jpg:e("@fortawesome/pro-duotone-svg-icons/faFileImage").definition,jpeg:e("@fortawesome/pro-duotone-svg-icons/faFileImage").definition,png:e("@fortawesome/pro-duotone-svg-icons/faFileImage").definition,mp3:e("@fortawesome/pro-duotone-svg-icons/faFileAudio").definition,mp4:e("@fortawesome/pro-duotone-svg-icons/faFileVideo").definition,pdf:e("@fortawesome/pro-duotone-svg-icons/faFilePdf").definition,csv:e("@fortawesome/pro-duotone-svg-icons/faFileSpreadsheet").definition,xml:e("@fortawesome/pro-duotone-svg-icons/faFileCode").definition,xls:e("@fortawesome/pro-duotone-svg-icons/faFileExcel").definition,xlsx:e("@fortawesome/pro-duotone-svg-icons/faFileExcel").definition,ppt:e("@fortawesome/pro-duotone-svg-icons/faFilePowerpoint").definition,pptx:e("@fortawesome/pro-duotone-svg-icons/faFilePowerpoint").definition};t.exports={compile:function(e){return r("\n    <div>\n      ".concat(e.supplements.sort(function(e,t){return e.index-t.index}).map(function(e){var t=e.type.toLowerCase();return'\n          <div class="supplement '.concat(t,'" idx="').concat(e.index,'">\n            <div class="thumb">\n              ').concat(o(d[t]||d.generic,u).html,'\n            </div>\n            <span class="description" title="').concat(c.ellipsis(e.description,1021),'">\n              <b>').concat(e.caption,"<span> (").concat(e.type.toUpperCase(),")</span></b>\n              ").concat(s.if(e.description,function(){return"\n                <span><b> | </b>".concat(e.description,"</span>\n              ")}),"\n            </span>\n          </div>")}).join(""),"\n    </div>\n  ")).find(".supplement").each(function(t){var n=this,o=e.supplements[t],s=o.thumb;if(s&&s[0]){var u=new Image;u.onload=function(){r(n).attr("processed","true"),r(n).find(".thumb").css("background-image","url("+s[0]+")")},u.onerror=function(){return r(n).attr("processed","false")},u.src=s[0]}else r(this).attr("processed","false");r(this).click(function(e){e=i.omit(e.originalEvent,"type"),c.isElectron?o.hash&&o.personal?l.trigger(r.Event("read-supplement",e),[o]):l.trigger(r.Event("open-supplement",e),[o]):o.viewer_pdf&&!c.isMobile?l.trigger(r.Event("read-supplement",e),[o]):l.trigger(r.Event("open-supplement",e),[o]),a.supplement()})})}}},{"../common/template":478,"../common/util":482,"../evtbus":525,"../tracking/tracker":585,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-duotone-svg-icons/faFileAlt":5,"@fortawesome/pro-duotone-svg-icons/faFileAudio":6,"@fortawesome/pro-duotone-svg-icons/faFileCode":7,"@fortawesome/pro-duotone-svg-icons/faFileExcel":8,"@fortawesome/pro-duotone-svg-icons/faFileImage":10,"@fortawesome/pro-duotone-svg-icons/faFilePdf":11,"@fortawesome/pro-duotone-svg-icons/faFilePowerpoint":12,"@fortawesome/pro-duotone-svg-icons/faFileSpreadsheet":13,"@fortawesome/pro-duotone-svg-icons/faFileVideo":14,"@fortawesome/pro-duotone-svg-icons/faFileWord":15,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.array.sort":287,jquery:400,underscore:432}],578:[function(e,t,n){"use strict";e("core-js/modules/es6.array.sort"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=(e("underscore"),e("@fortawesome/fontawesome-svg-core").icon),o=e("../common/template"),a=e("../common/util"),s=e("../evtbus"),c={classes:["fa-icon"]},l={fileVideo:e("@fortawesome/pro-duotone-svg-icons/faFileVideo").definition,playCircle:e("@fortawesome/pro-duotone-svg-icons/faPlayCircle").definition};t.exports={compile:function(e){return r("\n    <div>\n      ".concat(e.videos.sort(function(e,t){return e.index-t.index}).map(function(e,t){return'\n          <div class="video" idx="'.concat(t,'">\n            <div class="view-video">\n              <img class="thumb" draggable="false" src="').concat(e.thumb&&e.thumb[0],'" alt/>\n              ').concat(i(l.fileVideo,c).html,"\n              ").concat(i(l.playCircle,c).html,'\n            </div>\n            <span class="description" title="').concat(a.ellipsis(e.description,1021),'">\n              <b>').concat(e.caption,"<span> (").concat(e.type.toUpperCase(),")</span></b>\n              ").concat(o.if(e.description,function(){return"\n                <span><b> | </b>".concat(e.description,"</span>\n              ")}),"\n            </span>\n          </div>")}).join(""),"\n    </div>\n  ")).find(".video").each(function(t){var n=this,i=e.videos[t],o=i.thumb;if(o&&o[0]){var c=new Image;c.onload=function(){return r(n).attr("processed","true")},c.onerror=function(){return r(n).attr("processed","false")},c.src=o[0]}else r(this).attr("processed","false");r(this).click(function(){"true"!=r(n).attr("processed")||a.isMobile?s.trigger("open-supplement",[i]):s.trigger("play-video",[t,e.videos])})})}}},{"../common/template":478,"../common/util":482,"../evtbus":525,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-duotone-svg-icons/faFileVideo":14,"@fortawesome/pro-duotone-svg-icons/faPlayCircle":19,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.array.sort":287,jquery:400,underscore:432}],579:[function(e,t,n){"use strict";var r=e("../user"),i=e("../api_keys");t.exports=function(){if(void 0===window.ga)return e("../includes/load_ga"),r.signedIn?(ga("create",i.ga,{userId:r.id}),ga("set","dimension1",r.id)):(ga("create",i.ga,"auto"),ga("set","dimension1","Anonymous")),function(){return window.ga.apply(window,arguments)}}},{"../api_keys":454,"../includes/load_ga":535,"../user":586}],580:[function(e,t,n){"use strict";var r=e("../user"),i=e("../api_keys"),o=e("./track_id");t.exports=function(){if(void 0===window.mixpanel)return e("../includes/load_mixpanel"),mixpanel.init(i.mixpanel,{track_pageview:!1}),r.signedIn?mixpanel.identify(r.id):mixpanel.identify(o.get()),mixpanel}},{"../api_keys":454,"../includes/load_mixpanel":536,"../user":586,"./track_id":584}],581:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign");var r=e("underscore"),i=e("../common/util"),o=(e("../endpoint"),e("../router")),a=e("../article"),s=e("../web/proxy_host"),c=e("../analytics_api"),l=e("./track_id").get(),u=null,d={},f={},p=!1,h={},m=null,g=null,v=null,y=i.timer.tic(),b=null;function w(e){return Math.max(0,Math.min(Math.round(e),3600))}function _(){var e=i.timer.toc(g)/1e3;b&&(e+=b,b=null),j({duration:w(e)})}function x(){g&&_(),g=null}function k(){if(u){var e,t={};t=Object.assign({},t,f),p&&(t=Object.assign({},t,{counters:h})),r.isEmpty(t)||(e=t,i.log("updated metrics:",e),c.metrics.update(Object.assign({},e,{session_id:l,article_session_id:u}))),d=Object.assign({},d,f),f={},p=!1}}function j(e){for(var t in e)h[t]=(h[t]||0)+e[t];p=!0}t.exports={start:function(){d={},h={},p=!1,clearInterval(v),v=setInterval(k,1e4),setTimeout(function(){clearInterval(v),v=setInterval(k,3e4)},6e4),clearTimeout(m),g&&(i.timer.toc(g),g=null),function(){b=Math.max(1,Math.round(i.timer.toc(y)/1e3));var e={doi:a.data.meta.doi,session_id:l,publisher:a.data.meta.publisher,environment:i.isElectron?"desktop":i.isMobile?"mobile_reader":o.isPersonal?"web_library":"html5",counters:{duration:b},shared:{view:!!o.params.shared_access_token,token:o.params.shared_access_token,annotations:!!a.data.shared_annotations_url},referred:{view:!!o.params.referrer_access_token,token:o.params.referrer_access_token},author_share:{view:!!o.params.author_access_token,token:o.params.author_access_token},feed:{view:!!o.params.feed_token,token:o.params.feed_token},referrer_url:o.params.tracking_referrer,article:{issn:a.data.meta.issn,eissn:a.data.meta.eissn,isbn:a.data.meta.isbn,eisbn:a.data.meta.eisbn,year:a.data.meta.year,references:a.data.references.length>0,inline_references:a.hasCitations,video_supplement:a.hasVideos,supplements:a.data.supplements.length>0,figures:a.data.figures.length>0},access:{proxy:s(a.data.publisher)}};a.data.sync_collection_id&&(e.collection_id=a.data.sync_collection_id,a.data.sync_item_shared?e.collection_type="shared":e.collection_type="personal"),o.params.customer_ids&&(e.publisher_data||(e.publisher_data={}),e.publisher_data.customer_ids=decodeURIComponent(o.params.customer_ids)),c.metrics.create(e).then(function(t){i.log("created metrics session:",e),u=t.result})}()},active:function(){clearTimeout(m),m=setTimeout(x,6e4),g&&_(),g=i.timer.tic()},idle:x,sendEvent:function(e){i.log("received metrics event:",e),f=Object.assign({},f,i.objDiff(d,e))},addCounter:j}},{"../analytics_api":435,"../article":455,"../common/util":482,"../endpoint":523,"../router":567,"../web/proxy_host":637,"./track_id":584,"core-js/modules/es6.object.assign":295,underscore:432}],582:[function(e,t,n){"use strict";var r=e("../router"),i=e("../article"),o=e("../common/eventer")({}),a=!1;r.parent?e("../web/receiver").all.on("new_session",s):s();function s(){i.basedata().then(function(){a=!0,o.trigger("new")})}o.onceStarted=function(e){a?e():o.one("new",e)},o.onStart=function(e){a&&e(),o.on("new",e)},t.exports=o},{"../article":455,"../common/eventer":466,"../router":567,"../web/receiver":642}],583:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign");var r=e("underscore"),i=e("../router");t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof e&&(e={error:e});var t=r.pick(i.params,"doi","library_id","country");e=Object.assign(e,{params:t}),console.error(e)}},{"../router":567,"core-js/modules/es6.object.assign":295,underscore:432}],584:[function(e,t,n){"use strict";var r=e("../common/util"),i=e("../common/cookies"),o={},a="readcube-track-id",s=null;(s=i.getItem(a))||(s=r.guid(),i.setItem(a,s)),o.get=function(){return s},o.clear=function(){i.removeItem(a)},t.exports=o},{"../common/cookies":462,"../common/util":482}],585:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.regexp.split");var i=e("jquery"),o=e("underscore"),a=e("../user"),s=(e("../api_keys"),e("../article")),c=e("../router"),l=e("../common/util"),u=e("../common/getkey"),d=(e("./track_id"),e("./session")),f=e("./readcube_analytics"),p={},h=[],m=function(){};function g(){m("send","event","webreader","version",e("../version")),window.reader_version&&m("send","event","webreader","build",reader_version.timestamp),m("send","event","article","read","web"),m("send","event","article","origin",function(){if(l.isElectron)return"desktop";if(!c.parent)return"readcube.com";if(c.parent.match(/[\.\/]epdf/i))return"epdf_endpoint";return"overlay"}()),f.start()}function v(){var e=s.hasAccess?s.accessMethod:"denied";m("send","event","article","access_method",e),f.sendEvent({access:{method:e}}),s.data.feed_id&&f.sendEvent({feed:{id:s.data.feed_id,name:s.data.feed_name}})}p.init=function(){m=e("../analytics_api").ga,c.isPersonal&&l.isElectron&&e("../analytics_api").mixpanel.track("Loaded",{Client:l.isElectron?"Desktop Reader":"Web Reader"}),function(){if(u("readcube_user.organization_id")){var t="denied";u("reader_data.institution_access.url")?t="granted":u("reader_data.viewer_pdf")&&(t="openaccess"),e("../analytics_api").mixpanel.track("View PDF (AA)",{Access:t})}}(),s.metadata().then(function(){!s.isSupplement&&s.data.meta.doi&&(m("set","dimension3",s.data.meta.doi),m("set","dimension7","web_reader"),d.onStart(g),a.onSignIn(function(e){return t=e.auth,void f.sendEvent(r({},t,!0));var t}),s.accessMethod?v():e("../web/access").checked().then(v),i(document).on("mousemove click scroll",o.throttle(f.active,3e3,{leading:!0})),i(window).on({focus:f.active,blur:f.idle}))})},p.menuBar=function(e){m("send","event","article","menu_bar",e)},p.pdfToolbar=function(e){m("send","event","article","pdf_toolbar",e)},p.origin=function(){return"sharing_token"==s.accessMethod?"web_reader_share":"referrer_token"==s.accessMethod?"web_reader_referral":"web_reader"},p.altmetric=function(){m("send","event","article","altmetric"),f.sendEvent({altmetric:!0})},p.checkout=function(){m("send","event","article","checkout_opened")},p.download=function(e){m("send","event","article","save_pdf","web",e?1:0),e&&f.sendEvent({download:!0})},p.annotate=function(e){f.addCounter(r({},e,1))},p.inline=function(e){f.sendEvent({inline:r({},e,!0)})},p.linkout=function(e){m("send","event","article","linkout",e)},p.referral=function(e,t){h.push({source:t,doi:e}),f.sendEvent({referrals:h.slice()}),m("send","event","referral",t,e.split("/")[0])},p.note=function(){f.addCounter({note:1})},p.print=function(e){f.sendEvent({print:r({},e,!0)}),m("send","event","article","print","web")},p.purchase=function(e){f.sendEvent({purchased:!0,purchase_id:e.purchase.id})},p.related=function(){f.sendEvent({related:!0})},p.saveCloud=function(){f.sendEvent({save_cloud:!0})},p.scroll=function(e){m("send","event","article","scroll","page",e)},p.share=function(e){f.sendEvent({share:r({},e,!0)})},p.shareToken=function(e){f.sendEvent({share:{token:e}})},p.supplement=function(){f.sendEvent({supplement:!0}),m("send","event","article","supplement","view")},p.sidepanel=function(e){f.sendEvent({sidepanel:r({},e,!0)}),m("send","event","article","sidepanel",r({},e,!0))},p.video=function(){m("send","event","article","video","view"),f.sendEvent({video_supplement:!0})},p.exportOptions=function(){m("send","event","article","export_options","view")},p.exportCitation=function(e){m("send","event","article","export_citation","format",e)},p.exportNotes=function(){m("send","event","article","export_notes")},t.exports=p},{"../analytics_api":435,"../api_keys":454,"../article":455,"../common/getkey":469,"../common/util":482,"../router":567,"../user":586,"../version":587,"../web/access":604,"./readcube_analytics":581,"./session":582,"./track_id":584,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.regexp.match":304,"core-js/modules/es6.regexp.split":307,jquery:400,underscore:432}],586:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.object.assign");var r=e("./common/eventer"),i=e("./sync_api"),o=r({}),a={};function s(e){return!(!e||!e.id)}function c(){return s(a)}function l(){return Object.assign({},a)}function u(e,t){var n=a;return(a=e).auth=a.auth||t||"login",!s(n)&&s(a)&&o.trigger("auth",[a]),o.trigger("change",[a]),a}o.init=function e(){return e.promise?e.promise:e.promise=i.user.get().then(u).catch(function(){})},o.get=l,o.set=u,o.onSignIn=function(e){c()&&e(l()),o.on("auth",function(){return e(l())})},Object.defineProperty(o,"id",{get:function(){return a.id}}),Object.defineProperty(o,"organization_id",{get:function(){return a.organization_id}}),Object.defineProperty(o,"signedIn",{get:function(){return c()}}),t.exports=o},{"./common/eventer":466,"./sync_api":575,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297}],587:[function(e,t,n){"use strict";t.exports="11.2.14"},{}],588:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.string.link"),e("core-js/modules/es6.object.assign");var r=e("jquery"),i=e("../common/eventer"),o=e("./page_proto"),a=function(e){i(this),this._index=e.index,this._dimensions=e.dimensions,this._container=e.container,this._urls=e.urls,this._page=this._createPage(),this._prescale=e.scale||1,this._scale=this._prescale,this._deg=0,this._scalePage(),this._page.appendTo(this._container),this._drawable=r('<div class="drawable"></div>'),this._eventable=r('<div class="eventable"></div>')};a.prototype=Object.assign(new o,{_createPage:function(){var e=this;return r('\n      <div class="page pf w0 h0">\n        <img class="cover page-bg" alt="" src="'.concat(this._urls.url,'">\n      </div>\n    ')).click(function(){return window.open(e._urls.link)})},_prescalePage:function(e){var t=this.width*this._prescale,n=this.height*this._prescale,r=this.border*this._prescale;this._page.css({width:e?Math.ceil(t):t,height:e?Math.ceil(n):n,"border-width":e?Math.round(r):r,"margin-bottom":e?Math.round(-r):-r})},_scalePage:function(){this._prescalePage(!0),this._scale=this._prescale},onLoaded:function(){return Promise.resolve()},load:function(){return Promise.resolve()},setUrls:function(){},hasText:function(){return!1},updateVisible:function(){this._updateVisible()}}),t.exports=a},{"../common/eventer":466,"./page_proto":596,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.string.link":314,jquery:400}],589:[function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)})}}e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.string.trim"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.array.sort"),e("core-js/modules/es6.string.iterator"),e("core-js/modules/es6.array.from"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.symbol"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.is-array"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.function.bind"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.array.map"),e("core-js/modules/es6.array.reduce"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.array.filter");var a=e("jquery"),s=e("underscore"),c=e("async/queue"),l=e("../common/util"),u=(e("../settings"),e("../common/eventer")),d=e("../common/scrollbar_size"),f=e("./thumbnail"),p=e("./loader"),h=e("./pdfjs_page"),m=e("./html_page"),g=e("./cover_page"),v=e("./printer"),y=e("./pdf_link_service"),b=e("../annotations/annotation_model"),w=5,_=.2,x=u({}),k=null,j=null,C=null,E=null,S=[],T=[],O=!1,A="scale",P=1,N=0,M=null,R="",I=10,D=900,L=c(function(e,t){return e().then(t)});function F(e,t){O&&(t?x.trigger(e,[t]):x.trigger(e))}function z(){return(z=o(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return",Promise.reject("pdf_src_missing"));case 2:return e.next=4,Te(j);case 4:return n=e.sent,e.next=7,Oe(n);case 7:return r=e.sent,i=S.map(function(e){return[]}),t&&(b.list().forEach(function(e){i[e.page.index-1].push(e)}),i.map(function(e){var t=s.partition(e,function(e){return"freehand"!=e.type});return t[0].concat(t[1])})),r=r.filter(function(e){return!e.error}),v.create(n,r,i).layout(),e.abrupt("return",Promise.resolve());case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(){p.init(S),p.on({"page-loaded.viewer":function(e,t){p.getLoadedCnt()>=S.length&&M.off("scroll.loader"),F("page-loaded",t+1)},"loading-start.viewer":function(){F("loading-start")},"loading-stop.viewer":function(){F("loading-stop")}})}function B(e){return Math.min(S.length-1e-9,Math.max(0,e))}function H(){var e=parseInt(M.css("padding-left")),t=parseInt(M.css("padding-right"));return M[0].getBoundingClientRect().width-e-t}function X(){return M.height()}function q(){return S[N]}function U(){var e,t=0,n=0,r=(M.scrollTop()-0)/P;for(e=0;e<S.length&&!((n+=S[e].height+I)>r);e++);return S[e]&&(t=(n-r)/(S[e].height+I)),e+(1-t)}function W(){return s.reject(S,function(e){return e instanceof g})}function V(){return s.filter(S,function(e){return e instanceof m})}function $(){return[].concat(r(S),r(s.compact(T)))}function G(e,t){if(!isNaN(e=parseFloat(e))){var n=function(e){var t,n=e>0?Math.floor(e):Math.ceil(e),r=e-n,i=0;for(t=0;t<n;t++)i+=S[t].height+I;return(i+=r*(S[t].height+I))*P+0}(B(e));t&&(n+=I*P/2),M.scrollTop(Math.round(n)),ee(),Q(),F("scroll")}}function K(){return B(Math.round(U()))}function J(){var e=K();N!=e&&(N=e,F("page-changed",e+1)),F("scroll")}function Q(){"scale"==A&&(p.stopPreloading(),p.loadVisible())}function Z(){"scale"==A&&p.preloadPages(K())}function ee(){$().forEach(function(e){return e.updateVisible()})}function te(){M&&(ne(),M.on("scroll.update",J),M.on("scroll.render",ee),M.on("scroll.loader",s.throttle(Q,100)),M.on("scroll.loader",s.debounce(Z,1500)))}function ne(){M&&(M.off("scroll.update"),M.off("scroll.render"),M.off("scroll.loader"))}function re(){return H()/(q().width+2*q().border)}function ie(){var e=H()/(q().width+2*q().border),t=X()/(q().height+q().border);return Math.min(e,t)}function oe(){return{x:(Math.max.apply(Math,r(S.map(function(e){return e.width})))+2*I)*P-M.width(),y:(S.map(function(e){return e.height}).reduce(function(e,t){return e+t})+(S.length+1)*I)*P-M.height()}}function ae(e,t){return se(e,t,"prescale")}function se(e,t,n){var r=M.width();M.height();e=Math.max(_,e),e=Math.min(w,e),t=t||{x:r/2,y:0},A="prescale"===n?"prescale":"scale";var i={},o=e/P,a=M.scrollTop(),s=M.scrollLeft();i.old=oe(),P=e,$().forEach(function(e){return e[A]=P}),i.new=oe(),i.new.y>0?(a=a*o+t.y*(o-1),M.scrollTop(Math.round(a))):M.scrollTop(0),i.new.x>0?(s>0||i.old.x>0?(s=s*o+t.x*(o-1),M.scrollLeft(s)):s=i.new.x/2,M.scrollLeft(Math.round(s))):o<1&&M.scrollLeft(0),F(A)}function ce(){se(re())}function le(){se(ie())}function ue(){var e;"fit-width"==D?ce():"fit-page"==D?le():D+2*q().border>=H()?ce():(e=D/S[0].width,se(Math.round(e*S[0].width)/S[0].width)),M.scrollTop(0)}function de(){for(N=0,P=1,ne(),p&&p.stopPreloading();S.length;)S.pop().destroy()}function fe(e){return new h(Object.assign({container:M,linkService:E},e))}function pe(e){return new g(Object.assign({container:M},e))}function he(e){var t=e.getViewport({scale:1});return{zoom:1,border:I,height:t.height,width:t.width}}function me(e,t){var n=e.size||e.sizes[t];return{zoom:e.zoom,height:n[1],width:n[0],border:I}}function ge(e,t){return{thumb:f(t,e.hash),text:e.text[t],bg:e.background[t]}}function ve(e){return e.text&&e.text.length?new Promise(function(t,n){a.ajax({url:e.text[0],dataType:"text",success:t,error:function(e){console.warn(["first page failed","status: ".concat(e.status),"statusText: ".concat(e.statusText),"readyState: ".concat(e.readyState)].join(", ")),n({error:"load_html_fail"})}})}):Promise.reject({error:"load_html_fail"})}function ye(e){return e.stylesheet?new Promise(function(t,n){l.getStyle(e.stylesheet).then(t).catch(function(){n({error:"load_html_fail"})})}):Promise.resolve()}function be(){return S.length&&!S[0].isLoader}function we(e){return new Promise(function(t){Pe(function(){V().forEach(function(t,n){t.setUrls(ge(e,n))}),te(),Z(),ee(),t(),F("render",R="pdf2htmlEX")})})}function _e(e){return xe.apply(this,arguments)}function xe(){return(xe=o(regeneratorRuntime.mark(function e(t){var n,i,o,c,l,u,d,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(j=t.viewer_pdf);case 2:return n=e.sent,e.next=5,Oe(n);case 5:return i=e.sent,o=he(i[0]),c={},l=V(),u=s.filter(S,function(e){return e instanceof g}),d=a('<div class="pdf-scratch-content"></div>').insertBefore(M),f=i.map(function(e,t){var n=fe({index:t+1,container:d,dimensions:o});e.error?n.setError(e.error):(n.setPageObject(e),n.setDimensions(he(e)));var r=l[t];return r&&(n.rotateBy(r.rotation),n.scale=r.scale),n}),T=l.slice(),S=[].concat(r(u),r(f)).sort(function(e,t){return e.index-t.index}),h=f.map(function(e,t){return{load:function(){return c[t]?Promise.resolve():(c[t]=!0,e.load().then(function(){var n=l[t];n&&(n.replaceWith(e),delete T[t])}))}}}),p.destroy(),p.init([].concat(r(u),r(h)).sort(function(e,t){return e.index-t.index})),ee(),Q(),Z(),F("render",R="pdf.js v".concat(pdfjsLib.version)),e.abrupt("return",n);case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ke(){return(ke=o(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n||!be()){e.next=2;break}return e.abrupt("return",we(t));case 2:return e.abrupt("return",Promise.all([ve(t),ye(t)]).then(function(e){if(!j){var n=e[0],r=a(n).data("pages"),i=r.length;if(de(),Y(),t.cover){var o=me(r,0);S.push(pe({index:0,urls:t.cover,dimensions:o}))}if(s.range(i).forEach(function(e){var i,o=ge(t,e),a=0==e?n:void 0,s=me(r,e);S.push((i={index:e+1,urls:o,dimensions:s,text:a},new m(Object.assign({container:M},i))))}),t.back){var c=me(r,0);S.push(pe({index:S.length+1,urls:t.back,dimensions:c}))}ue(),te(),Z(),ee(),O=!0,F("initialized"),F("render",R="pdf2htmlEX")}}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function je(){return(je=o(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(t.viewer_pdf){e.next=4;break}return e.abrupt("return",Promise.reject("pdf_src_missing"));case 4:if(!be()){e.next=6;break}return e.abrupt("return",_e(t));case 6:return e.next=8,Te(j=t.viewer_pdf);case 8:return n=e.sent,(r=n.getPage(1)).catch(function(e){throw console.warn("Error extracting page 1: ".concat(e)),"pdf_parse_error"}),e.abrupt("return",r.then(function(e){var r=he(e);de(),Y(),t.cover&&S.push(pe({index:0,urls:t.cover,dimensions:r}));var i=fe({index:1,pgobj:e,dimensions:r});S.push(i);for(var o,a=i.load(),s=function(e,t,s){S.push(s=fe({index:e,dimensions:r,scale:i.scale})),a=a.then(function(){return e=s,n.getPage(e.index).then(function(t){e.setPageObject(t),e.setDimensions(he(t)),Z()}).catch(function(t){console.warn("Error extracting page ".concat(e.index,": ").concat(t)),e.setError(t)});var e}),o=s},c=2,l=n.numPages;c<=l;c++)s(c,0,o);return t.back&&S.push(pe({index:S.length+1,urls:t.back,dimensions:r})),ue(),te(),Z(),ee(),O=!0,F("initialized"),F("render",R="pdf.js v".concat(pdfjsLib.version)),i.onLoaded().then(function(){n.getOutline().then(function(e){e&&e.length&&F("outline-loaded",C=e)})}),a.then(function(){return n})}));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ce(e,t){return new Promise(function(n,r){L.push(function(){return function(e,t){return ke.apply(this,arguments)}(e,t).then(n,r)})})}function Ee(e){return new Promise(function(t,n){L.push(function(){return function(e){return je.apply(this,arguments)}(e).then(t,n)})})}function Se(e){return Object.assign({cMapUrl:pdfjsLib.cMapUrl,cMapPacked:pdfjsLib.cMapPacked},function(e){return l.isArrayBuffer(e)?{data:e}:{url:e,withCredentials:!0}}(e))}function Te(e){return k?Promise.resolve(k):pdfjsLib.getDocument(Se(e)).promise.then(function(e){return e.getMetadata().then(function(t){return l.log(l.pdfjsInfo(e,t))}),k=e,(E=new y({eventBus:{dispatch:s.noop},externalLinkTarget:2})).setDocument(e),E.setViewer({get rotation(){return 0},set rotation(e){},get currentPageNumber(){return x.currIndex},set currentPageNumber(e){},isPageVisible:function(e){return x.getPage(e).visible},getDestIndex:function(e){var t=x.getPage(e.pageNumber),n=0,r=null;switch(e.destArray[1].name){case"XYZ":case"FitR":r=e.destArray[3];break;case"FitH":case"FitBH":null===(r=e.destArray[2])&&(n=U()%1)}return null!==r&&(n=1-r/t.height),t.index+n},scrollPageIntoView:function(e){var t=this.getDestIndex(e);x.gotoPage(t-.1*x.numVisiblePages)}}),e}).catch(function(e){throw console.warn(e),"pdf_parse_error"})}function Oe(e){if(Oe.pages)return Promise.resolve(Oe.pages);var t=[];return e.getPage(1).then(function(e){return t.push(e)}).catch(function(e){throw console.warn("Error extracting page 1: ".concat(e)),"pdf_parse_error"}).then(function(){for(var n=Promise.resolve(),r=function(r,i){n=n.then(e.getPage.bind(e,r)).then(function(e){return t.push(e)}).catch(function(e){console.warn("Error extracting page ".concat(r,": ").concat(e)),t.push({error:e})})},i=2,o=e.numPages;i<=o;i++)r(i);return n.then(function(){return Oe.pages=t})})}function Ae(){return(Ae=o(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return",Promise.reject("pdf_src_missing"));case 2:return e.prev=2,e.next=5,Te(j);case 5:return t=e.sent,e.next=8,t.getPage(1);case 8:return n=e.sent,e.next=11,n.getTextContent();case 11:return r=e.sent,i=s.sortBy(s.groupBy(r.items,function(e){return-parseInt(e.height)}),function(e){return e[0]}).map(function(e){return e.map(function(e){return e.str}).join(" ").replace(/\s+/g," ").trim()}),e.abrupt("return",i.find(function(e){return e.length>10&&e.length<200&&(e.match(/[a-z]/gi)||"").length>e.length/2&&e.match(/^[A-Z]+/)}));case 16:return e.prev=16,e.t0=e.catch(2),console.warn(e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,null,[[2,16]])}))).apply(this,arguments)}function Pe(e){O?e():x.one("initialized",e)}x.init=function(e){return O?Promise.resolve():(pdfjsLib.GlobalWorkerOptions.workerSrc=a('meta[name="worker-src"]').attr("content"),pdfjsLib.cMapUrl=a('meta[name="cmaps-src"]').attr("content")||"https://cdn.jsdelivr.net/npm/pdfjs-dist@".concat(pdfjsLib.version,"/cmaps/"),pdfjsLib.cMapPacked=!0,function(e){e.container&&(a('\n    <div class="pdf-content" tabindex="0">\n      <div id="ad-leaderboard"></div>\n      <div id="journal-banner"></div>\n    </div>\n  ').appendTo(e.container),(M=a(e.container).find(".pdf-content")).css("padding-right","+=".concat(d().width)),M.on("mousedown",function(e){M.is(e.target)&&M.one("mouseup",function(e){M.is(e.target)&&F("background-click")})}))}(e),(t=new m({container:M,text:"<div></div>",dimensions:{height:1200,width:D,border:15,zoom:1}})).isLoader=!0,S=[t],ue(),e.viewer_pdf?Ee(e):e.html&&Ce(e.html),new Promise(function(e){Pe(e)}));var t},x.onInit=Pe,x.getOutline=function(){return new Promise(function(e){C?e(C):x.one("outline-loaded",e)})},x.setPdf=Ee,x.setHtml=Ce,x.scaleBy=function(e){se(P*e)},x.scaleTo=se,x.prescaleTo=ae,x.fitPage=le,x.fitWidth=ce,x.prescaleFitPage=function(){ae(ie())},x.prescaleFitWidth=function(){ae(re())},x.shrinkToWidth=function(){q()&&re()<P&&ce()},x.rotatePageBy=function(e,t){t=parseInt(t)||parseInt(N),S[t].rotateBy(e),F("rotate")},x.getRangePageIdx=function(e){var t=e.commonAncestorContainer,n=s.find(W(),function(e){return a.contains(e.elem[0],t)});if(n)return n.index},x.closestPage=function(e){var t=W(),n=0,r=t[n].distSq(e);return t.forEach(function(t,i){if(i!=n){var o=t.distSq(e);o<r&&(r=o,n=i)}}),t[n]},x.findTitle=function(){return Ae.apply(this,arguments)},x.destroy=de,x.getPage=function(e){return W()[e-1]},x.eachPage=function(e){for(var t=W(),n=0;n<t.length;n++)if(!1===e(t[n],n+1))return},x.eachVisiblePage=function(e){for(var t=W(),n=0;n<t.length;n++)if(t[n].visible&&!1===e(t[n],n+1))return},x.gotoPage=function(e){return G(e-1,!0)},x.print=function(e){return function(e){return z.apply(this,arguments)}(e).then(function(){return v.print()})},Object.defineProperty(x,"banner",{get:function(){return M.find("#journal-banner")}}),Object.defineProperty(x,"pdfDoc",{get:function(){return k}}),Object.defineProperty(x,"linkService",{get:function(){return E}}),Object.defineProperty(x,"pdfSrc",{get:function(){return j}}),Object.defineProperty(x,"elem",{get:function(){return M}}),Object.defineProperty(x,"numPages",{get:function(){return S.length}}),Object.defineProperty(x,"currentIndex",{get:function(){return N+1}}),Object.defineProperty(x,"scrollIndex",{get:function(){return U()+1}}),Object.defineProperty(x,"currentScale",{get:function(){return P}}),Object.defineProperty(x,"minScale",{get:function(){return _}}),Object.defineProperty(x,"maxScale",{get:function(){return w}}),Object.defineProperty(x,"numVisiblePages",{get:function(){return q()?X()/((q().height+I)*P):1}}),Object.defineProperty(x,"contentPages",{get:function(){return W()}}),Object.defineProperty(x,"overflow",{get:function(){return oe()}}),Object.defineProperty(x,"renderer",{get:function(){return R}}),t.exports=x},{"../annotations/annotation_model":441,"../common/eventer":466,"../common/scrollbar_size":475,"../common/util":482,"../settings":568,"./cover_page":588,"./html_page":590,"./loader":593,"./pdf_link_service":597,"./pdfjs_page":598,"./printer":599,"./thumbnail":601,"async/queue":164,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.from":281,"core-js/modules/es6.array.is-array":283,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.array.map":285,"core-js/modules/es6.array.reduce":286,"core-js/modules/es6.array.sort":287,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.function.bind":291,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.match":304,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.to-string":308,"core-js/modules/es6.string.iterator":313,"core-js/modules/es6.string.trim":315,"core-js/modules/es6.symbol":316,"core-js/modules/es7.symbol.async-iterator":320,"core-js/modules/web.dom.iterable":321,jquery:400,"regenerator-runtime/runtime":420,underscore:432}],590:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.assign");var r=e("jquery"),i=e("underscore"),o=e("promise-retry"),a=(e("../common/rect"),e("../common/util"),e("../common/eventer")),s=e("./page_proto"),c=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),l=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),u={minTimeout:4e3,retries:2},d=function(e){a(this),this._index=e.index,this._dimensions=e.dimensions,this._container=e.container,this._text=e.text,this._urls=e.urls,this._prescale=e.scale||1,this._scale=this._prescale,this._deg=0,this._init()};d.prototype=Object.assign(new s,{_init:function(){this._page=r('<div class="page hwa pf w0 h0"></div>'),this._textWrap=r('<div class="no-overflow"></div>').appendTo(this._page),this._content=r('<div class="pc w0 h0"></div>').appendTo(this._textWrap),this._drawable=r('<div class="drawable"></div>').appendTo(this._page),this._eventable=r('<div class="eventable"></div>').appendTo(this._page),this._progress=r(this._progressTpl).appendTo(this._page),this._bgLoaded=!1,this._loading=!1,this._loaded=!1,this._jqxhr=null,this._page.appendTo(this._container),this._scalePage(),this._bindMouse()},_bindMouse:function(){var e=this;this._mousedown=!1,this._textWrap.on("mousedown",function(t){t.which>1||(e._mousedown=!0)}),this._textWrap.on("mousemove",function(){e._mousedown&&window.getSelection().toString()&&e._eventable.add(e._drawable).addClass("no-input")}),r(document).add(this._textWrap).on("mouseup",function(){e._mousedown&&(e._mousedown=!1,e._eventable.add(e._drawable).removeClass("no-input"))})},_setThumb:function(){var e=this;o(function(t){return new Promise(function(t,n){if(e._urls.text)return t();e._page.find("img.bt").remove(),r('<img class="bt" alt="" src="'+e._urls.thumb+'">').on("dragstart",!1).one("load",t).one("error",n).prependTo(e._page)}).catch(t)},u).catch(i.noop)},_setImageBg:function(){var e=this;o(function(t){return new Promise(function(t,n){e._content.find("img.page-bg").remove(),r('<img class="bf page-bg" alt="" src="'+e._urls.bg+'">').on("dragstart",!1).one("load",t).one("error",n).prependTo(e._content)}).then(function(){e._bgLoaded=!0}).catch(t)},u).catch(i.noop)},_setObjectBg:function(){var e=this;o(function(t,n){return new Promise(function(t,n){e._content.find("object.page-bg").remove();var i=r('<object class="bf page-bg" data="'+e._urls.bg+'"></object>').attr("type","image/svg+xml").on("dragstart",!1).prependTo(e._content);i[0].addEventListener("load",t),i[0].addEventListener("error",n)}).then(function(){e._bgLoaded=!0}).catch(t)},u).catch(i.noop)},_setBackground:function(){this._urls&&(this._page.find("img.bt").remove(),c||l?this._setObjectBg():this._setImageBg())},_prescalePage:function(e){var t=this.width*this._prescale,n=this.height*this._prescale,r=this.border*this._prescale;this._page.css({width:e?Math.ceil(t):t,height:e?Math.ceil(n):n,"border-width":e?Math.round(r):r,"margin-bottom":e?Math.round(-r):-r}),this._content.css({transform:"scale(".concat((this._prescale/this.zoom).toFixed(5),")"),"transform-origin":"0 0"}),this._drawable.add(this._eventable).css({transform:"scale(".concat(this._prescale.toFixed(5),")"),"transform-origin":"0 0"})},_scalePage:function(){this._prescalePage(!0),this._scale=this._prescale},_createPage:function(e){var t=r(e).find(".pc");t.find("a").each(function(){var e=r(this),t=e.attr("href");/^\/+/.test(t)&&e.attr("href","http://"+t.replace(/^\/+/,"")),e.text()||e.attr("aria-hidden","true"),e.attr("target","_blank")}),t.prepend('<div class="bf"></div>'),this._content.replaceWith(t),this._content=t,this._scalePage(),this._setBackground(),this._handleLoadSuccess()},_handleLoadSuccess:function(){this._jqxhr=null,this._loaded=!0,this._loading=!1,this._progress.remove(),this.trigger("loaded")},_loadText:function(){var e=this;return this._text?Promise.resolve(this._text):new Promise(function(t,n){e._jqxhr=r.ajax({url:e._urls.text,dataType:"text",success:function(n){return t(e._text=n)},error:n})})},_loadPage:function(){if(this._urls.text){var e=this;o(function(t){return e._loadText().then(function(t){e._loading&&e._createPage(t)}).catch(function(n){e._loading&&(/^4\d{2}$/.test(n.status)||t())})},u).catch(function(){e._loading=!1})}else this._urls.thumb&&(this._setThumb(),this._loading=!1)},get hasText(){return this._loaded},getThumbSrc:function(){return this._urls.thumb},onLoaded:function(){var e=this;return new Promise(function(t){e._loaded&&t(),e.one("loaded",t)})},load:function(){return this._loaded||this._loading||(this._loading=!0,this._loadPage()),this.onLoaded()},getTextLayer:function(){return this._loaded?this._content:null},getTextContent:function(){return this._loadText()},setUrls:function(e){!this._urls.text&&e.text&&(this._page.find("img").off("error"),this._jqxhr&&this._jqxhr.abort(),this._loading=!1,this._loaded=!1,this._jqxhr=null,this._urls=e)},updateVisible:function(){this._updateVisible()},replaceWith:function(e){e.replacePage(this),this.trigger("replace",[e]),this.destroy()}}),t.exports=d},{"../common/eventer":466,"../common/rect":474,"../common/util":482,"./page_proto":596,"core-js/modules/es6.array.find":279,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.to-string":308,jquery:400,"promise-retry":407,underscore:432}],591:[function(e,t,n){"use strict";e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.array.sort");var r=e("jquery"),i={},o=["mouseenter","mouseleave","click"],a={},s={termite:100,highlight:200,underline:200,strikethrough:200,"current-selection":300,"enhanced-reference":400,"enhanced-author":500,"enhanced-figure":600},c="-input-id";function l(e,t){t.elems.on(e+"."+t.inputId,function(t){var n=r(t.target),i=function(e){var t=e.attr("class");return t?(t=r.grep(t.split(" "),function(e){return!!s[e]}).sort(function(e,t){return s[e]-s[t]}))[0]:null}(n);if(i){t.stopImmediatePropagation();var o=n.data(i+c).split(" ").pop();return a[o].trigger(r.Event(e,{originalEvent:t})),!1}})}i.get=function(e){return a[e]},i.add=function(e){a[e.inputId]=e,function(e){var t=e.inputId,n=e.klass+c;e.elems.each(function(){var e=r(this),i=e.data(n),o=i?[i,t].join(" "):t;e.data(n,o)})}(e),function(e){o.forEach(function(t){return l(t,e)})}(e)},i.remove=function(e){!function(e){o.forEach(function(t){return function(e,t){t.elems.off(e+"."+t.inputId)}(t,e)})}(e),function(e){var t=e.inputId,n=e.klass+c;e.elems.each(function(){var e=r(this),i=e.data(n);if(i){var o=r.grep(i.split(" "),function(e){return e!=t});e.data(n,o.join(" "))}})}(e),delete a[e.inputId]},i.addRef=function(e){a[e.inputId]=e},i.removeRef=function(e){delete a[e.inputId]},t.exports=i},{"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.sort":287,"core-js/modules/es6.regexp.split":307,jquery:400}],592:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("./viewer"),o=e("../article"),a=e("../router"),s=null;function c(e){e&&(e.url&&s.click(function(){window.open(e.url,"_blank")}),l(e.background,function(t){function n(e){r(e).attr("role","presentation").appendTo(s)}s.css("background-image",'url("'+e.background+'")').show(),s.data("bg-original-width",r(t).data("original-width")),s.data("bg-original-height",r(t).data("original-height")),u(),l(e.left,function(e){e.className="left",n(e),u()}),l(e.center,function(e){e.className="center",n(e),u()}),l(e.right,function(e){e.className="right",n(e),u()})}),i.on("scale",u),u())}function l(e,t){if(e){var n=new Image;n.onload=function(){r(n).data("original-width",n.width),r(n).data("original-height",n.height),t(n)},n.src=e}}function u(){var e=i.getPage(1);if(e){var t=e.width*e.scale,n=t/s.data("original-width"),o=s.data("original-height")*n,a=s.data("bg-original-width"),c=s.data("bg-original-height")*n;s.css({width:t,height:o,margin:e.border+"px auto","background-size":a+"px "+c+"px"}),s.find("img").each(function(){var e=r(this),i=e.data("original-height")*n,a=e.data("original-width")*n,s=1;a>o&&(s=o/a),i*s>t&&(s=t/i),e.css("height",a*s)})}}i.onInit(function(){if(!i.banner)return;(s=i.banner).data("original-width",s.width()),s.data("original-height",s.height());var e=a.params.banner;e?(s.addClass("flat"),c({background:"data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",center:decodeURIComponent(e)})):o.metadata().then(function(){i.isPublic&&c(o.data.banner)})})},{"../article":455,"../router":567,"./viewer":602,"core-js/modules/es6.array.find":279,jquery:400}],593:[function(e,t,n){"use strict";e("jquery");var r=e("../common/eventer")({}),i=4,o=null,a=0,s=0,c={},l=!1;function u(e,t){t&&!c[e]&&(++a,c[e]=!0,r.trigger("page-loaded",[e])),0==--s&&r.trigger("loading-stop")}function d(e,t,n){o[e]&&(1==++s&&r.trigger("loading-start"),o[e].load().then(function(){u(e,!0),t&&t()}).catch(function(){u(e,!1),n&&n()}))}r.init=function(e){l=!1,o=e},r.loadAll=function(e,t){for(var n=0,r=!1,i=0;i<o.length;i++)d(i,function(){++n==o.length&&e&&e()},function(){r||(r=!0,t&&t())})},r.loadVisible=function(){if(o)for(var e=0;e<o.length;e++)o[e].visible&&d(e)},r.preloadPages=function(e,t){if(o){l=!1,t=t||i;for(var n=Math.min(o.length,1+2*t),r=[e],a=0,s=1;r.length<n;s++){var c=e-s,u=e+s;c>=0&&r.push(c),u<o.length&&r.push(u)}!function e(){l||a>=n||d(r[a],function(){++a,e()})}()}},r.stopPreloading=function(){l=!0},r.getLoadedCnt=function(){return a},r.destroy=function(){l=!0,c={},s=0,a=0,o=null},t.exports=r},{"../common/eventer":466,jquery:400}],594:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.find");var r=e("jquery"),i=(e("../common/util"),e("../common/rect")),o=e("../common/eventer"),a=e("../mobile/transformable"),s=e("./page_proto");function c(e){var t=this;o(this),this._loaded=!1,this._visible=!1,this._data=e,this._elem=this._createElem(),this._loader=this._createLoader(),this._img=this._elem.find("img.full").contextmenu(!1).one("load",function(){t._loaded=!0,t._setHeight(t._img.height())}),this._tmb=this._elem.find("img.thumb").contextmenu(!1).one("load",function(){t._setHeight(t._tmb.height())}),this._tr=new a(this._elem[0],{viewport:this._data.container[0].getBoundingClientRect(),scale:this.scale}),this._init()}c.prototype={_init:function(){var e=this;0==this._data.index?this._img.one("load",function(){e._tmb[0].src=e._data.thumb}):this._tmb[0].src=this._data.thumb},_createElem:function(){var e=r('<div class="page">\n        <img class="bg thumb">\n        <img class="bg full">\n        <div class="drawable"></div>\n        <div class="eventable"></div>\n      </div>').css({width:this._data.dimensions.width,height:this._data.dimensions.height});return e.find(".drawable, .eventable").css({"transform-origin":"0 0",transform:"scale(".concat(this.zoom,")")}),e.appendTo(this._data.container),e},_createLoader:function(){return r('<div class="loader">\n        <div class="loader-inner ball-pulse">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>').appendTo(this._data.container)},_show:function(){var e=this;this._data.full&&this._data.full!=this._img[0].src&&(this._img.one("load",function(){e._loader.remove(),e.trigger("load-stop")}),this._loader[0].style.display="block",this._img[0].src=this._data.full,this.trigger("load-start")),this._img[0].style.display="block"},_hide:function(){this._img[0].style.display="none"},_setHeight:function(e){this._data.dimensions.height=e,this.elem.css("height",this._data.dimensions.height),this.resize()},setUrls:function(e){this._data.full=this._data.full||e.full,this._visible&&this._show()},reset:function(){this._tr.reset(this.scale)},resize:function(){this._tr.resize(this._data.container[0].getBoundingClientRect())},updateVisible:function(e){(this._visible=e)?this._show():this._hide()},onLoaded:function(){var e=this;return new Promise(function(t){e._loaded&&t(),e._img.one("load",t)})},distSq:function(e){return s.prototype.distSq.call(this,e)},doc2page:function(e){return s.prototype.doc2page.call(this,e)},page2doc:function(e){return s.prototype.page2doc.call(this,e)},get index(){return this._data.index},get elem(){return this._elem},get container(){return this._data.container},get visible(){return this._visible},get width(){return this._data.dimensions.width/this._data.dimensions.zoom},get height(){return this._data.dimensions.height/this._data.dimensions.zoom},get scale(){return this._data.container.width()/this._data.dimensions.width},get zoom(){return this._data.dimensions.zoom},get rotation(){return 0},get border(){return 0},get normRect(){var e=this._elem[0].getBoundingClientRect();return new i(e.left,e.top,this.width,this.height)},get drawable(){return this._elem.find(".drawable")},get eventable(){return this._elem.find(".eventable")},get hasText(){return!0},get hammer(){return this._tr.hammer}},t.exports=c},{"../common/eventer":466,"../common/rect":474,"../common/util":482,"../mobile/transformable":549,"./page_proto":596,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400}],595:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.for-each");var r=e("jquery"),i=e("underscore"),o=e("../common/util"),a=e("../common/eventer"),s=e("../common/browser"),c=e("../common/transform_helper"),l=e("./thumbnail"),u=e("./mobile_page"),d=1.02,f=.4,p=350,h="ios"==s.OS?500:0,m=null,g=null,v=0,y=null,b="png",w=void 0,_=0,x=!1,k=!1,j=null,C=0,E=[],S=[],T=[],O=window.innerWidth,A=i.debounce(M,100);function P(e){k||(k=!0,requestAnimationFrame(function(){e(),k=!1}))}function N(e){C=e}function M(){var e=I();E.forEach(function(t,n){t.updateVisible(Math.abs(n-e)<2)})}function R(){var e={translate:{x:C,y:0}};j[0].style.transform=c.getCssTransform(e,!0),A()}function I(){return-C/U()}function D(e){return Math.min(E.length-1,Math.max(0,e))}function L(e,t){w&&(t?g.trigger(e,[t]):g.trigger(e))}function F(e){e.panOutX&&!x&&(N(-v*U()+e.panOutX),P(R))}function z(e){var t=0;if(I()!=v&&Math.abs(e.velocityX)>f)t=e.velocityX<0?D(v+1):D(v-1);else{var n=1/0;T.forEach(function(e,r){var i=Math.abs(-e-C);r==v&&(i+=.4*U()),i<n&&(t=r,n=i)}),t=Math.max(t,v-1),t=Math.min(t,v+1)}q(t)}function Y(){E[v].hammer.off("pan",F),E[v].hammer.off("panend pancancel",z),E[v].hammer.on("pan",F),E[v].hammer.on("panend pancancel",z)}function B(){S.forEach(function(e,t){!function(e,t){T[e]=t}(t,t*U())}),S.forEach(function(e,t){e[0].style.transform=c.getCssTransform({translate:{x:T[t],y:0}})})}function H(){0==_++&&g.trigger("loading-start")}function X(){--_<=0&&g.trigger("loading-stop")}function q(e){if(!x){var t=E[v],n=E[v=D(e)];x=n!=t,!0,j.css("transition","transform ".concat(p,"ms ease-out")),N(-e*U()),R(),setTimeout(function(){t&&x&&t.reset(),j.css("transition","none"),x=!1,L("page-changed",v+1)},p)}}function U(){return O*d}function W(){var e=y.width();if(e!=O){O=e,r("html").toggleClass("landscape",o.isLandscape);try{window.scrollTo({top:0})}catch(e){}N(-v*U()),R(),B(),E.forEach(function(e){return e.resize()})}}function V(e){e=parseInt(e)-1,isNaN(e)||q(e=D(e))}g=a({init:function(e){y=r('<div class="viewer-inner"></div>').appendTo(e.container),j=r('<div class="sheet"></div>').appendTo(y),O=y.width(),r("html").toggleClass("landscape",o.isLandscape);try{window.scrollTo({top:0})}catch(e){}r(window).on("resize orientationchange",i.debounce(W,h))},onInit:function(e){w?e():g.one("initialized",e)},setHtml:function(e){if(E.length)return function(e){return E.forEach(function(t,n){t.on("load-start",H),t.on("load-stop",X),t.setUrls({full:e[b][n]})}),M(),Promise.resolve()}(e);!function(e){for(var t=r('<div class="page-container"></div>');e--;)S.push(t.clone().appendTo(j))}(e.total_pages),B();for(var t=0;t<e.total_pages;t++){var n=e.sizes[t]||e.sizes[0];E.push(new u({index:t,full:e[b][t],thumb:l(t,e.hash),container:S[t],dimensions:{width:n[0],height:n[1],zoom:200/72}}))}return q(0),function(){(m=new Hammer.Manager(y[0])).add(new Hammer.Tap({event:"singletap"}));var e=m.get("singletap"),t=E[v].hammer.get("doubletap");e.requireFailure(t),Y(),g.on("page-changed",function(){e.dropRequireFailure(t),t=E[v].hammer.get("doubletap"),e.requireFailure(t),Y()})}(),w=!0,L("initialized"),Promise.resolve()},getPage:function(e){return E[e-1]},eachPage:function(e){for(var t=0;t<E.length;t++)if(!1===e(E[t],t+1))return},gotoPage:V,destroy:i.noop,shrinkToWidth:i.noop,get initialized(){return w},get elem(){return y},get pages(){return E},get numPages(){return E.length},get numVisiblePages(){return 1},get currentIndex(){return v+1},set currentIndex(e){return V(e)},get slideIndex(){return I()+1},set slideIndex(e){return function(e){x||(N(-e*U()),P(R),L("slide",e+1))}(e-1)},get curPage(){return E[v]},get hammer(){return m},get isMobile(){return!0}}),window.viewer=g,t.exports=g},{"../common/browser":461,"../common/eventer":466,"../common/transform_helper":480,"../common/util":482,"./mobile_page":594,"./thumbnail":601,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,underscore:432}],596:[function(e,t,n){"use strict";var r=e("../common/rect"),i=e("@fortawesome/fontawesome-svg-core").icon,o=function(){},a={classes:["fa-icon icon-h-40"]},s={fileExclamation:e("@fortawesome/pro-duotone-svg-icons/faFileExclamation").definition};o.prototype={_updateVisible:function(){var e=this._container[0].getBoundingClientRect(),t=this.elem[0].getBoundingClientRect();this._visible=r.prototype.intersects.call(e,t),this.elem.toggleClass("open",this._visible)},get _progressTpl(){return'\n      <div class="page-progress">\n        <div class="loader-inner ball-pulse">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    '},get _errorTpl(){return'\n      <div class="wrfont error-message">\n        <div>\n          '.concat(i(s.fileExclamation,a).html,"\n        </div>\n        <span>\n          THIS PAGE CAN NOT BE DISPLAYED PROPERLY</br>\n          TRY DOWNLOADING THE ORIGINAL PDF\n        </span>\n      </div>\n    ")},get index(){return this._index},get elem(){return this._page},get container(){return this._container},get visible(){return this._visible},get width(){return this._dimensions.width},get height(){return this._dimensions.height},get border(){return this._dimensions.border},get zoom(){return this._dimensions.zoom},get scale(){return this._prescale},set scale(e){this._prescale=e,this._scalePage()},set prescale(e){this._prescale!==e&&(this._prescale=e,this._prescalePage())},get rotation(){var e=this._deg%360;return e<0?e+360:e},get drawable(){return this._drawable},get eventable(){return this._eventable},restoreTextBounds:function(){},rotateBy:function(e){var t=this;e%90||(this._deg=this._deg+Math.floor(e%360),this.elem.css({transition:"all .2s ease",transform:"rotate(".concat(this._deg,"deg)")}),setTimeout(function(){t.elem.css("transition","none")},200))},distSq:function(e){return r.prototype.distSq.call(this.elem[0].getBoundingClientRect(),e)},doc2page:function(e){var t,n,r=this.rotation,i=this.elem[0].getBoundingClientRect();return 0==r?(t=e.x-i.left,n=e.y-i.top):90==r?(t=e.y-i.top,n=i.right-e.x):180==r?(t=i.right-e.x,n=i.bottom-e.y):270==r&&(t=i.bottom-e.y,n=e.x-i.left),t-=Math.round(this.border*this.scale),n-=Math.round(this.border*this.scale),{x:t/=this.scale,y:n/=this.scale}},page2doc:function(e){var t,n,r=this.rotation,i=this.elem[0].getBoundingClientRect(),o=e.x*this.scale,a=e.y*this.scale;return 0==r?(t=o+i.left,n=a+i.top):90==r?(t=i.right-a,n=i.top+o):180==r?(t=i.right-o,n=i.bottom-a):270==r&&(t=i.left+a,n=i.bottom-o),{x:t+=Math.round(this.border*this.scale),y:n+=Math.round(this.border*this.scale)}},destroy:function(){this.elem.remove()}},t.exports=o},{"../common/rect":474,"@fortawesome/fontawesome-svg-core":1,"@fortawesome/pro-duotone-svg-icons/faFileExclamation":9}],597:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.symbol"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.regexp.search"),e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es7.array.includes"),e("core-js/modules/es6.string.includes"),e("core-js/modules/es6.array.is-array"),e("core-js/modules/es6.number.constructor"),e("core-js/modules/es6.number.is-integer"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.create");var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,r=t.externalLinkTarget,i=void 0===r?null:r,o=t.externalLinkRel,a=void 0===o?null:o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventBus=n||getGlobalEventBus(),this.externalLinkTarget=i,this.externalLinkRel=a,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}var t,n,o;return t=e,(n=[{key:"setDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"navigateTo",value:function(e){var t=this;this._resolveDest(e).then(function(e){t.pdfViewer.scrollPageIntoView(e)})}},{key:"destToIndex",value:function(e){var t=this;return this._resolveDest(e).then(function(e){return t.pdfViewer.getDestIndex(e)})}},{key:"_resolveDest",value:function(e){var t=this;return new Promise(function(n){t._getExplicitDest(e).then(function r(i){var o,a=i.namedDest,s=i.explicitDest,c=s[0];if(c instanceof Object){if(null===(o=t._cachedPageNumber(c)))return void t.pdfDocument.getPageIndex(c).then(function(e){t.cachePageRef(e+1,c),r({namedDest:a,explicitDest:s})}).catch(function(){console.error('PDFLinkService.navigateTo: "'.concat(c,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))})}else{if(!Number.isInteger(c))return void console.error('PDFLinkService.navigateTo: "'.concat(c,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));o=c+1}!o||o<1||o>t.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(o,'" is not ')+'a valid page number, for dest="'.concat(e,'".')):(t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:a,explicitDest:s,pageNumber:o})),n({pageNumber:o,destArray:s}))})})}},{key:"_getExplicitDest",value:function(e){var t=this;return new Promise(function(n,r){function i(t){if(!Array.isArray(t.explicitDest))return console.error('PDFLinkService.navigateTo: "'.concat(t.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(e,'".')),void r();n(t)}"string"!=typeof e?i({namedDest:"",explicitDest:e}):t.pdfDocument.getDestination(e).then(function(t){i({namedDest:e,explicitDest:t})})})}},{key:"getDestinationHash",value:function(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(e.includes("=")){var i=parseQueryString(e);if("search"in i&&this.eventBus.dispatch("findfromurlhash",{source:this,query:i.search.replace(/"/g,""),phraseSearch:"true"===i.phrase}),"nameddest"in i)return void this.navigateTo(i.nameddest);if("page"in i&&(t=0|i.page||1),"zoom"in i){var o=i.zoom.split(","),a=o[0],s=parseFloat(a);a.includes("Fit")?"Fit"===a||"FitB"===a?n=[null,{name:a}]:"FitH"===a||"FitBH"===a||"FitV"===a||"FitBV"===a?n=[null,{name:a},o.length>1?0|o[1]:null]:"FitR"===a?5!==o.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:a},0|o[1],0|o[2],0|o[3],0|o[4]]:console.error('PDFLinkService.setHash: "'.concat(a,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},o.length>1?0|o[1]:null,o.length>2?0|o[2]:null,s?s/100:a]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in i&&this.eventBus.dispatch("pagemode",{source:this,mode:i.pagemode})}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(e){}if("string"==typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length,n=!0;if(t<2)return!1;var i=e[0];if(!("object"===r(i)&&Number.isInteger(i.num)&&Number.isInteger(i.gen)||Number.isInteger(i)&&i>=0))return!1;var o=e[1];if("object"!==r(o)||"string"!=typeof o.name)return!1;switch(o.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;n=!1;break;default:return!1}for(var a=2;a<t;a++){var s=e[a];if(!("number"==typeof s||n&&null===s))return!1}return!0}(n))return void this.navigateTo(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}}])&&i(t.prototype,n),o&&i(t,o),e}();t.exports=o},{"core-js/modules/es6.array.is-array":283,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.function.name":292,"core-js/modules/es6.number.constructor":293,"core-js/modules/es6.number.is-integer":294,"core-js/modules/es6.object.create":296,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.search":306,"core-js/modules/es6.regexp.split":307,"core-js/modules/es6.regexp.to-string":308,"core-js/modules/es6.string.includes":312,"core-js/modules/es6.symbol":316,"core-js/modules/es7.array.includes":317,"core-js/modules/es7.symbol.async-iterator":320}],598:[function(e,t,n){"use strict";e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.string.iterator"),e("core-js/modules/es6.array.filter"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.object.assign"),e("promise.prototype.finally").shim();var r=e("jquery"),i=e("async/queue"),o=e("../settings"),a=e("../common/util"),s=(e("../common/rect"),e("../common/number")),c=e("../common/eventer"),l=e("../common/browser"),u=e("./page_proto"),d=window.devicePixelRatio,f=function(){if(!l.Chrome)return!0;var e=parseFloat(l.info.version);return e<=69||e>=77}();var p=function(e){c(this),this._index=e.index,this._dimensions=e.dimensions,this._container=e.container,this._pgobj=e.pgobj,this._linkService=e.linkService,this._prescale=e.scale||1,this._scale=this._prescale,this._deg=0,this._init()};p.prototype=Object.assign(new u,{_init:function(){this._dirty=!1,this._rendered=!1,this._rendering=!1,this._renderQ=i(function(e,t){return e().then(t)}),this._page=r('<div class="page pdfjs-page"></div>'),this._bgWrap=r('<div class="bg-wrap no-overflow"></div>').appendTo(this._page),this._background=r("<div></div>").appendTo(this._bgWrap),this._drawable=r('<div class="drawable"></div>').appendTo(this._page),this._textWrap=r('<div class="text-wrap no-overflow"></div>').appendTo(this._page),this._text=r('<div class="textLayer"></div>').appendTo(this._textWrap),this._annots=r('<div class="annotationLayer"></div>').appendTo(this._textWrap),this._eventable=r('<div class="eventable"></div>').appendTo(this._page),this._progress=r(this._progressTpl).appendTo(this._page),this._page.appendTo(this._container),this._errorMsg=r(),this._scalePage(),this._bindMouse(),this._debugTextLayer(),this.updateVisible()},_canvasSize:function(){var e=this._pgobj.getViewport({scale:this._prescale}),t=s.approximateFraction(d),n=s.approximateFraction(d);return{viewport:e,native:{width:s.roundToDivide(e.width*d,t[0]),height:s.roundToDivide(e.height*d,n[0])},css:{width:s.roundToDivide(e.width,t[1]),height:s.roundToDivide(e.height,t[1])}}},_renderCanvas:function(){var e=this,t=this._canvasSize(),n=document.createElement("canvas");return n.width=t.native.width,n.height=t.native.height,r(n).hide().css("position","absolute").prependTo(this._bgWrap),this._canvasRenderTask&&this._canvasRenderTask.cancel(),this._canvasRenderTask=this._pgobj.render({canvasContext:n.getContext("2d"),transform:[d,0,0,d,0,0],viewport:t.viewport}),this._canvasRenderTask.promise.then(function(){e._background.replaceWith(n),e._background=r(n).css(e._canvasSize().css).show()}).catch(function(e){return console.warn(e)}).finally(function(){e._canvasRenderTask=null})},_renderText:function(){var e=this,t=this._prescale/4;if(this._textRenderTask)return this._text.css("transform","scale(".concat(t.toFixed(5),")")),Promise.resolve();var n=this._pgobj.getViewport({scale:4}),r=document.createDocumentFragment();return this._textDivs=[],this._text.css({width:n.width,height:n.height,transform:"scale(".concat(t.toFixed(5),")"),"transform-origin":"0 0"}),this.getTextContent().then(function(t){return e._textRenderTask=pdfjsLib.renderTextLayer({enhanceTextSelection:f,container:r,textDivs:e._textDivs,textContent:t,viewport:n}),e._textRenderTask.promise.then(function(){e._text.append(r)})}).catch(function(e){return console.warn(e)})},_debugTextLayer:function(){var e=this;o.textLayerDebug&&this._text.addClass("debug"),o.on("change:textlayer-debug",function(t,n){e._text.toggleClass("debug",n)})},_bindMouse:function(){var e=this,t=null;this._mousedown=!1,this._text.on("mousedown",function(n){n.which>1||(e._mousedown=!0,f&&(clearTimeout(t),requestAnimationFrame(function(){return e.inflateTextBounds()})))}),this._text.on("mousemove",function(){e._mousedown&&window.getSelection().toString()&&e._eventable.add(e._drawable).addClass("no-input")}),r(document).add(this._text).on("mouseup",function(){e._mousedown&&(e._mousedown=!1,e._eventable.add(e._drawable).removeClass("no-input"),f&&(t=setTimeout(function(){return e.restoreTextBounds()},300)))})},_renderAnnots:function(){var e=this;return this._pgobj.getAnnotations({intent:"display"}).then(function(t){if((t=t.filter(function(e){return 2==e.annotationType})).length){var n=e._prescale/4,r={annotations:t,viewport:e._pgobj.getViewport({scale:4}).clone({dontFlip:!0}),page:e._pgobj,div:e._annots[0],linkService:e._linkService};e._annots.empty().css({transform:"scale(".concat(n.toFixed(5),")"),"transform-origin":"0 0"}),e._annots.attr("rendered")?pdfjsLib.AnnotationLayer.update(r):(pdfjsLib.AnnotationLayer.render(r),e._annots.attr("rendered",""))}}),Promise.resolve()},_skipRender:function(){return!this._rendered||(!this._visible||(!this._dirty||void 0))},_render:function(e){var t=this;if(!this._pgobj)return Promise.resolve();if(!e&&this._skipRender())return Promise.resolve();this._dirty=!1;var n=a.timer.tic();return this._renderCanvas().then(function(){return Promise.all([t._renderText(),t._renderAnnots()])}).finally(function(){a.log("render page (".concat(t._index,"): ").concat(a.timer.toc(n)," ms"))})},_prescalePage:function(e){var t=this.width*this._prescale,n=this.height*this._prescale,r=this.border*this._prescale;t=e?Math.ceil(t):t,n=e?Math.ceil(n):n,r=e?Math.round(r):r,this._page.css({width:t,height:n,"border-width":r,"margin-bottom":-r}),this._drawable.add(this._eventable).css({transform:"scale(".concat(this._prescale.toFixed(5),")"),"transform-origin":"0 0"}),this._errorMsg.css({transform:"translate(-50%, -50%) scale(".concat(this._prescale.toFixed(5),")")});var i=this._prescale/this._scale;"scale(".concat(i.toFixed(5),")");this._background.add(this._text).css({width:t,height:n}),this._scale=this._prescale},_scalePage:function(){var e=this;this._dirty=!0,this._prescalePage(!0),this._renderQ.push(function(){return e._render()})},get hasText(){return this._rendered},getThumbSrc:function(e){if(!this._pgobj)return Promise.reject();var t=this._pgobj.getViewport({scale:e/this.width}),n=document.createElement("canvas"),i=s.approximateFraction(d),o=s.approximateFraction(d);return n.width=s.roundToDivide(t.width*d,i[0]),n.height=s.roundToDivide(t.height*d,o[0]),r(n).hide().css({position:"absolute",width:s.roundToDivide(t.width,i[1]),height:s.roundToDivide(t.height,i[1])}).prependTo("body"),this._pgobj.render({canvasContext:n.getContext("2d"),transform:[d,0,0,d,0,0],viewport:t}).promise.then(function(){var e=n.toDataURL();return r(n).remove(),e})},onLoaded:function(){var e=this;return new Promise(function(t){e._rendered&&t(),e.one("loaded",t)})},load:function(){var e=this;return!this._pgobj||this._rendered||this._rendering||(this._rendering=!0,this._renderQ.push(function(){return e._render(!0).then(function(){e._progress.remove(),e._rendered=!0,e._rendering=!1,e.trigger("loaded")}).catch(function(){return e._rendering=!1})})),this.onLoaded()},getTextDivs:function(){return this._textDivs},getTextContent:function(){var e=this;return this._pgobj?new Promise(function(t){e._textContent?t(e._textContent):e._pgobj.getTextContent({normalizeWhitespace:!0}).then(function(n){t(e._textContent=n)})}):Promise.resolve("")},inflateTextBounds:function(){this._textRenderTask&&this._textRenderTask.expandTextDivs(!0)},restoreTextBounds:function(){this._textRenderTask&&this._textRenderTask.expandTextDivs(!1)},updateVisible:function(){var e=this;this._updateVisible(),this._renderQ.push(function(){return e._render()})},replacePage:function(e){e.elem.replaceWith(this.elem),this._container=e.container},setPageObject:function(e){this._pgobj=e,this._rendering=!1,this._rendered=!1},setDimensions:function(e){this._dimensions=e,this._updateVisible(),this._scalePage()},setError:function(e){this._error=e,this._rendered=!0,this._rendering=!1,this._progress.remove(),this._errorMsg=r(this._errorTpl),this._textWrap.append(this._errorMsg),this._scalePage()}}),t.exports=p},{"../common/browser":461,"../common/eventer":466,"../common/number":471,"../common/rect":474,"../common/util":482,"../settings":568,"./page_proto":596,"async/queue":164,"core-js/modules/es6.array.filter":277,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.to-string":308,"core-js/modules/es6.string.iterator":313,"core-js/modules/es7.promise.finally":319,"core-js/modules/web.dom.iterable":321,jquery:400,"promise.prototype.finally":409}],599:[function(e,t,n){"use strict";e("core-js/modules/es6.array.map"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.function.bind"),e("core-js/modules/es6.array.for-each");var r=e("../modals/print_progress"),i={},o=window.print,a=null;function s(e,t,n){this.pdfDocument=e,this.printContainer=document.createElement("div"),this.printContainer.id="print-container",document.body.appendChild(this.printContainer),this.pages=t,this.annotations=n,this.pagesOverview=function(e){var t=e.map(function(e){var t=e.getViewport({scale:1});return{width:t.width,height:t.height,rotation:t.rotation}}),n=f(t[0]);return t.map(function(e){return n===f(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}})}(this.pages),this.currentPage=-1,this.scratchCanvas=document.createElement("canvas"),r.on("cancel",l),r.open()}function c(e){try{var t=document.createEvent("CustomEvent");t.initCustomEvent(e,!1,!1,"custom"),window.dispatchEvent(t)}catch(e){}}function l(){a&&(a.destroy(),c("afterprint"))}s.prototype={layout:function(){this.throwIfInactive(),this.pageStyleSheet=document.createElement("style");var e=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+e.width+"pt "+e.height+"pt;}}",document.querySelector("body").appendChild(this.pageStyleSheet)},destroy:function(){a===this&&(this.printContainer.textContent="",this.pageStyleSheet&&this.pageStyleSheet.parentNode&&(this.pageStyleSheet.parentNode.removeChild(this.pageStyleSheet),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,this.scratchCanvas=null,a=null,document.querySelector("body").classList.remove("printing"),this.printContainer.parentNode.removeChild(this.printContainer),this.printContainer=null,r.close())},renderPages:function(){var e=this.pagesOverview.length,t=function(n,i){if(this.throwIfInactive(),++this.currentPage>=e)return r.update(e,e),void n();var o=this.currentPage;r.update(o,e),function(e,t,n){var r=a.scratchCanvas;r.width=Math.floor(4*t.width),r.height=Math.floor(4*t.height);var i=Math.floor(t.width*(96/72))+"px",o=Math.floor(t.height*(96/72))+"px",s=e.getViewport({scale:1,rotation:t.rotation}),c=r.getContext("2d");return c.save(),c.fillStyle="rgb(255, 255, 255)",c.fillRect(0,0,r.width,r.height),c.restore(),e.render({canvasContext:c,transform:[4,0,0,4,0,0],viewport:s,intent:"print"}).promise.then(function(){return n.forEach(function(e){return e.print(c,s,4)}),{width:i,height:o}})}(this.pages[o],this.pagesOverview[o],this.annotations[o]).then(this.useRenderedPage.bind(this)).then(function(){t(n,i)},i).catch(function(){})}.bind(this);return new Promise(t)},useRenderedPage:function(e){this.throwIfInactive();var t=document.createElement("img");t.style.width=e.width,t.style.height=e.height;var n=this.scratchCanvas;"toBlob"in n&&!pdfjsLib.disableCreateObjectURL?n.toBlob(function(e){t.src=URL.createObjectURL(e)}):t.src=n.toDataURL();var r=document.createElement("div");return r.appendChild(t),this.printContainer.appendChild(r),new Promise(function(e,n){t.onload=e,t.onerror=n})},performPrint:function(){return this.throwIfInactive(),new Promise(function(e){setTimeout(function(){this.active?(o.call(window),setTimeout(e,20)):e()}.bind(this),0)}.bind(this))},get active(){return this===a},throwIfInactive:function(){if(!this.active)throw new Error("This print request was cancelled or completed.")}};var u=!!document.attachEvent;if(window.addEventListener("keydown",function(e){if(80===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){if(window.print(),u)return;return e.preventDefault(),void(e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation())}},!0),u&&document.attachEvent("onkeydown",function(e){if(80===(e=e||window.event).keyCode&&e.ctrlKey)return e.keyCode=0,!1}),"onbeforeprint"in window){var d=function(e){"custom"!==e.detail&&e.stopImmediatePropagation&&e.stopImmediatePropagation()};window.addEventListener("beforeprint",d),window.addEventListener("afterprint",d)}function f(e){return e.width<=e.height}i.print=function(){if(a){c("beforeprint"),document.querySelector("body").classList.add("printing");var e=a;a.renderPages().then(function(){return e.performPrint()}).then(function(){e.active&&l()}).catch(function(){})}else console.error("Expected print service to be initialized.")},i.create=function(e,t,n){if(a)throw new Error("The print service is created and active.");return a=new s(e,t,n)},i.destroy=function(){a&&a.destroy()},t.exports=i},{"../modals/print_progress":557,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.array.map":285,"core-js/modules/es6.function.bind":291,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300}],600:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.regexp.constructor"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.regexp.replace");var r=e("jquery"),i=e("underscore"),o=e("../article"),a=e("../common/util"),s=e("../viewer/viewer"),c=e("../notifications/toast"),l={},u=null;function d(){try{window.speechSynthesis.cancel()}catch(e){console.warn(e)}}function f(e,t){if(!u||!t)return e;var n=e.replace(/\s+/g,"").split("").join(" ");n="("+(n=a.regexEscape(n)).replace(/\s+/g,"\\s*")+")";var r=new RegExp(n,"ig");return((u[t-1]||"").match(r)||[])[0]||e}s.onInit(function(){o.fulltext().then(function(e){return u=e}),r(window).on("beforeunload",d)}),l.start=function(e,t){try{c.hide("tts"),e=(e=f(e,t)).replace(/-\n/,"");var n=new SpeechSynthesisUtterance(e);n.rate=.8,n.onend=function(){return c.hide("tts")},n.onstart=function(){c.show("tts",{text:e,onClosing:i.once(d)})},window.speechSynthesis.speak(n)}catch(e){console.warn(e)}},l.matchText=f,t.exports=l},{"../article":455,"../common/util":482,"../notifications/toast":564,"../viewer/viewer":602,"core-js/modules/es6.regexp.constructor":301,"core-js/modules/es6.regexp.match":304,"core-js/modules/es6.regexp.replace":305,"core-js/modules/es6.regexp.split":307,jquery:400,underscore:432}],601:[function(e,t,n){"use strict";t.exports=function(e,t){return t?"https://images.readcube-cdn.com/prerendered/".concat(t,"/").concat(e+1,".jpg"):void 0}},{}],602:[function(e,t,n){"use strict";var r=e("../common/util");t.exports=r.isMobile?e("./mobile_viewer"):e("./desktop_viewer")},{"../common/util":482,"./desktop_viewer":589,"./mobile_viewer":595}],603:[function(e,t,n){"use strict";var r=e("../viewer/viewer");t.exports=function(){var e=r.minScale,t=1.5,n=r.maxScale,i=(e*n-Math.pow(t,2))/(e-3+n),o=Math.pow(t-e,2)/(e-3+n),a=2*Math.log((n-t)/(t-e));return{toScale:function(e){return i+o*Math.exp(a*e)},toLinear:function(e){return Math.log((e-i)/o)/a}}}},{"../viewer/viewer":602}],604:[function(e,t,n){"use strict";var r=e("../router");t.exports=r.isPersonal?e("./access/access_personal"):e("./access/access_public")},{"../router":567,"./access/access_personal":605,"./access/access_public":606}],605:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("underscore"),i=e("../../common/eventer")({}),o={fullview:r.once(function(){return i.trigger("fullview").trigger("finished")})};i.init=function(){o.fullview()},i.checked=function(){return Promise.resolve()},i.publisherChecked=function(){return Promise.reject()},Object.defineProperty(i,"hasSharingToken",{get:function(){return!1}}),t.exports=i},{"../../common/eventer":466,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,underscore:432}],606:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("regenerator-runtime/runtime"),e("core-js/modules/es6.object.define-property"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.date.now"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("promise.prototype.finally").shim();var i=e("underscore"),o=e("async/queue"),a=(e("parse-uri"),e("../../common/util")),s=e("../../common/eventer"),c=e("../../common/alarm_clock"),l=e("../../tracking/tracker"),u=e("../../article"),d=e("../../user"),f=e("../../router"),p=(e("../../endpoint"),e("../../reader_api")),h=e("../../tracking/track_error"),m=e("../receiver"),g=e("../referrer_host"),v=e("./access_token"),y=s({}),b=o(function(e,t){return e().then(t)}),w={checking:i.once(function(){return y.trigger("checking")}),publisher:i.once(function(){return y.trigger("publisher-checked")}),preview:i.once(function(){return y.trigger("preview").trigger("finished")}),cloudview:i.once(function(){return y.trigger("cloudview").trigger("finished")}),fullview:i.once(function(){return y.trigger("fullview").trigger("finished")})},_={hrs:36e5,min:6e4,sec:1e3},x=!1,k=!1,j=null,C={};function E(){switch(u.data.publisher){case"wiley":return e("./publisher/wiley");case"cochrane":return e("./publisher/cochrane");case"springer":return e("./publisher/springer");case"nature":return e("./publisher/nature");case"asha":return e("./publisher/asha");case"ats":return e("./publisher/ats");default:return{check:function(){return Promise.reject({})}}}}function S(){return!i.isEmpty(C)}function T(){if(u.data.expires_at){var e=1e3*u.data.expires_at;e-Date.now()>=0&&(c.add(a.reload,e),y.trigger("rental-expiry",[e]))}}function O(){var e;c.remove(j),j=c.add(function(){y.trigger("resource-expiry")},(e=new Date,Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())+47*_.hrs+i.random(_.hrs-1)))}function A(e){return u.hasFullAccess?(w.fullview(),u.fulldata()):!u.hasAccess||u.isShared||e?(w.checking(),p.fulldata(f.params,function(e){return e=Object.assign({},u.data.options,e),g()&&(e.referrer=g()),a.isMobile&&(e.mobile=1),e}(e)).then(function(e){u.fulldata(e),u.hasFullAccess?w.fullview():u.hasAccess?w.cloudview():e.purchasable&&S()&&w.preview()}).catch(function(e){y.trigger("access-api-error"),y.trigger("finished"),h(e)}).finally(function(){S()&&(k=!0,w.publisher())})):(w.cloudview(),u.fulldata())}function P(){var e;return e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O(),!u.isSupplement){e.next=5;break}return x=!0,w.fullview(),e.abrupt("return");case 5:return y.one("finished",function(){return x=!0}),y.one("cloudview",T),e.next=9,A();case 9:d.on("auth",function(){return b.push(A)}),m.readcube.on("checkout:success",function(e,t){b.push(A),l.purchase(t)}),E().check().then(function(e){C=e,b.push(function(){return A(e)})}).catch(function(e){"api_error"==e.error?u.hasFullAccess||(y.trigger("access-api-error"),y.trigger("finished")):u.hasAccess||w.preview(),k=!0,w.publisher()});case 12:case"end":return e.stop()}},e)}),(P=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}y.init=function(){return P.apply(this,arguments)},y.share=function(){return p.share_link({doi:f.params.doi,access_token:u.data.access_token}).then(function(e){return y.trigger("sharelink",[e]),l.shareToken(e.token),e}).catch(h)},y.checked=function(){return new Promise(function(e){x?e():y.one("finished",e)})},y.publisherChecked=function(){return new Promise(function(e){k?e():y.one("publisher-checked",e)})},Object.defineProperty(y,"hasSharingToken",{get:function(){return!i.isEmpty(i.pick(f.params,v.SHARING_TOKENS))}}),t.exports=y},{"../../article":455,"../../common/alarm_clock":460,"../../common/eventer":466,"../../common/util":482,"../../endpoint":523,"../../reader_api":565,"../../router":567,"../../tracking/track_error":583,"../../tracking/tracker":585,"../../user":586,"../receiver":642,"../referrer_host":643,"./access_token":607,"./publisher/asha":610,"./publisher/ats":611,"./publisher/cochrane":612,"./publisher/nature":613,"./publisher/springer":614,"./publisher/wiley":615,"async/queue":164,"core-js/modules/es6.date.now":288,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,"parse-uri":404,"promise.prototype.finally":409,"regenerator-runtime/runtime":420,underscore:432}],607:[function(e,t,n){"use strict";var r=e("parse-uri"),i=["shared_access_token","referrer_access_token","author_access_token"],o=[].concat(i,["feed_token"]);t.exports={get:function(){for(var e=r(location),t=0;t<o.length;t++){var n=o[t],i=e.queryKey[n];if(i)return{key:n,val:decodeURIComponent(i)}}return null},SHARING_TOKENS:i,ACCESS_TOKENS:o}},{"parse-uri":404}],608:[function(e,t,n){"use strict";t.exports={nature:"https://www.nature.com/platform/readcube-access",asha:"http://pubs.asha.org/services/ResourceAccessCheck.svc/CheckAccess"}},{}],609:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.regexp.replace");var r=e("jquery"),i=e("query-string"),o=e("parse-uri"),a=(e("../../../environment"),e("../../../common/util")),s=e("../../../article"),c=e("../../../router"),l=e("../../receiver"),u=e("../../proxy_host"),d=12e3,f={msg:{},xhr:{}};function p(e){return function(){return e({error:"api_error"})}}function h(e,t){return function(n){a.log("access_api_response:",n),n&&n.result?e({publisher:s.data.publisher,publisher_access_response:n}):t({result:!1})}}f.adjustDomain=function(e){return u(s.data.publisher)?e.replace(o(e).host,u(s.data.publisher)):e},f.msg.checkApi=function(){return window.parent.postMessage({type:"jsonp_access_check"},c.parent),new Promise(function(e,t){var n=setTimeout(p(t),d);l.all.one("jsonp_access_result",function(r,i){clearTimeout(n),h(e,t)(i.result)}),l.all.one("cors_access_check_fail",function(e,r){clearTimeout(n),a.log("cors_access_check_fail",r),t({result:!1})})})},f.msg.checkSize=function(){return window.parent.postMessage({type:"get_pdf_size"},c.parent),new Promise(function(e,t){var n=setTimeout(p(t),d);l.all.one("pdf_size",function(t,r){clearTimeout(n),e({publisher:s.data.publisher,size:parseInt(r.size)||1337})}),l.all.one("pdf_size_fail",function(e,r){clearTimeout(n),t({result:!1})})})},f.xhr.checkApiCors=function(e,t){return new Promise(function(n,o){r.ajax({method:"GET",url:"".concat(e,"?").concat(i.stringify(t)),crossdomain:!0,xhrFields:{withCredentials:!0},success:h(n,o),error:p(o)})})},f.xhr.checkApiJsonp=function(e,t){return new Promise(function(n,o){var a=setTimeout(p(o),d);r.ajax({url:"".concat(e,"?").concat(i.stringify(t)),dataType:"jsonp",success:function(e){clearTimeout(a),h(n,o)(e)}})})},t.exports=f},{"../../../article":455,"../../../common/util":482,"../../../environment":524,"../../../router":567,"../../proxy_host":637,"../../receiver":642,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.replace":305,jquery:400,"parse-uri":404,"query-string":413}],610:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("../../../router"),i=e("../../../article"),o=e("./access_api"),a=e("./access_helper"),s={};s.check=function(){return r.params.no_publisher_access?Promise.reject({result:!1}):r.parent&&!r.params.standalone_access?a.msg.checkApi():a.xhr.checkApiJsonp(a.adjustDomain(o.asha),{resource:i.doi})},t.exports=s},{"../../../article":455,"../../../router":567,"./access_api":608,"./access_helper":609,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300}],611:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("../../../router"),i=e("./access_helper"),o={};o.check=function(){return!r.parent||r.params.standalone_access||r.params.no_publisher_access?Promise.reject({error:"api_error"}):i.msg.checkSize()},t.exports=o},{"../../../router":567,"./access_helper":609,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300}],612:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("../../../router"),i=(e("../../../article"),e("./access_helper")),o={};o.check=function(){return!r.parent||r.params.standalone_access||r.params.no_publisher_access?Promise.reject({result:!1}):i.msg.checkApi()},t.exports=o},{"../../../article":455,"../../../router":567,"./access_helper":609,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300}],613:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("../../../router"),i=e("../../../article"),o=e("./access_api"),a=e("./access_helper"),s={};s.check=function(){return r.params.no_publisher_access?Promise.reject({result:!1}):r.parent&&!r.params.standalone_access?a.msg.checkApi():a.xhr.checkApiCors(a.adjustDomain(o.nature),{resource:i.doi})},t.exports=s},{"../../../article":455,"../../../router":567,"./access_api":608,"./access_helper":609,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300}],614:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("../../../router"),i=(e("../../../article"),e("./access_helper")),o={};o.check=function(){return!r.parent||r.params.standalone_access||r.params.no_publisher_access?Promise.reject({result:!1}):i.msg.checkApi()},t.exports=o},{"../../../article":455,"../../../router":567,"./access_helper":609,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300}],615:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("../../../router"),i=(e("../../../article"),e("./access_helper")),o={};o.check=function(){return!r.parent||r.params.standalone_access||r.params.no_publisher_access?Promise.reject({result:!1}):i.msg.checkApi()},t.exports=o},{"../../../article":455,"../../../router":567,"./access_helper":609,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300}],616:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.function.name");var r=e("jquery"),i=e("./client"),o=e("../endpoint"),a=e("../tracking/mixpanel")(),s=e("../tracking/google_analytics")(),c={},l={type:"POST",contentType:"application/json; charset=UTF-8",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},headers:{"X-Readcube-Client":i.name,"X-Readcube-Client-Version":i.version}};c.ga=s,c.mixpanel=a,c.metrics={create:function(e){return new Promise(function(t){r.ajax(Object.assign({},l,{url:"".concat(o.analytics,"/metrics/create_session_ex.json"),data:JSON.stringify({data:e}),success:t}))})},update:function(e){return new Promise(function(t){r.ajax(Object.assign({},l,{url:"".concat(o.analytics,"/metrics/update_session_ex.json"),data:JSON.stringify({data:e}),success:t}))})}},t.exports=c},{"../endpoint":523,"../tracking/google_analytics":579,"../tracking/mixpanel":580,"./client":617,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400}],617:[function(e,t,n){"use strict";var r=e("../common/util"),i=e("../common/getkey"),o=e("../version"),a=i("reader_version.timestamp")||"n/a",s=r.guid();t.exports={get id(){return s},get build(){return a},get version(){return o},get name(){return"web_reader"}}},{"../common/getkey":469,"../common/util":482,"../version":587}],618:[function(e,t,n){"use strict";var r=e("jquery"),i=e("../article");t.exports={init:function(e){r(e).addClass("discover publisher-".concat(i.data.publisher)).append('\n        <div class="bottom wrfont">\n          <a class="publisher-site-link" href="https://doi.org/'.concat(i.doi,'">\n            View the entire article on\n            <div class="logo"></div>\n            <div class="arrow"></div>\n          </a>\n        </div>\n      '))}}},{"../article":455,jquery:400}],619:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var i=e("../viewer"),o=e("../../article"),a=e("../../common/getkey"),s=e("../../tracking/track_error"),c=e("../web_helper");function l(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){s(e),c.gotoLinkResolver(e.error)},!(t=a("reader_data")).error){e.next=5;break}return n(t),e.abrupt("return");case 5:return o.basedata(t),c.setPublisherClass(o.data.publisher),e.t0=i,e.next=10,c.container();case 10:e.t1=e.sent,e.t2={container:e.t1},e.t0.discover.call(e.t0,e.t2),i.renderHtml(o.data);case 14:case"end":return e.stop()}},e)}),(l=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}t.exports=function(){return l.apply(this,arguments)}},{"../../article":455,"../../common/getkey":469,"../../tracking/track_error":583,"../viewer":651,"../web_helper":653,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"regenerator-runtime/runtime":420}],620:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}}e("core-js/modules/es6.object.assign"),e("regenerator-runtime/runtime"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("promise.prototype.finally").shim();var o=e("underscore"),a=e("@readcube/anywhere-access-check"),s=e("../viewer"),c=e("../../environment"),l=e("../../router"),u=e("../../article"),d=e("../../evtbus"),f=e("../../common/util"),p=e("../../common/getkey"),h=e("../../tracking/track_error"),m=e("../../aa_helper"),g=e("../pages/checking_access"),v=e("../services/article_print"),y=e("../web_helper"),b=e("../web_events"),w=e("../access"),_=e("../sync_api");function x(){return(x=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e("../../components/user_details"),e("../../components/article_page"),k().then(i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.basedata(Object.assign(p("reader_data"),{non_hosted:!0})),e.t0=s,e.next=4,y.container();case 4:e.t1=e.sent,e.t2=_,e.t3={container:e.t1,sync_api:e.t2},e.t0.public.call(e.t0,e.t3),s.setPdf(u.data).catch(function(e){h(e),y.gotoLinkResolver(e)}),w.init(),u.metadata({meta:o.pick(p("reader_data.institution_access"),"doi","eissn","issn","issue","volume","year")}),d.on("print-pdf",function(){return v.print()}),d.on("download-pdf",function(){return location.href=u.download_url}),b.bindUtility(),b.bindExport(),b.bindSync(),f.notifyParent("initialized");case 17:case"end":return e.stop()}},e)}))).catch(function(){y.gotoLinkResolver("anywhere_access_failed")});case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}function k(){if(!y.hasAnywhereAccess)return Promise.reject();if(y.skipVerifyAA)return Promise.resolve();var e=f.timer.tic(),t=new a({env:c.get(),doi:l.doi,user_id:p("readcube_user.id"),organization_id:p("readcube_user.organization_id")});return y.container().then(function(e){return g.show(e)}),t.available().then(function(){return g.hide()}).finally(function(){return m.log(t.result,f.timer.toc(e))})}t.exports=function(){return x.apply(this,arguments)}},{"../../aa_helper":434,"../../article":455,"../../common/getkey":469,"../../common/util":482,"../../components/article_page":486,"../../components/user_details":507,"../../environment":524,"../../evtbus":525,"../../router":567,"../../tracking/track_error":583,"../access":604,"../pages/checking_access":634,"../services/article_print":645,"../sync_api":647,"../viewer":651,"../web_events":652,"../web_helper":653,"@readcube/anywhere-access-check":81,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,"promise.prototype.finally":409,"regenerator-runtime/runtime":420,underscore:432}],621:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("core-js/modules/es6.array.find-index"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es7.promise.finally"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var i=e("../viewer"),o=e("../../router"),a=e("../../article"),s=e("../../common/util"),c=e("../../common/getkey"),l=e("../../tracking/track_error"),u=e("../reader_api/reader_api"),d=e("../web_helper"),f=e("../web_events"),p=e("../access"),h=e("../sync_api");function m(){var t;return t=regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(e){switch(l(e),e.error){case"resource_not_found":case"no_access":return d.show404();case"processing":return d.showProcessing();default:return d.show500()}},e("../metadata"),e("../../components/user_details"),e("../../components/metrics"),e("../../components/related"),e("../../notifications/export_unavailable"),!(n=c("reader_data")).error){t.next=10;break}return r(n),t.abrupt("return");case 10:return t.t0=i,t.next=13,d.container();case 13:t.t1=t.sent,t.t2=h,t.t3={container:t.t1,sync_api:t.t2},t.t0.init.call(t.t0,t.t3),i.renderData(n),u.basedata(o.params).then(function(e){a.basedata(Object.assign(n,e)),p.init(),i.renderData(a.data),f.bindBase(),f.bindSync(),a.doi&&u.metadata(a.doi).then(function(t){(e.supplements||[]).forEach(function(e){e.personal=!0,t.supplements=t.supplements||[];var n=t.supplements.findIndex(function(t){return t.hash==e.hash});n>=0?t.supplements[n]=e:t.supplements.push(e)}),a.metadata(Object.assign(e,t)),f.bindMeta()}).catch(l)}).catch(r).finally(function(){return s.notifyParent("initialized")});case 19:case"end":return t.stop()}},t)}),(m=function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}t.exports=function(){return m.apply(this,arguments)}},{"../../article":455,"../../common/getkey":469,"../../common/util":482,"../../components/metrics":494,"../../components/related":502,"../../components/user_details":507,"../../notifications/export_unavailable":561,"../../router":567,"../../tracking/track_error":583,"../access":604,"../metadata":630,"../reader_api/reader_api":638,"../sync_api":647,"../viewer":651,"../web_events":652,"../web_helper":653,"core-js/modules/es6.array.find-index":278,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,"regenerator-runtime/runtime":420}],622:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}}e("core-js/modules/es6.object.assign"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.regexp.split"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var o=e("../viewer"),a=e("../../evtbus"),s=e("../../router"),c=e("../../article"),l=e("../../common/util"),u=e("../../common/getkey"),d=e("../../tracking/track_error"),f=e("../reader_api/reader_api"),p=e("../web_helper"),h=e("../access");function m(){return(m=i(regeneratorRuntime.mark(function e(){var t,n,r,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(e){switch(d(e),e.error){case"resource_not_found":case"no_access":return p.show404();case"processing":return p.showProcessing();default:return p.show500()}},r=function(e){l.notifyParent("title-found",{data:{title:e}})},t=s.params.types?s.params.types.split(","):null,!(n=u("reader_data")).error){e.next=7;break}return m(n),e.abrupt("return");case 7:f.basedata(s.params).then(function(){var e=i(regeneratorRuntime.mark(function e(i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.basedata(Object.assign(n,i)),e.t0=o,e.next=4,p.container();case 4:e.t1=e.sent,e.t2=t,e.t3={container:e.t1,types:e.t2},e.t0.resolve.call(e.t0,e.t3),o.renderData(c.data),h.init(),a.on("marked-text",function(e,t,n){l.notifyParent("marked",{data:{type:t,text:n}})}),o.onInit(function(){o.findTitle().then(function(e){return r(e)}).catch(function(){return r(null)})});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(m).finally(function(){return l.notifyParent("initialized")});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.exports=function(){return m.apply(this,arguments)}},{"../../article":455,"../../common/getkey":469,"../../common/util":482,"../../evtbus":525,"../../router":567,"../../tracking/track_error":583,"../access":604,"../reader_api/reader_api":638,"../viewer":651,"../web_helper":653,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.split":307,"core-js/modules/es7.promise.finally":319,"regenerator-runtime/runtime":420}],623:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}}e("core-js/modules/es6.object.assign"),e("core-js/modules/es7.promise.finally"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("promise.prototype.finally").shim();e("jquery"),e("underscore");var o=e("@readcube/anywhere-access-check"),a=e("../viewer"),s=e("../../environment"),c=e("../../router"),l=e("../../article"),u=e("../../common/util"),d=e("../../common/getkey"),f=e("../../tracking/track_error"),p=e("../../aa_helper"),h=e("../pages/checking_access"),m=e("../reader_api/reader_api"),g=e("../web_helper"),v=e("../web_events"),y=e("../access"),b=e("../sync_api");function w(){return(w=i(regeneratorRuntime.mark(function t(){var n,r,w,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(_=function(e){if(f(e),"processing"!=e.error)if(c.parent)u.notifyParent("html_unavailable");else switch(e.error){case"doi_invalid":return g.show404();case"unsupported_mobile_content":return g.gotoUnsupported(e.error);case"content_missing":case"content_not_allowed":return g.gotoLinkResolver(e.error);default:return g.show500()}else g.showProcessing()},w=function(){if(!g.hasAnywhereAccess)return Promise.resolve();if(g.hasAccessApi)return Promise.resolve();if(g.skipVerifyAA)return Promise.resolve();var e={env:s.get(),doi:c.doi,user_id:d("readcube_user.id"),organization_id:d("readcube_user.organization_id")};if(p.fetch(e))return p.logCached(e),Promise.resolve();var t=u.timer.tic(),n=new o(e);return g.container().then(function(e){return h.show(e)}),n.available().then(function(){p.cache(e,!0),h.hide()}).finally(function(){p.log(n.result,u.timer.toc(t))})},!g.isNonHosted){t.next=4;break}return t.abrupt("return",e("./non_hosted_article")());case 4:if(u.isMobile&&(e("../../mobile/share"),e("../../mobile/library")),e("../metadata"),e("../tracking/epdf"),e("../../components/user_details"),e("../../components/article_page"),e("../../components/checkout"),e("../../components/metrics"),e("../../components/related"),e("../../viewer/journal_banner"),e("../../notifications/export_unavailable"),n=w(),!(r=d("reader_data")).error){t.next=19;break}return _(r),t.abrupt("return");case 19:return t.t0=a,t.next=22,g.container();case 22:t.t1=t.sent,t.t2=b,t.t3={container:t.t1,sync_api:t.t2},t.t0.public.call(t.t0,t.t3),a.renderData(r),m.basedata(c.params).then(function(){var e=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.hash!=r.hash,l.basedata(Object.assign(r,t)),g.setPublisherClass(t.publisher),a.renderData(l.data,n),l.hasAccess||(y.one("cloudview",function(){return a.renderData(l.data,n)}),y.one("fullview",function(){return a.renderData(l.data,n)})),y.init(),v.bindBase(),v.bindSync(),l.metadata(t),v.bindMeta();case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(_).finally(function(){n.then(function(){return u.notifyParent("initialized")}).catch(function(){return g.gotoLinkResolver("anywhere_access_failed")})});case 28:case"end":return t.stop()}},t)}))).apply(this,arguments)}t.exports=function(){return w.apply(this,arguments)}},{"../../aa_helper":434,"../../article":455,"../../common/getkey":469,"../../common/util":482,"../../components/article_page":486,"../../components/checkout":488,"../../components/metrics":494,"../../components/related":502,"../../components/user_details":507,"../../environment":524,"../../mobile/library":545,"../../mobile/share":548,"../../notifications/export_unavailable":561,"../../router":567,"../../tracking/track_error":583,"../../viewer/journal_banner":592,"../access":604,"../metadata":630,"../pages/checking_access":634,"../reader_api/reader_api":638,"../sync_api":647,"../tracking/epdf":649,"../viewer":651,"../web_events":652,"../web_helper":653,"./non_hosted_article":620,"@readcube/anywhere-access-check":81,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,jquery:400,"promise.prototype.finally":409,"regenerator-runtime/runtime":420,underscore:432}],624:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}}e("core-js/modules/es7.promise.finally"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");e("jquery"),e("underscore");var o=e("../viewer"),a=e("../../router"),s=e("../../article"),c=e("../../common/util"),l=e("../../tracking/track_error"),u=e("../reader_api/reader_api"),d=e("../web_helper"),f=e("../web_events"),p=e("../access"),h=e("../sync_api");function m(){return(m=i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=function(e){switch(l(e),e.error){case"content_missing":case"resource_not_found":case"no_access":return d.show404();default:return d.show500()}},e("../../components/user_details"),u.supplement(a.params).then(function(){var e=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.basedata(t),t.viewer_pdf){e.next=4;break}return t.download_url?d.showPreviewUnavailable(t.download_url):d.show404(),e.abrupt("return");case 4:return a.isPublic&&d.setPublisherClass(t.publisher),e.t0=o,e.next=8,d.container();case 8:e.t1=e.sent,e.t2=h,e.t3={container:e.t1,sync_api:e.t2},e.t0.supplement.call(e.t0,e.t3),o.renderPdf(s.data),p.init(),f.bindBase(),f.bindSync();case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(n).finally(function(){return c.notifyParent("initialized")});case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}t.exports=function(){return m.apply(this,arguments)}},{"../../article":455,"../../common/util":482,"../../components/user_details":507,"../../router":567,"../../tracking/track_error":583,"../access":604,"../reader_api/reader_api":638,"../sync_api":647,"../viewer":651,"../web_events":652,"../web_helper":653,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,jquery:400,"regenerator-runtime/runtime":420,underscore:432}],625:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.array.map");var r=e("underscore"),i=e("../../common/export_helper");function o(e){if(e)return e.replace("-","--")}t.exports=function(e,t){var n=i.LINE_END,a=["@article{".concat(i.getKey(e))];return r.each(function(e,t){var n,a={author:(n=e.authors,r.map(n||[],i.authorName).join(" and ")),year:e.year,title:e.title,journal:e.journal,publisher:i.publisherName(e.publisher),issn:e.issn,doi:e.doi,volume:e.volume,month:e.month,pages:o(e.pagination),number:e.issue};return i.articleUrl(e)&&(a.url=i.articleUrl(e)),t&&(a.abstract=e.abstract),a}(e,t),function(e,t){(e||0===e)&&a.push("  ".concat(t," = {").concat(e,"}"))}),a.join(","+n)+n+"}"+n}},{"../../common/export_helper":467,"core-js/modules/es6.array.map":285,"core-js/modules/es6.regexp.replace":305,underscore:432}],626:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.split");var r=e("underscore"),i=e("../../common/export_helper");function o(e,t){if(t||0===t)return"".concat(e,"  - ").concat(t)}function a(e,t){if(e)return e.split("-")[t]}t.exports=function(e,t){var n=[o("TY","JOUR")];return n.push(o("T1",e.title)),r.each(e.authors,function(e){n.push(o("AU",i.authorName(e)))}),n.push(o("DO",e.doi)),n.push(o("JO",e.journal)),n.push(o("VL",e.volume)),n.push(o("IS",e.issue)),n.push(o("SP",a(e.pagination,0))),n.push(o("EP",a(e.pagination,1))),n.push(o("SN",e.issn)),i.articleUrl(e)&&n.push(o("UR",i.articleUrl(e))),n.push(o("Y1",e.year)),n.push(o("PB",i.publisherName(e.publisher))),t&&n.push(o("AB",e.abstract)),n.push("ER  - "+i.LINE_END),r.compact(n).join(i.LINE_END)}},{"../../common/export_helper":467,"core-js/modules/es6.regexp.split":307,underscore:432}],627:[function(e,t,n){"use strict";var r=e("faye"),i=e("./client"),o=e("../user"),a=e("../endpoint"),s=e("../environment"),c=e("../common/util"),l=new r.Client(a.push);t.exports={subscribe:function(e,t){return c.log("subscribe to faye:",e),l.subscribe(e,function(e){e.sync_client_id!=i.id&&t&&t(e)})},collectionChannel:function(){return"/".concat(s.get(),"/collections/").concat(article.data.sync_collection_id||o.id,"/changes")}}},{"../common/util":482,"../endpoint":523,"../environment":524,"../user":586,"./client":617,faye:351}],628:[function(e,t,n){"use strict";e("regenerator-runtime/runtime");var r=e("trackjs").TrackJS,i=e("../includes/trackjs_config");r.install(i),t.exports=e("./main.js")},{"../includes/trackjs_config":540,"./main.js":629,"regenerator-runtime/runtime":420,trackjs:431}],629:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("jquery"),i=e("../compatible"),o=e("../evtbus"),a=e("../status"),s=e("../environment"),c=e("../user"),l=e("../router"),u=e("../settings"),d=e("../common/util"),f=e("../common/browser"),p=e("../notifications/toast"),h=e("./viewer"),m=e("./web_helper"),g=e("./update"),v=e("./client"),y=e("./receiver"),b=e("./faye_client"),w=e("./reader_api/reader_api"),_=e("./access/access_token");function x(e){var t=document.createElement("script");t.src="https://remotejs.com/agent/agent.js",t.setAttribute("data-consolejs-channel",e),document.head.appendChild(t)}new Promise(function(e){l.parent&&!l.params.reloaded?(y.all.on("new_session",e),d.notifyParent("loaded")):e()}).then(function(){if(function(){if("mobile_browser"==i().message&&_.get())return w.proxy_mobile(l.doi).then(function(e){return m.redirect(e.url)}).catch(function(){return m.gotoLinkResolver("incompatible_mobile_browser")}),!0;return!1}())return;if(!i().result&&(m.gotoUnsupported("incompatible_browser"),1))return;switch(r("html").addClass("".concat(f.IE?"ie":"modern","-browser")).addClass("".concat(f.OS.toLowerCase(),"-os")).addClass(l.params.lightbox?"transparent":"opaque").toggleClass("mobile",d.isMobile),t=l.params.theme,t?h.theme=t:u.theme?h.theme=u.theme:window.matchMedia("(prefers-color-scheme: dark)").matches&&(h.theme="dark"),m.setFontFace(l.params.font),y.readcube.on("auth:success checkout:auth",function(e,t){c.set(t.user,t.auth)}),b.subscribe("/".concat(s.get(),"/web_reader"),function(e){if(e&&e.command){var t=e.command.split(":");o.trigger("faye-command:".concat(t[0]),[t.pop()])}}),o.on("faye-command:reload",d.reload),o.on("faye-command:force_update",function(){return g.available().then(d.reload)}),o.on("faye-command:update",function(){g.available().then(function(){return p.show("update-available")})}),o.on("faye-command:reload_client",function(e,t){v.id===t&&d.reload()}),o.on("faye-command:debug_client",function(e,t){v.id===t&&x(v.id)}),o.on("faye-command:reload_user",function(e,t){c.id===t&&d.reload()}),o.on("faye-command:debug_user",function(e,t){c.id===t&&x(c.id)}),r("html").attr("route",l.current),l.current){case"public_supplement":case"personal_supplement":e("./entries/supplement")();break;case"personal_article":e("./entries/personal_article")();break;case"personal_resolve":e("./entries/personal_resolve")();break;case"public_article":e("./entries/public_article")();break;case"discover_article":e("./entries/discover_article")();break;default:m.show404()}var t}),window.addEventListener("load",function(){window.addEventListener("offline",function(){return a.onLine=navigator.onLine}),window.addEventListener("online",function(){return a.onLine=navigator.onLine})})},{"../common/browser":461,"../common/util":482,"../compatible":483,"../environment":524,"../evtbus":525,"../notifications/toast":564,"../router":567,"../settings":568,"../status":569,"../user":586,"./access/access_token":607,"./client":617,"./entries/discover_article":619,"./entries/personal_article":621,"./entries/personal_resolve":622,"./entries/public_article":623,"./entries/supplement":624,"./faye_client":627,"./reader_api/reader_api":638,"./receiver":642,"./update":650,"./viewer":651,"./web_helper":653,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.split":307,jquery:400}],630:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find"),e("core-js/modules/es6.function.name"),e("core-js/modules/es6.array.for-each"),e("core-js/modules/es6.regexp.split");var r=e("jquery"),i=e("../article"),o=(e("../endpoint"),e("../sync/sync_item")),a=e("../viewer/thumbnail");i.metadata().then(function(e){if(!i.isSupplement&&i.data.meta){var t={render_doi:i.doi&&!r('meta[name="citation_doi"]').length,canonical:i.doi&&"https://www.readcube.com/articles/".concat(i.doi),image:a(0,i.data.hash)};(function(e,t){var n=[];function r(e,t){e&&n.push(t)}return r(e.title,"<title>".concat(e.title,"</title>")),r(t.canonical,'<link rel="canonical" href="'.concat(t.canonical,'">')),r(e.abstract,'<meta name="description" content="'.concat(e.abstract,'">')),r(e.journal&&e.doi,'<meta name="keywords" content="'.concat(function(e){return(e.journal||"").toLowerCase().split(" ").concat(e.doi).join(", ")}(e),'">')),r(!0,'<link rel="schema.DC" href="http://purl.org/dc/elements/1.1">'),r(e.title,'<meta name="DC.title" content="'.concat(e.title,'">')),r(e.doi,'<meta name="DC.identifier" content="doi:'.concat(e.doi,'">')),(e.authors||[]).forEach(function(e){r(!0,'<meta name="DC.creator" content="'.concat(e.name,'">'))}),r(t.render_doi,'<meta name="citation_doi" content="'.concat(e.doi,'">')),r(e.title,'<meta name="citation_title" content="'.concat(e.title,'">')),r(e.journal,'<meta name="citation_journal_title" content="'.concat(e.journal,'">')),r(e.volume,'<meta name="citation_volume" content="'.concat(e.volume,'">')),r(e.year,'<meta name="citation_date" content="'.concat(e.year,'">')),(e.authors||[]).forEach(function(e){r(!0,'<meta name="citation_author" content="'.concat(e.name,'">'))}),r(!0,'<meta property="og:type" content="article">'),r(t.canonical,'<meta property="og:url" content="'.concat(t.canonical,'">')),r(e.title,'<meta property="og:title" content="'.concat(e.title,'">')),r(e.abstract,'<meta property="og:description" content="'.concat(e.abstract,'">')),r(t.image,'<meta property="og:image" content="'.concat(t.image,'">')),n})(i.data.meta,t).forEach(function(e){return r("head").append(e)}),o.onAdd(function(){var e=o.item.article.title;e&&!r("head").find("title").length&&r("head").append("<title>".concat(e,"</title>"))})}}),i.basedata().then(function(e){if(e.type){var t=e.caption?["Supp:",e.caption].join(" "):["Supplement",parseInt(e.index)+1].join(" ");r("head").append("<title>".concat(t,"</title>"))}})},{"../article":455,"../endpoint":523,"../sync/sync_item":573,"../viewer/thumbnail":601,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.for-each":280,"core-js/modules/es6.function.name":292,"core-js/modules/es6.regexp.split":307,jquery:400}],631:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("core-js/modules/es6.array.find"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");e("jquery");var i=e("../../router"),o=e("../../endpoint"),a=e("../../common/template"),s=e("./pages_helper"),c={};function l(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.createAnimation();case 2:n=e.sent,r=s.layout("\n    <h1>404</h1>\n    <h4>Yikes! The page you requested could not be found.</h4>\n    ".concat(a.if(i.isPersonal,function(){return'\n      <p>\n        Please navigate <a href="'.concat(o.app,'">back</a> to your personal library.\n      </p>\n    ')}),'\n    <p>\n      If you think this is an error, contact <a href="').concat(s.mailTo(404),'">support@readcube.com</a> for assistance.\n    </p>\n  ')).appendTo(t),setTimeout(function(){return r.find(".error-content").addClass("show-code")},600),setTimeout(function(){return r.find(".error-content").addClass("show-message")},1200),n.start();case 7:case"end":return e.stop()}},e)}),(l=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}c.show=function(e){return l.apply(this,arguments)},t.exports=c},{"../../common/template":478,"../../endpoint":523,"../../router":567,"./pages_helper":635,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"regenerator-runtime/runtime":420}],632:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("core-js/modules/es6.array.find"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");e("jquery");var i=e("./pages_helper"),o=e("../../common/template"),a=e("../../article"),s={};function c(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.createAnimation();case 2:n=e.sent,r=i.layout('\n    <h1>500</h1>\n    <h4>Yikes! Something went wrong.</h4>\n    <p>\n      Please try again later. If the problem persists,<br>\n      contact <a href="'.concat(i.mailTo(500),'">support@readcube.com</a> for assistance.\n    </p>\n    ').concat(o.if(a.doi,function(){return'\n      <p>\n        You can also visit this article on the\n        <a href="https://doi.org/'.concat(a.doi,'">publisher page</a>.\n      </p>\n    ')}),"\n  ")).appendTo(t),setTimeout(function(){return r.find(".error-content").addClass("show-code")},600),setTimeout(function(){return r.find(".error-content").addClass("show-message")},1200),n.start();case 7:case"end":return e.stop()}},e)}),(c=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}s.show=function(e){return c.apply(this,arguments)},t.exports=s},{"../../article":455,"../../common/template":478,"./pages_helper":635,"core-js/modules/es6.array.find":279,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"regenerator-runtime/runtime":420}],633:[function(e,t,n){"use strict";t.exports={start:function(e){!function(e,t,n,r){var i;e.properties={width:400,height:300,fps:48,color:"#FFFFFF",manifest:[]},(e.panelred=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("#FF3E3C").s().p("AgJFMQgdgEgSgSIlollQgSgTADgVQADgWAXgNIFtjJQAYgNAaAFQAdAEASASIFoFlQASATgDAVQgEAXgWAMIlsDJQgSAJgUAAIgNgBg"),this.shape.setTransform(43.3,33.4),this.addChild(this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,0,86.6,66.8),(e.panelpurple=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("#9823C6").s().p("AlWFXQgHgIANgXIDJlpQAMgXAZgaQAZgYAXgOIFrjIQAXgMAHAGQAHAHgMAXIjJFrQgMAXgaAaQgXAYgYAOIlsDIQgOAHgIAAQgFAAgDgCg"),this.shape.setTransform(34.6,34.6),this.addChild(this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,.1,69.2,69.1),(e.panelorange=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("#FFC34E").s().p("AAwGhIllloQgSgSgEgdQgFgaANgYIDJltQAMgWAXgEQAVgDATASIFlFoQASASAEAdQAFAbgNAYIjJFsQgMAWgXAEIgGAAQgSAAgQgPg"),this.shape.setTransform(33.4,43.3),this.addChild(this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,0,66.8,86.6),(e.panelmagenta=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("#FE0FA6").s().p("AlWFWQgGgHAMgXIDIlrQANgXAYgZQAagZAXgNIFrjIQAXgMAHAHQAHAHgMAXIjKFrQgNAXgYAYQgaAagWAMIlrDJQgOAIgIAAQgFAAgDgDg"),this.shape.setTransform(34.6,34.6),this.addChild(this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,.1,69.2,69.2),(e.panelgreen=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("#98D843").s().p("AAwGhIllloQgSgSgEgdQgFgaANgYIDJltQANgXAWgDQAVgDATASIFlFoQASASAEAdQAFAcgNAXIjJFsQgMAXgXADIgGAAQgRAAgRgPg"),this.shape.setTransform(33.4,43.3),this.addChild(this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,0,66.8,86.6),(e.panelblue=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("#26C4FF").s().p("AgIFNQgdgFgTgSIlnlmQgSgRACgXQADgWAXgNIFtjIQAXgNAcAFQAdAEARASIFoFlQATATgEAVQgDAXgXAMIlsDJQgSAJgWAAIgKAAg"),this.shape.setTransform(43.3,33.4),this.addChild(this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,.1,86.6,66.8),(e.CollapsedLogoErrorAnimation=function(t,r,i){null==i&&(i=!1),this.initialize(t,r,i,{}),this.frame_0=function(){if(window.devicePixelRatio>1){var e=canvas.width,t=canvas.height;canvas.width=e*window.devicePixelRatio,canvas.height=t*window.devicePixelRatio,canvas.style.width=e+"px",canvas.style.height=t+"px",stage.scaleX=stage.scaleY=window.devicePixelRatio}},this.frame_69=function(){try{stop()}catch(e){}},this.timeline.addTween(n.Tween.get(this).call(this.frame_0).wait(69).call(this.frame_69).wait(17)),this.FlashAICB_colour__Path__5=new e.panelpurple,this.FlashAICB_colour__Path__5.setTransform(142.6,86.4,1.5,1.5,0,0,0,34.6,34.6),this.FlashAICB_colour__Path__5.alpha=.898,this.FlashAICB_colour__Path__5.shadow=new n.Shadow("rgba(0,0,0,1)",0,0,0),this.timeline.addTween(n.Tween.get(this.FlashAICB_colour__Path__5).wait(18).to({scaleX:1.48,scaleY:1.48,skewX:2,skewY:1.3,x:142.3,y:91.6},0).wait(1).to({scaleX:1.45,scaleY:1.45,skewX:4,skewY:2.6,x:142.1,y:96.7},0).wait(1).to({scaleX:1.43,scaleY:1.43,skewX:5.9,skewY:3.8,x:141.9,y:101.5},0).wait(1).to({scaleX:1.41,scaleY:1.41,skewX:7.7,skewY:4.9,x:141.6,y:106.2},0).wait(1).to({scaleX:1.38,scaleY:1.38,skewX:9.4,skewY:6.1,x:141.5,y:110.8},0).wait(1).to({scaleX:1.36,scaleY:1.36,skewX:11.1,skewY:7.1,x:141.2,y:115.1},0).wait(1).to({scaleX:1.34,scaleY:1.34,skewX:12.7,skewY:8.2,x:141.1,y:119.3},0).wait(1).to({scaleX:1.32,scaleY:1.32,skewX:14.3,skewY:9.2,x:140.9,y:123.3},0).wait(1).to({scaleX:1.3,scaleY:1.3,skewX:15.8,skewY:10.2,x:140.7,y:127.2},0).wait(1).to({scaleX:1.29,scaleY:1.29,skewX:17.2,skewY:11.1,x:140.5,y:131},0).wait(1).to({scaleX:1.27,scaleY:1.27,skewX:18.6,skewY:12,x:140.3,y:134.6},0).wait(1).to({scaleX:1.25,scaleY:1.25,skewX:19.9,skewY:12.9,x:140.2,y:138.1},0).wait(1).to({scaleX:1.24,scaleY:1.24,skewX:21.2,skewY:13.7,x:140,y:141.4},0).wait(1).to({scaleX:1.22,scaleY:1.22,skewX:22.5,skewY:14.5,x:139.9,y:144.6},0).wait(1).to({scaleX:1.21,scaleY:1.21,skewX:23.7,skewY:15.3,x:139.7,y:147.8},0).wait(1).to({scaleX:1.19,scaleY:1.19,skewX:24.8,skewY:16,x:139.6,y:150.8},0).wait(1).to({scaleX:1.18,scaleY:1.18,skewX:26,skewY:16.7,x:139.4,y:153.7},0).wait(1).to({scaleX:1.16,scaleY:1.16,skewX:27,skewY:17.4,x:139.3,y:156.5},0).wait(1).to({scaleX:1.15,scaleY:1.15,skewX:28.1,skewY:18.1,x:139.2,y:159.3},0).wait(1).to({scaleX:1.14,scaleY:1.14,skewX:29.1,skewY:18.8,x:139.1,y:161.8},0).wait(1).to({scaleX:1.13,scaleY:1.13,skewX:30.1,skewY:19.4,x:138.9,y:164.4},0).wait(1).to({scaleX:1.11,scaleY:1.11,skewX:31,skewY:20,y:166.9},0).wait(1).to({scaleX:1.1,scaleY:1.1,skewX:32,skewY:20.6,x:138.7,y:169.3},0).wait(1).to({scaleX:1.09,scaleY:1.09,skewX:32.9,skewY:21.2,x:138.6,y:171.6},0).wait(1).to({scaleX:1.08,scaleY:1.08,skewX:33.7,skewY:21.7,x:138.5,y:173.9},0).wait(1).to({scaleX:1.07,scaleY:1.07,skewX:34.6,skewY:22.3,x:138.4,y:176.1},0).wait(1).to({scaleX:1.06,scaleY:1.06,skewX:35.4,skewY:22.8,x:138.3,y:178.3},0).wait(1).to({scaleX:1.05,scaleY:1.05,skewX:36.2,skewY:23.4,x:138.2,y:180.4},0).wait(1).to({scaleX:1.04,scaleY:1.04,skewX:37,skewY:23.9,x:138.1,y:182.5},0).wait(1).to({scaleX:1.03,scaleY:1.03,skewX:37.8,skewY:24.4,x:138,y:184.5},0).wait(1).to({scaleX:1.02,scaleY:1.02,skewX:38.6,skewY:24.9,x:137.9,y:186.5},0).wait(1).to({scaleX:1.01,scaleY:1.01,skewX:39.4,skewY:25.4,x:137.8,y:188.5},0).wait(1).to({scaleX:1,scaleY:1,skewX:40.2,skewY:25.9,x:137.7,y:190.5},0).wait(1).to({scaleX:.99,scaleY:.99,skewX:40.9,skewY:26.4,x:137.6,y:192.5},0).wait(1).to({scaleX:.98,scaleY:.98,skewX:41.7,skewY:26.9,x:137.5,y:194.5},0).wait(1).to({scaleX:.97,scaleY:.97,skewX:42.4,skewY:27.3,x:137.4,y:196.4},0).wait(1).to({scaleX:.96,scaleY:.96,skewX:43.2,skewY:27.8,x:137.3,y:198.4},0).wait(1).to({scaleX:.95,scaleY:.95,skewX:43.9,skewY:28.3,x:137.2,y:200.3},0).wait(1).to({scaleX:.94,scaleY:.94,skewX:44.7,skewY:28.8,y:202.3},0).wait(1).to({scaleX:.94,scaleY:.94,skewX:45.5,skewY:29.3,x:137.1,y:204.3},0).wait(1).to({scaleX:.93,scaleY:.93,skewX:46.2,skewY:29.8,x:137,y:206.3},0).wait(1).to({scaleX:.92,scaleY:.92,skewX:47,skewY:30.3,x:136.9,y:208.4},0).wait(1).to({scaleX:.91,scaleY:.91,skewX:47.8,skewY:30.8,x:136.8,y:210.5},0).wait(1).to({scaleX:.9,scaleY:.9,skewX:48.6,skewY:31.4,x:136.7,y:212.5},0).wait(1).to({scaleX:.89,scaleY:.89,skewX:49.5,skewY:31.9,x:136.6,y:214.7},0).wait(1).to({scaleX:.87,scaleY:.87,skewX:50.3,skewY:32.4,x:136.5,y:216.9},0).wait(1).to({scaleX:.86,scaleY:.86,skewX:51.2,skewY:33,x:136.3,y:219.2},0).wait(1).to({scaleX:.85,scaleY:.85,skewX:52.1,skewY:33.6,y:221.5},0).wait(1).to({scaleX:.84,scaleY:.84,skewX:53,skewY:34.2,x:136.2,y:223.9},0).wait(1).to({scaleX:.83,scaleY:.83,skewX:54,skewY:34.8,x:136,y:226.3},0).wait(1).to({scaleX:.82,scaleY:.82,skewX:54.9,skewY:35.4,x:135.9,y:228.9},0).wait(1).to({regX:35,regY:34.9,scaleX:.81,scaleY:.81,skewX:55.9,skewY:36.1,x:135.8,y:231.6},0).to({regY:35,scaleY:.8,skewY:33,x:135.7,y:229.7},3).to({regY:34.9,scaleY:.81,skewY:36.1,x:135.8,y:231.6},6).wait(8)),this.FlashAICB_colour__Path_=new e.panelgreen,this.FlashAICB_colour__Path_.setTransform(163.3,162.2,1.5,1.5,0,0,0,33.4,43.2),this.FlashAICB_colour__Path_.alpha=.898,this.FlashAICB_colour__Path_.shadow=new n.Shadow("rgba(0,0,0,1)",0,0,0),this.timeline.addTween(n.Tween.get(this.FlashAICB_colour__Path_).wait(24).to({regY:43.3,scaleX:1.51,scaleY:1.51,skewX:5,skewY:.7,x:161.8,y:168.1},0).wait(1).to({scaleX:1.52,scaleY:1.53,skewX:9.6,skewY:1.3,x:160.4,y:173.4},0).wait(1).to({scaleX:1.54,scaleY:1.54,skewX:13.8,skewY:1.9,x:159.1,y:178.4},0).wait(1).to({scaleX:1.55,scaleY:1.55,skewX:17.7,skewY:2.4,x:157.9,y:183},0).wait(1).to({scaleX:1.55,scaleY:1.56,skewX:21.4,skewY:2.9,x:156.9,y:187.3},0).wait(1).to({scaleX:1.56,scaleY:1.57,skewX:24.8,skewY:3.4,x:155.8,y:191.2},0).wait(1).to({scaleX:1.57,scaleY:1.57,skewX:27.9,skewY:3.8,x:154.9,y:194.8},0).wait(1).to({scaleX:1.58,scaleY:1.58,skewX:30.8,skewY:4.2,x:154,y:198.3},0).wait(1).to({scaleX:1.59,scaleY:1.59,skewX:33.6,skewY:4.6,x:153.2,y:201.5},0).wait(1).to({scaleX:1.59,scaleY:1.6,skewX:36.2,skewY:4.9,x:152.4,y:204.5},0).wait(1).to({scaleX:1.6,scaleY:1.6,skewX:38.6,skewY:5.2,x:151.7,y:207.4},0).wait(1).to({scaleX:1.6,scaleY:1.61,skewX:40.9,skewY:5.5,x:150.9,y:210},0).wait(1).to({scaleX:1.61,scaleY:1.61,skewX:43,skewY:5.8,x:150.4,y:212.5},0).wait(1).to({scaleX:1.62,scaleY:1.62,skewX:45.1,skewY:6.1,x:149.7,y:214.9},0).wait(1).to({scaleX:1.62,scaleY:1.62,skewX:47,skewY:6.4,x:149.1,y:217.1},0).wait(1).to({scaleX:1.62,scaleY:1.63,skewX:48.8,skewY:6.6,x:148.6,y:219.3},0).wait(1).to({scaleX:1.63,scaleY:1.63,skewX:50.6,skewY:6.9,x:148,y:221.3},0).wait(1).to({scaleX:1.63,scaleY:1.64,skewX:52.3,skewY:7.1,x:147.6,y:223.3},0).wait(1).to({scaleX:1.64,scaleY:1.64,skewX:54,skewY:7.3,x:147,y:225.3},0).wait(1).to({scaleX:1.64,scaleY:1.65,skewX:55.6,skewY:7.5,x:146.5,y:227.1},0).wait(1).to({scaleX:1.65,scaleY:1.65,skewX:57.1,skewY:7.8,x:146.1,y:228.9},0).wait(1).to({scaleX:1.65,scaleY:1.65,skewX:58.7,skewY:8,x:145.6,y:230.8},0).wait(1).to({scaleX:1.65,scaleY:1.66,skewX:60.2,skewY:8.2,x:145.2,y:232.5},0).wait(1).to({scaleX:1.66,scaleY:1.66,skewX:61.7,skewY:8.4,x:144.7,y:234.3},0).wait(1).to({scaleX:1.66,scaleY:1.67,skewX:63.3,skewY:8.6,x:144.2,y:236.1},0).wait(1).to({scaleX:1.67,scaleY:1.67,skewX:64.8,skewY:8.8,x:143.8,y:237.9},0).wait(1).to({scaleX:1.67,scaleY:1.68,skewX:66.4,skewY:9,x:143.3,y:239.7},0).wait(1).to({scaleX:1.67,scaleY:1.68,skewX:68,skewY:9.2,x:142.8,y:241.6},0).wait(1).to({scaleX:1.68,scaleY:1.68,skewX:69.6,skewY:9.5,x:142.3,y:243.5},0).wait(1).to({scaleX:1.68,scaleY:1.69,skewX:71.3,skewY:9.7,x:141.8,y:245.5},0).wait(1).to({scaleX:1.69,scaleY:1.69,skewX:73.1,skewY:9.9,x:141.3,y:247.6},0).wait(1).to({scaleX:1.69,scaleY:1.7,skewX:74.9,skewY:10.2,x:140.7,y:249.7},0).wait(1).to({scaleX:1.7,scaleY:1.7,skewX:76.8,skewY:10.4,x:140.2,y:251.9},0).wait(1).to({scaleX:1.7,scaleY:1.71,skewX:78.9,skewY:10.7,x:139.5,y:254.3},0).wait(1).to({regX:33.3,regY:43.1,scaleX:1.71,scaleY:1.71,skewX:81,skewY:11,x:138.9,y:256.8},0).to({regX:33.2,scaleX:1.71,skewX:83,x:138.7,y:254.3},7).to({regX:33.3,scaleX:1.71,skewX:81,x:138.9,y:256.8},9).wait(12)),this.FlashAICB_colour__Path__1=new e.panelmagenta,this.FlashAICB_colour__Path__1.setTransform(255.2,199.1,1.5,1.5,0,0,0,34.6,34.6),this.FlashAICB_colour__Path__1.alpha=.898,this.FlashAICB_colour__Path__1.shadow=new n.Shadow("rgba(0,0,0,1)",0,0,0),this.timeline.addTween(n.Tween.get(this.FlashAICB_colour__Path__1).wait(18).to({scaleX:1.5,scaleY:1.5,skewX:2.6,skewY:1.5,x:257.2,y:202.3},0).wait(1).to({scaleX:1.5,skewX:5,skewY:2.9,x:259.1,y:205.3},0).wait(1).to({scaleX:1.5,scaleY:1.5,skewX:7.2,skewY:4.3,x:260.9,y:208.1},0).wait(1).to({scaleX:1.5,scaleY:1.5,skewX:9.3,skewY:5.5,x:262.6,y:210.9},0).wait(1).to({skewX:11.3,skewY:6.7,x:264.2,y:213.4},0).wait(1).to({scaleX:1.51,scaleY:1.5,skewX:13.2,skewY:7.8,x:265.7,y:215.7},0).wait(1).to({scaleX:1.51,skewX:15,skewY:8.9,x:267.2,y:218},0).wait(1).to({scaleX:1.51,skewX:16.7,skewY:9.9,x:268.5,y:220.1},0).wait(1).to({scaleY:1.5,skewX:18.3,skewY:10.8,x:269.8,y:222.1},0).wait(1).to({scaleX:1.51,skewX:19.8,skewY:11.7,x:271,y:224.1},0).wait(1).to({scaleX:1.51,scaleY:1.49,skewX:21.3,skewY:12.6,x:272.1,y:225.9},0).wait(1).to({skewX:22.7,skewY:13.4,x:273.2,y:227.7},0).wait(1).to({scaleX:1.51,skewX:24,skewY:14.2,x:274.3,y:229.3},0).wait(1).to({scaleY:1.49,skewX:25.3,skewY:14.9,x:275.3,y:230.9},0).wait(1).to({scaleX:1.51,skewX:26.5,skewY:15.6,x:276.3,y:232.5},0).wait(1).to({skewX:27.7,skewY:16.3,x:277.2,y:233.9},0).wait(1).to({scaleX:1.51,skewX:28.8,skewY:17,x:278.1,y:235.4},0).wait(1).to({scaleY:1.49,skewX:29.9,skewY:17.6,x:278.9,y:236.7},0).wait(1).to({skewX:30.9,skewY:18.3,x:279.8,y:238.1},0).wait(1).to({scaleX:1.51,skewX:32,skewY:18.9,x:280.7,y:239.3},0).wait(1).to({scaleY:1.49,skewX:32.9,skewY:19.4,x:281.4,y:240.5},0).wait(1).to({scaleX:1.51,skewX:33.9,skewY:20,x:282.1,y:241.7},0).wait(1).to({skewX:34.8,skewY:20.6,x:282.9,y:243},0).wait(1).to({skewX:35.8,skewY:21.1,x:283.6,y:244.1},0).wait(1).to({scaleX:1.52,skewX:36.7,skewY:21.6,x:284.3,y:245.2},0).wait(1).to({scaleY:1.49,skewX:37.5,skewY:22.1,x:285.1,y:246.3},0).wait(1).to({skewX:38.4,skewY:22.7,x:285.7,y:247.4},0).wait(1).to({scaleX:1.52,skewX:39.3,skewY:23.2,x:286.4,y:248.5},0).wait(1).to({skewX:40.1,skewY:23.7,x:287.1,y:249.5},0).wait(1).to({scaleX:1.52,scaleY:1.49,skewX:41,skewY:24.2,x:287.8,y:250.6},0).wait(1).to({skewX:41.8,skewY:24.7,x:288.4,y:251.7},0).wait(1).to({skewX:42.6,skewY:25.2,x:289.1,y:252.7},0).wait(1).to({scaleX:1.52,skewX:43.5,skewY:25.7,x:289.8,y:253.8},0).wait(1).to({skewX:44.3,skewY:26.2,x:290.5,y:254.9},0).wait(1).to({scaleY:1.49,skewX:45.2,skewY:26.7,x:291.1,y:256},0).wait(1).to({scaleX:1.52,skewX:46.1,skewY:27.2,x:291.8,y:257.1},0).wait(1).to({skewX:46.9,skewY:27.7,x:292.6,y:258.1},0).wait(1).to({skewX:47.8,skewY:28.2,x:293.2,y:259.3},0).wait(1).to({scaleX:1.52,scaleY:1.49,skewX:48.8,skewY:28.8,x:294,y:260.5},0).wait(1).to({skewX:49.7,skewY:29.3,x:294.7,y:261.6},0).wait(1).to({skewX:50.7,skewY:29.9,x:295.5,y:262.8},0).wait(1).to({scaleX:1.52,skewX:51.6,skewY:30.5,x:296.3,y:264.1},0).wait(1).to({scaleY:1.49,skewX:52.7,skewY:31.1,x:297.1,y:265.4},0).wait(1).to({scaleX:1.52,skewX:53.7,skewY:31.7,x:297.9,y:266.7},0).wait(1).to({skewX:54.8,skewY:32.3,x:298.8,y:268.1},0).wait(1).to({regY:34.9,scaleX:1.52,skewX:55.9,skewY:33,x:299.7,y:269.6},0).to({scaleY:1.48,skewY:34,x:299.6,y:267.7},3).to({scaleY:1.49,skewY:33,x:299.7,y:269.6},7).wait(13)),this.FlashAICB_colour__Path__2=new e.panelblue,this.FlashAICB_colour__Path__2.setTransform(241,84.5,1.5,1.5,0,0,0,43.2,33.5),this.FlashAICB_colour__Path__2.alpha=.898,this.FlashAICB_colour__Path__2.shadow=new n.Shadow("rgba(0,0,0,1)",0,0,0),this.timeline.addTween(n.Tween.get(this.FlashAICB_colour__Path__2).wait(21).to({regX:43.3,regY:33.4,scaleX:1.51,scaleY:1.51,skewX:3.2,skewY:.3,x:241.4,y:91},0).wait(1).to({scaleX:1.52,scaleY:1.52,skewX:6.3,skewY:.6,x:241.6,y:97.3},0).wait(1).to({scaleX:1.53,scaleY:1.53,skewX:9.2,skewY:.8,x:241.9,y:103.4},0).wait(1).to({scaleX:1.54,scaleY:1.54,skewX:12,skewY:1.1,x:242,y:109.1},0).wait(1).to({scaleX:1.55,scaleY:1.55,skewX:14.6,skewY:1.3,x:242.2,y:114.6},0).wait(1).to({scaleX:1.55,scaleY:1.55,skewX:17.2,skewY:1.5,x:242.4,y:119.8},0).wait(1).to({scaleX:1.56,scaleY:1.56,skewX:19.6,skewY:1.7,x:242.6,y:124.8},0).wait(1).to({scaleX:1.57,scaleY:1.57,skewX:21.9,skewY:1.9,x:242.8,y:129.6},0).wait(1).to({scaleX:1.58,scaleY:1.58,skewX:24.1,skewY:2.1,x:243,y:134.1},0).wait(1).to({scaleX:1.58,scaleY:1.58,skewX:26.2,skewY:2.3,x:243.1,y:138.5},0).wait(1).to({scaleX:1.59,scaleY:1.59,skewX:28.2,skewY:2.5,x:243.2,y:142.7},0).wait(1).to({scaleX:1.6,scaleY:1.59,skewX:30.2,skewY:2.7,x:243.4,y:146.7},0).wait(1).to({scaleX:1.6,scaleY:1.6,skewX:32,skewY:2.8,x:243.5,y:150.5},0).wait(1).to({scaleX:1.61,scaleY:1.61,skewX:33.8,skewY:3,x:243.7,y:154.2},0).wait(1).to({scaleX:1.61,scaleY:1.61,skewX:35.5,skewY:3.1,x:243.8,y:157.7},0).wait(1).to({scaleX:1.62,scaleY:1.62,skewX:37.2,skewY:3.3,x:244,y:161.1},0).wait(1).to({scaleX:1.62,scaleY:1.62,skewX:38.8,skewY:3.4,x:244.1,y:164.4},0).wait(1).to({scaleX:1.63,scaleY:1.63,skewX:40.3,skewY:3.6,x:244.2,y:167.6},0).wait(1).to({scaleX:1.63,scaleY:1.63,skewX:41.8,skewY:3.7,x:244.3,y:170.6},0).wait(1).to({scaleX:1.64,scaleY:1.64,skewX:43.2,skewY:3.8,x:244.4,y:173.6},0).wait(1).to({scaleX:1.64,scaleY:1.64,skewX:44.6,skewY:4,x:244.5,y:176.4},0).wait(1).to({scaleX:1.64,scaleY:1.64,skewX:45.9,skewY:4.1,x:244.6,y:179.2},0).wait(1).to({scaleX:1.65,scaleY:1.65,skewX:47.2,skewY:4.2,x:244.7,y:181.9},0).wait(1).to({scaleX:1.65,scaleY:1.65,skewX:48.5,skewY:4.3,x:244.8,y:184.5},0).wait(1).to({scaleX:1.66,scaleY:1.66,skewX:49.7,skewY:4.4,x:244.9,y:187.1},0).wait(1).to({scaleX:1.66,scaleY:1.66,skewX:51,skewY:4.5,x:245,y:189.6},0).wait(1).to({scaleX:1.66,scaleY:1.66,skewX:52.2,skewY:4.6,x:245.1,y:192.1},0).wait(1).to({scaleX:1.67,scaleY:1.67,skewX:53.3,skewY:4.7,y:194.5},0).wait(1).to({scaleX:1.67,scaleY:1.67,skewX:54.5,skewY:4.8,x:245.2,y:196.9},0).wait(1).to({scaleX:1.68,scaleY:1.67,skewX:55.6,skewY:4.9,x:245.3,y:199.2},0).wait(1).to({scaleX:1.68,scaleY:1.68,skewX:56.8,skewY:5,x:245.4,y:201.5},0).wait(1).to({scaleX:1.68,scaleY:1.68,skewX:57.9,skewY:5.1,x:245.5,y:203.9},0).wait(1).to({scaleX:1.69,scaleY:1.68,skewX:59,skewY:5.2,x:245.6,y:206.2},0).wait(1).to({scaleX:1.69,scaleY:1.69,skewX:60.1,skewY:5.3,x:245.7,y:208.5},0).wait(1).to({scaleX:1.69,scaleY:1.69,skewX:61.2,skewY:5.4,y:210.9},0).wait(1).to({scaleX:1.7,scaleY:1.69,skewX:62.4,skewY:5.5,x:245.8,y:213.1},0).wait(1).to({scaleX:1.7,scaleY:1.7,skewX:63.5,skewY:5.6,x:245.9,y:215.5},0).wait(1).to({scaleX:1.7,scaleY:1.7,skewX:64.6,skewY:5.7,x:246,y:217.9},0).wait(1).to({scaleX:1.71,scaleY:1.71,skewX:65.8,skewY:5.8,x:246.1,y:220.3},0).wait(1).to({scaleX:1.71,scaleY:1.71,skewX:67,skewY:5.9,y:222.7},0).wait(1).to({scaleX:1.71,scaleY:1.71,skewX:68.2,skewY:6,x:246.2,y:225.2},0).wait(1).to({scaleX:1.72,scaleY:1.72,skewX:69.4,skewY:6.1,x:246.4,y:227.7},0).wait(1).to({scaleX:1.72,scaleY:1.72,skewX:70.7,skewY:6.3,y:230.4},0).wait(1).to({scaleX:1.73,scaleY:1.72,skewX:71.9,skewY:6.4,x:246.6,y:233},0).wait(1).to({scaleX:1.73,scaleY:1.73,skewX:73.3,skewY:6.5,y:235.7},0).wait(1).to({scaleX:1.74,scaleY:1.73,skewX:74.6,skewY:6.6,x:246.7,y:238.6},0).wait(1).to({scaleX:1.74,scaleY:1.74,skewX:76,skewY:6.7,x:246.9,y:241.5},0).wait(1).to({scaleX:1.74,scaleY:1.74,skewX:77.5,skewY:6.9,y:244.5},0).wait(1).to({regX:43.4,scaleX:1.75,scaleY:1.75,skewX:79,skewY:7,x:246.8,y:247.7},0).to({scaleY:1.75,skewX:79.2,skewY:9,y:245.8},3).to({scaleY:1.75,skewX:79,skewY:7,y:247.7},4).wait(10)),this.FlashAICB_colour__Path__3=new e.panelred,this.FlashAICB_colour__Path__3.setTransform(156.8,201.2,1.5,1.5,0,0,0,43.4,33.4),this.FlashAICB_colour__Path__3.alpha=.898,this.FlashAICB_colour__Path__3.shadow=new n.Shadow("rgba(0,0,0,1)",0,0,0),this.timeline.addTween(n.Tween.get(this.FlashAICB_colour__Path__3).wait(18).to({regX:43.3,scaleX:1.49,scaleY:1.49,skewX:-3.9,skewY:-1,x:152.3,y:204.7},0).wait(1).to({scaleX:1.48,scaleY:1.48,skewX:-7.5,skewY:-2,x:148.2,y:208.2},0).wait(1).to({scaleX:1.47,scaleY:1.47,skewX:-10.9,skewY:-3,x:144.3,y:211.4},0).wait(1).to({scaleX:1.46,scaleY:1.46,skewX:-14.2,skewY:-3.8,x:140.6,y:214.4},0).wait(1).to({scaleX:1.45,scaleY:1.45,skewX:-17.2,skewY:-4.7,x:137.3,y:217.3},0).wait(1).to({scaleX:1.44,scaleY:1.44,skewX:-20.1,skewY:-5.4,x:134,y:220},0).wait(1).to({scaleX:1.44,scaleY:1.44,skewX:-22.8,skewY:-6.2,x:130.9,y:222.5},0).wait(1).to({scaleX:1.43,scaleY:1.43,skewX:-25.3,skewY:-6.9,x:128.1,y:224.9},0).wait(1).to({scaleX:1.42,scaleY:1.42,skewX:-27.7,skewY:-7.5,x:125.3,y:227.1},0).wait(1).to({scaleX:1.42,scaleY:1.42,skewX:-30,skewY:-8.1,x:122.8,y:229.3},0).wait(1).to({scaleX:1.41,scaleY:1.41,skewX:-32.1,skewY:-8.7,x:120.4,y:231.2},0).wait(1).to({scaleX:1.4,scaleY:1.4,skewX:-34.1,skewY:-9.3,x:118.1,y:233.1},0).wait(1).to({scaleX:1.4,scaleY:1.4,skewX:-36,skewY:-9.8,x:115.9,y:234.9},0).wait(1).to({scaleX:1.39,scaleY:1.39,skewX:-37.8,skewY:-10.3,x:113.9,y:236.6},0).wait(1).to({scaleX:1.39,scaleY:1.39,skewX:-39.6,skewY:-10.7,x:112,y:238.2},0).wait(1).to({scaleX:1.38,scaleY:1.38,skewX:-41.2,skewY:-11.2,x:110.1,y:239.8},0).wait(1).to({scaleX:1.38,scaleY:1.38,skewX:-42.8,skewY:-11.6,x:108.4,y:241.2},0).wait(1).to({scaleX:1.38,scaleY:1.38,skewX:-44.3,skewY:-12,x:106.6,y:242.6},0).wait(1).to({scaleX:1.37,scaleY:1.37,skewX:-45.7,skewY:-12.4,x:105,y:244},0).wait(1).to({scaleX:1.37,scaleY:1.37,skewX:-47.1,skewY:-12.8,x:103.4,y:245.3},0).wait(1).to({scaleX:1.36,scaleY:1.36,skewX:-48.5,skewY:-13.2,x:101.9,y:246.6},0).wait(1).to({scaleX:1.36,scaleY:1.36,skewX:-49.8,skewY:-13.5,x:100.4,y:247.8},0).wait(1).to({scaleX:1.36,scaleY:1.36,skewX:-51.1,skewY:-13.9,x:99,y:249},0).wait(1).to({scaleX:1.35,scaleY:1.35,skewX:-52.4,skewY:-14.2,x:97.5,y:250.2},0).wait(1).to({scaleX:1.35,scaleY:1.35,skewX:-53.7,skewY:-14.6,x:96,y:251.4},0).wait(1).to({scaleX:1.34,scaleY:1.34,skewX:-55,skewY:-14.9,x:94.6,y:252.7},0).wait(1).to({scaleX:1.34,scaleY:1.34,skewX:-56.3,skewY:-15.3,x:93.1,y:253.9},0).wait(1).to({scaleX:1.34,scaleY:1.34,skewX:-57.6,skewY:-15.6,x:91.6,y:255.1},0).wait(1).to({scaleX:1.33,scaleY:1.33,skewX:-59,skewY:-16,x:90.1,y:256.4},0).wait(1).to({scaleX:1.33,scaleY:1.33,skewX:-60.4,skewY:-16.4,x:88.5,y:257.7},0).wait(1).to({scaleX:1.33,scaleY:1.33,skewX:-61.8,skewY:-16.8,x:86.9,y:259.1},0).wait(1).to({scaleX:1.32,scaleY:1.32,skewX:-63.3,skewY:-17.2,x:85.2,y:260.4},0).wait(1).to({scaleX:1.32,scaleY:1.32,skewX:-64.9,skewY:-17.6,x:83.5,y:261.9},0).wait(1).to({scaleX:1.31,scaleY:1.31,skewX:-66.5,skewY:-18,x:81.6,y:263.5},0).wait(1).to({scaleX:1.31,scaleY:1.31,skewX:-68.2,skewY:-18.5,x:79.7,y:265.1},0).wait(1).to({regX:42.9,regY:33.5,scaleX:1.3,scaleY:1.3,skewX:-70,skewY:-19,x:77.7,y:266.7},0).to({scaleX:1.3,scaleY:1.3,skewY:-14,y:260.5},3).to({scaleX:1.3,scaleY:1.3,skewY:-19,y:266.7},11).wait(19)),this.FlashAICB_colour__Path__4=new e.panelorange,this.FlashAICB_colour__Path__4.setTransform(234.5,123.2,1.5,1.5,0,0,0,33.4,43.3),this.FlashAICB_colour__Path__4.alpha=.898,this.FlashAICB_colour__Path__4.shadow=new n.Shadow("rgba(0,0,0,1)",0,0,0),this.timeline.addTween(n.Tween.get(this.FlashAICB_colour__Path__4).wait(23).to({scaleX:1.52,scaleY:1.52,skewX:5,skewY:.3,x:234.7,y:131.6},0).wait(1).to({scaleX:1.54,scaleY:1.54,skewX:9.6,skewY:.7,x:235,y:139.4},0).wait(1).to({scaleX:1.56,scaleY:1.56,skewX:13.9,skewY:1,x:235.2,y:146.8},0).wait(1).to({scaleX:1.58,scaleY:1.58,skewX:17.9,skewY:1.3,x:235.4,y:153.6},0).wait(1).to({scaleX:1.59,scaleY:1.59,skewX:21.7,skewY:1.5,x:235.6,y:160},0).wait(1).to({scaleX:1.61,scaleY:1.61,skewX:25.2,skewY:1.8,x:235.8,y:165.9},0).wait(1).to({scaleX:1.62,scaleY:1.62,skewX:28.5,skewY:2,x:235.9,y:171.6},0).wait(1).to({scaleX:1.63,scaleY:1.63,skewX:31.6,skewY:2.2,x:236,y:176.7},0).wait(1).to({scaleX:1.65,scaleY:1.65,skewX:34.5,skewY:2.4,x:236.2,y:181.7},0).wait(1).to({scaleX:1.66,scaleY:1.66,skewX:37.2,skewY:2.6,x:236.3,y:186.3},0).wait(1).to({scaleX:1.67,scaleY:1.67,skewX:39.8,skewY:2.8,x:236.5,y:190.7},0).wait(1).to({scaleX:1.68,scaleY:1.68,skewX:42.2,skewY:3,x:236.6,y:194.8},0).wait(1).to({scaleX:1.69,scaleY:1.69,skewX:44.5,skewY:3.1,x:236.7,y:198.7},0).wait(1).to({scaleX:1.7,scaleY:1.7,skewX:46.7,skewY:3.3,x:236.8,y:202.4},0).wait(1).to({scaleX:1.71,scaleY:1.71,skewX:48.7,skewY:3.4,x:236.9,y:205.9},0).wait(1).to({scaleX:1.72,scaleY:1.72,skewX:50.7,skewY:3.6,x:237,y:209.3},0).wait(1).to({scaleX:1.72,scaleY:1.72,skewX:52.6,skewY:3.7,x:237.1,y:212.6},0).wait(1).to({scaleX:1.73,scaleY:1.73,skewX:54.5,skewY:3.8,x:237.2,y:215.6},0).wait(1).to({scaleX:1.74,scaleY:1.74,skewX:56.2,skewY:4,x:237.3,y:218.7},0).wait(1).to({scaleX:1.75,scaleY:1.75,skewX:58,skewY:4.1,x:237.4,y:221.6},0).wait(1).to({scaleX:1.75,scaleY:1.75,skewX:59.6,skewY:4.2,x:237.5,y:224.4},0).wait(1).to({scaleX:1.76,scaleY:1.76,skewX:61.3,skewY:4.3,y:227.3},0).wait(1).to({scaleX:1.77,scaleY:1.77,skewX:62.9,skewY:4.4,x:237.6,y:230},0).wait(1).to({scaleX:1.77,scaleY:1.77,skewX:64.6,skewY:4.6,x:237.7,y:232.8},0).wait(1).to({scaleX:1.78,scaleY:1.78,skewX:66.2,skewY:4.7,x:237.8,y:235.6},0).wait(1).to({scaleX:1.79,scaleY:1.79,skewX:67.8,skewY:4.8,x:237.9,y:238.4},0).wait(1).to({scaleX:1.79,scaleY:1.79,skewX:69.5,skewY:4.9,y:241.3},0).wait(1).to({scaleX:1.8,scaleY:1.8,skewX:71.2,skewY:5,x:238.1,y:244.1},0).wait(1).to({scaleX:1.81,scaleY:1.81,skewX:73,skewY:5.2,x:238.2,y:247.1},0).wait(1).to({scaleX:1.82,scaleY:1.82,skewX:74.8,skewY:5.3,y:250.2},0).wait(1).to({scaleX:1.83,scaleY:1.83,skewX:76.6,skewY:5.4,x:238.3,y:253.3},0).wait(1).to({scaleX:1.83,scaleY:1.83,skewX:78.6,skewY:5.5,x:238.4,y:256.6},0).wait(1).to({scaleX:1.84,scaleY:1.84,skewX:80.6,skewY:5.7,x:238.5,y:260.1},0).wait(1).to({scaleX:1.85,scaleY:1.85,skewX:82.8,skewY:5.8,x:238.6,y:263.7},0).wait(1).to({regX:32.9,regY:42.6,scaleX:1.86,scaleY:1.86,skewX:85,skewY:6,x:238.8,y:267.5},0).to({scaleX:1.86,skewX:81,skewY:5.8,x:238.9,y:265.7},4).to({scaleX:1.86,skewX:85,skewY:6,x:238.8,y:267.5},6).wait(19))}).prototype=i=new n.MovieClip,i.nominalBounds=new n.Rectangle(289.7,183.3,222.6,223)}(e=e||{},0,createjs),window.canvas=document.getElementById("canvas"),window.exportRoot=new e.CollapsedLogoErrorAnimation,window.stage=new createjs.Stage(canvas),window.stage.addChild(exportRoot),window.stage.update(),createjs.Ticker.setFPS(e.properties.fps),createjs.Ticker.addEventListener("tick",stage)}}},{}],634:[function(e,t,n){"use strict";var r={},i=e("jquery")('\n  <div class="checking-access wrfont">\n    <div class="processing-content">\n      <div class="logo pulse"></div>\n      <p>\n        We\'re verifying you have access to this article...</br>\n        It shouldn\'t take long so please keep this window open.\n      </p>\n    </div>\n  </div>\n');r.show=function(e){i.appendTo(e)},r.hide=function(){i.detach()},t.exports=r},{jquery:400}],635:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.string.iterator"),e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var i=e("jquery"),o={},a={easeljs:"https://code.createjs.com/easeljs-0.8.1.min.js",tweenjs:"https://code.createjs.com/tweenjs-0.6.1.min.js",movieclip:"https://code.createjs.com/movieclip-0.8.1.min.js"};function s(){var t;return t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(e){return new Promise(function(t){return i.getScript(e,t)})},t.abrupt("return",n(a.easeljs).then(function(){return Promise.all([n(a.tweenjs),n(a.movieclip)])}).then(function(){return e("./animation.js")}));case 2:case"end":return t.stop()}},t)}),(s=function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}o.createAnimation=function(){return s.apply(this,arguments)},o.layout=function(e){return i('\n    <div class="error wrfont">\n      <canvas id="canvas" width="400" height="300"></canvas>\n      <div class="error-content">'.concat(e,"</div>\n    </div>"))},o.mailTo=function(e){var t="I cannot load the following webpage: ".concat(location.href),n=function(e){return 404==e?"Possible Broken Link (404)":"Possible Server Error (500)"}(e);return"mailto:support@readcube.com?subject=".concat(encodeURIComponent(n),"&body=").concat(encodeURIComponent(t))},t.exports=o},{"./animation.js":633,"core-js/modules/es6.array.iterator":284,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.string.iterator":313,"core-js/modules/web.dom.iterable":321,jquery:400,"regenerator-runtime/runtime":420}],636:[function(e,t,n){"use strict";e("core-js/modules/es6.array.find");var r=e("jquery"),i=e("blueimp-md5"),o=e("../../common/util"),a=e("../../common/storage"),s={},c=l();function l(){return parseInt(a.session.get(u()))||10}function u(){return"processing-refresh:".concat(i(location.href))}s.show=function(e){var t=r('\n    <div class="processing wrfont">\n      <div class="processing-content">\n        <div class="logo pulse"></div>\n        <h2>Article processing...</h2>\n        <p>\n          We\'re still processing this PDF for the Enhanced Web Reader - it shouldn\'t take long so please keep this window open.\n        </p>\n        <p>This page will automatically reload in <em id="refresh">'.concat(c,"</em> seconds...</p>\n      </div>\n    </div>\n  ")).appendTo(e),n=setInterval(function(){var e;--c>0?t.find("em#refresh").text(c):(clearInterval(n),e=2*l(),a.session.set(u(),Math.min(e,60)),o.reload())},1e3)},t.exports=s},{"../../common/storage":476,"../../common/util":482,"blueimp-md5":167,"core-js/modules/es6.array.find":279,jquery:400}],637:[function(e,t,n){"use strict";var r=e("underscore"),i=e("../common/storage"),o=e("./referrer_host"),a="readcube-proxy-referrer",s={nature:/nature\.com/,palgrave:/palgraveconnect\.com/,wiley:/onlinelibrary\.wiley\.com/,karger:/karger\.(com|de)/};t.exports=function(e){var t;return e&&e==(t=o(),r.findKey(s,function(e){return e.test(t)}))&&function(e,t){var n=JSON.parse(i.session.get(a)||"{}");n[e]=t,i.session.set(a,JSON.stringify(n))}(e,o()),function(e){var t=JSON.parse(i.session.get(a));return t&&t[e]}(e)}},{"../common/storage":476,"./referrer_host":643,underscore:432}],638:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.assign");var r=e("jquery"),i=e("query-string"),o=e("./reader_api_helper"),a=e("../access/access_token"),s=e("../referrer_host"),c=(e("../../common/util"),e("../../common/getkey")),l=e("../../tracking/track_id"),u=e("../../endpoint"),d=e("../../router"),f=c("reader_data.st")||"",p=d.isPersonal?Object.assign({},e("./reader_api_personal")):Object.assign({},e("./reader_api_public"));p.share_link=function(e){return new Promise(function(t,n){r.ajax(Object.assign({},o.XHR_DEF,{method:"POST",url:"".concat(u.services,"/sharing/p2p_reader"),contentType:"application/json; charset=UTF-8",data:JSON.stringify(e),headers:o.clientHeaders,success:o.bindSuccess(t,n),error:o.bindError(n)}))})},p.proxy_mobile=function(e){var t=function(e){var t={doi:e},n=a.get();return t[n.key]=n.val,Object.assign(o.clientParams,t,{source:"mobile_reader",referrer_url:decodeURIComponent(location.href),referrer:s(),tracking_id:l.get()})}(e);return new Promise(function(e,n){r.ajax({url:"".concat(u.services,"/reader/generate_proxy_url?").concat(i.stringify(t)),success:function(t){return t.url?e(t):n(t)},error:n})})},p.stream_pdf=function(e){return new Promise(function(t,n){r.ajax({method:"POST",url:"".concat(u.services_gateway,"/transform_pdf"),contentType:"application/json; charset=UTF-8",data:JSON.stringify(e),headers:o.clientHeaders,success:t,error:n})})},p.related=function(e){var t=Object.assign(o.clientParams,{doi:e,st:f});return new Promise(function(e,n){r.ajax(Object.assign({},o.XHR_DEF,{url:"".concat(u.services,"/reader/related?").concat(i.stringify(t)),success:e,error:n}))})},p.metrics=function(e){var t=Object.assign(o.clientParams,e);return new Promise(function(e,n){r.ajax(Object.assign({},o.XHR_DEF,{url:"".concat(u.services,"/articles/metrics?").concat(i.stringify(t)),success:e,error:n}))})},t.exports=p},{"../../common/getkey":469,"../../common/util":482,"../../endpoint":523,"../../router":567,"../../tracking/track_id":584,"../access/access_token":607,"../referrer_host":643,"./reader_api_helper":639,"./reader_api_personal":640,"./reader_api_public":641,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"query-string":413}],639:[function(e,t,n){"use strict";e("core-js/modules/es6.function.name");var r=e("query-string"),i=e("../client"),o=e("../../endpoint"),a=e("../../evtbus");t.exports={XHR_DEF:{dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0}},clientHeaders:{"X-Readcube-Client":i.name,"X-Readcube-Client-Version":i.version},get clientParams(){return{client:i.name,client_version:i.version}},gotoAuth:function(){location.href="".concat(o.web,"/authentication?").concat(r.stringify({redirect:location.href}))},bindSuccess:function(e,t){return function(n){return n.error?t(n):e(n)}},bindError:function(e){var t=this;return function(n){if(401==n.status)return t.gotoAuth();403==n.status&&a.trigger("xhr-access-forbidden"),e(n.responseJSON||n.responseText||n)}}}},{"../../endpoint":523,"../../evtbus":525,"../client":617,"core-js/modules/es6.function.name":292,"query-string":413}],640:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.regexp.split");var r=e("jquery"),i=e("underscore"),o=e("query-string"),a=(e("../../common/getkey"),e("../../endpoint")),s=e("./reader_api_helper"),c={};function l(e){return e.library_id.split(":")[1]}function u(e){return"".concat(a.sync,"/collections/").concat(function(e){return e.library_id.split(":")[0]}(e),"/reader")}c.basedata=function(e){var t=s.clientParams;return new Promise(function(n,i){r.ajax(Object.assign({},s.XHR_DEF,{url:"".concat(u(e),"/personal_data/").concat(l(e),"?").concat(o.stringify(t)),success:s.bindSuccess(n,i),error:s.bindError(i)}))})},c.metadata=function(e){var t=Object.assign(s.clientParams,{doi:e});return new Promise(function(e,n){r.ajax(Object.assign({},s.XHR_DEF,{url:"".concat(a.services,"/reader/metadata?").concat(o.stringify(t)),success:s.bindSuccess(e,n),error:s.bindError(n)}))})},c.supplement=function(e){var t=Object.assign(s.clientParams,i.pick(e,"index"));return new Promise(function(n,i){r.ajax(Object.assign({},s.XHR_DEF,{url:"".concat(u(e),"/personal_supplement/").concat(l(e),"?").concat(o.stringify(t)),success:s.bindSuccess(n,i),error:s.bindError(i)}))})},t.exports=c},{"../../common/getkey":469,"../../endpoint":523,"./reader_api_helper":639,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.split":307,jquery:400,"query-string":413,underscore:432}],641:[function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("core-js/modules/es6.string.iterator"),e("core-js/modules/es6.array.from"),e("core-js/modules/es6.regexp.to-string"),e("core-js/modules/es6.date.to-string"),e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.symbol"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.is-array"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.assign");var i=e("jquery"),o=e("underscore"),a=e("query-string"),s=e("../../common/getkey"),c=e("../../endpoint"),l=e("../access/access_token"),u=e("./reader_api_helper"),d={},f=s("reader_data.st")||"",p=["doi","index","st","publisher","parent_url","lang","cochrane"],h=["preview","please","use_s3"];function m(e){return e=Object.assign({},e,{st:f}),e=o.pick(e,[].concat(p,r(l.ACCESS_TOKENS),h)),e=o.omit(e,function(e){return null==e})}d.basedata=function(e){var t=Object.assign(u.clientParams,m(e));return new Promise(function(e,n){i.ajax(Object.assign({},u.XHR_DEF,{url:"".concat(c.services,"/reader/public_data?").concat(a.stringify(t)),success:u.bindSuccess(e,n),error:u.bindError(n)}))})},d.fulldata=function(e,t){return new Promise(function(n,r){i.ajax(Object.assign({},u.XHR_DEF,{method:"POST",url:"".concat(c.services,"/reader/public_access"),contentType:"application/json; charset=UTF-8",data:JSON.stringify(Object.assign({},t,m(e))),headers:u.clientHeaders,success:u.bindSuccess(n,r),error:u.bindError(r)}))})},d.supplement=function(e){var t=Object.assign(u.clientParams,m(e));return new Promise(function(e,n){i.ajax(Object.assign({},u.XHR_DEF,{url:"".concat(c.services,"/reader/public_supplement?").concat(a.stringify(t)),success:u.bindSuccess(e,n),error:u.bindError(n)}))})},t.exports=d},{"../../common/getkey":469,"../../endpoint":523,"../access/access_token":607,"./reader_api_helper":639,"core-js/modules/es6.array.from":281,"core-js/modules/es6.array.is-array":283,"core-js/modules/es6.date.to-string":290,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.to-string":308,"core-js/modules/es6.string.iterator":313,"core-js/modules/es6.symbol":316,"core-js/modules/es7.symbol.async-iterator":320,"core-js/modules/web.dom.iterable":321,jquery:400,"query-string":413,underscore:432}],642:[function(e,t,n){"use strict";var r=e("jquery"),i=e("../common/eventer"),o={all:i({}),readcube:i({})};r(window).on("message",function(e){for(;e.originalEvent;)e=e.originalEvent;var t;e.data&&e.data.type&&(t=e.origin,/readcube\.com(:\d+)?$/.test(t||"")&&o.readcube.trigger(e.data.type,[e.data]),o.all.trigger(e.data.type,[e.data]))}),window.popupMessage=function(e){o.all.trigger(e.type,[e])},t.exports=o},{"../common/eventer":466,jquery:400}],643:[function(e,t,n){"use strict";var r=e("blueimp-md5"),i=e("parse-uri"),o=e("../router"),a=e("../common/storage"),s=e("../common/getkey");t.exports=function(){var e="reader-referrer-"+r(location.href),t=a.session.get(e);return t||((t=(t=(t=o.params.referrer_host)||s("browser_data.referrer"))||i(document.referrer).host)&&a.session.set(e,t),t)}},{"../common/getkey":469,"../common/storage":476,"../router":567,"blueimp-md5":167,"parse-uri":404}],644:[function(e,t,n){"use strict";e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.array.map"),e("promise.prototype.finally").shim();var r=e("../access"),i=e("../../tracking/tracker"),o=e("../../reader_api"),a=e("../../article"),s=e("../../evtbus"),c=e("../../status"),l=e("../../annotations/annotation_model"),u=e("../../common/getkey"),d=e("../../modals/offline_modal"),f=e("./article_print"),p={};function h(e){var t=a.download_url,n=a.data.cover,r=a.data.back,i=u("data.location.country",a),s=e?l.list().map(function(e){return e.serialize()}):[];return n||r||s.length||/^china$/i.test(i)?o.stream_pdf({url:t,annotations:s,cover:n,back:r}).then(function(e){return location.href=e.redirect}).catch(function(){return location.href=t}):(location.href=t,Promise.resolve())}p.download=function(e){return c.onLine?new Promise(function(t,n){r.checked().then(function(){a.download_url?h(e).then(t,n).finally(function(){i.download(!0)}):(i.download(!1),s.trigger("download-unavailable"),n(a.hasAccess?"cloudview":"preview"))})}):(d.open(),Promise.reject())},p.print=function(e){return c.onLine?new Promise(function(t,n){r.checked().then(function(){a.print_url?f.print(e).then(t,n):(s.trigger("print-unavailable"),n(a.hasAccess?"cloudview":"preview"))})}):(d.open(),Promise.reject())},t.exports=p},{"../../annotations/annotation_model":441,"../../article":455,"../../common/getkey":469,"../../evtbus":525,"../../modals/offline_modal":555,"../../reader_api":565,"../../status":569,"../../tracking/tracker":585,"../access":604,"./article_print":645,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,"promise.prototype.finally":409}],645:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e("regenerator-runtime/runtime"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var i=e("../../annotations/annotation_model"),o=e("../../viewer/viewer"),a=e("../../tracking/tracker"),s=e("./print_helper"),c={};function l(){var e;return e=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.print("hd"),!s.mustStream){e.next=10;break}return e.next=4,s.printStream();case 4:if(n=e.sent,!s.canPrintNative){e.next=9;break}return e.abrupt("return",s.printNative(n));case 9:return e.abrupt("return",s.openWindow(n));case 10:if(!t||!i.list().length){e.next=12;break}return e.abrupt("return",o.print(t));case 12:if(!s.canPrintNative){e.next=14;break}return e.abrupt("return",s.printNative());case 14:return e.abrupt("return",o.print(t));case 15:case"end":return e.stop()}},e)}),(l=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}).apply(this,arguments)}c.print=function(e){return l.apply(this,arguments)},t.exports=c},{"../../annotations/annotation_model":441,"../../tracking/tracker":585,"../../viewer/viewer":602,"./print_helper":646,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"regenerator-runtime/runtime":420}],646:[function(e,t,n){"use strict";e("core-js/modules/es6.object.define-property"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");e("jquery");var r=e("print-js"),i=e("../../article"),o=e("../../reader_api"),a=e("../../common/getkey"),s=e("../../common/browser"),c=e("../../modals/print_progress"),l={},u=!s.Firefox&&!s.Edge&&!s.IE;l.printStream=function(){return new Promise(function(e){o.stream_pdf({url:i.print_url,cover:i.data.cover,back:i.data.back,print:!0}).then(function(t){return e(t.data.redirect)}).catch(function(){return e(i.print_url)})})},l.printNative=function e(t){return new Promise(function(n,o){if(e.response)s(e.response);else{var a=new window.XMLHttpRequest;a.responseType="arraybuffer",a.addEventListener("progress",function(e){c.update(e.loaded,e.total)}),a.addEventListener("load",function(){s(e.response=a.response)}),a.addEventListener("error",function(){return l}),a.addEventListener("abort",function(){return l}),c.open(),c.on("cancel",function(){a.abort(),o()}),a.open("GET",t||i.print_url,!0),a.send()}function s(e){var t=new window.Blob([e],{type:"application/pdf"});r({printable:window.URL.createObjectURL(t)}),c.close(),n()}function l(){c.close(),o()}})},l.openWindow=function(e){return window.open(e||i.print_url,"_blank"),Promise.resolve()},Object.defineProperty(l,"canPrintNative",{get:function(){return u}}),Object.defineProperty(l,"mustStream",{get:function(){return i.data.cover||i.data.back||/^china$/i.test(a("data.location.country",i))}}),t.exports=l},{"../../article":455,"../../common/browser":461,"../../common/getkey":469,"../../modals/print_progress":557,"../../reader_api":565,"core-js/modules/es6.object.define-property":297,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"print-js":405}],647:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es6.object.assign"),e("core-js/modules/es6.function.name");var r=e("jquery"),i=e("underscore"),o=e("query-string"),a=(e("../common/util"),e("../router")),s=e("../article"),c=e("../endpoint"),l=(e("../sync/sync_item"),e("./faye_client")),u=e("./client"),d={},f={},p={},h={},m={dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0}},g={client:u.name,client_id:u.id,client_version:u.version},v={"X-Readcube-Client":u.name,"X-Readcube-Client-Id":u.id,"X-Readcube-Client-Version":u.version},y=null;function b(e){return function(t){return e(t.responseJSON||t.responseText||t)}}function w(){return"".concat(c.sync,"/collections/").concat(y.collection_id,"/items/").concat(y.id)}function _(){if(a.collection_id&&a.item_id)return y={collection_id:a.collection_id,id:a.item_id},"".concat(w(),"?").concat(o.stringify(g));var e=Object.assign(g,i.pick(a,"doi"));return"".concat(c.sync,"/items/find_doi?").concat(o.stringify(e))}function x(e){var t=[w(),"annotations"].join("/");return e&&(t=[t,e].join("/")),t}function k(e){return"".concat(c.sync,"/collections/").concat(e||a.collection_id)}function j(){return new Promise(function(e,t){r.ajax(Object.assign({},m,{type:"GET",url:_(),success:function(t){y=t.item,e(t)},error:b(t)}))})}function C(e){return new Promise(function(t,n){r.ajax(Object.assign({},m,{type:"POST",url:"".concat(c.sync,"/items/add"),data:e,headers:v,success:function(e){y=e.item,t(e)},error:b(n)}))})}d.get=function(){return window.readcube_user?Promise.resolve(window.readcube_user):Promise.reject({status:401})},f.view=function(){return new Promise(function(e,t){r.ajax(Object.assign({},m,{type:"POST",url:"".concat(w(),"/view"),headers:v,success:e,error:b(t)}))})},f.get=j,f.add=function(e){return e.non_hosted_url?function(e){return new Promise(function(t,n){C(e).then(function(e){var r=i.once(function(r){r?t(e):n({error:"timeout"})}),o=subscribeItem(e.item.id,function(){o.cancel(),r(!0)});setTimeout(function(){o.cancel(),j().then(function(e){return r(!!e.item.pdf_hash)}).catch(function(){return r(!1)})},6e4)}).catch(n)})}(e):C(e)},f.update=function(e){return new Promise(function(t,n){var i=Object.assign({},m,{type:"PATCH",url:w(),contentType:"application/json; charset=UTF-8",data:JSON.stringify(e),headers:v,success:t,error:b(n)});a.isPublic&&(i.headers["X-Readcube-Public"]="true"),r.ajax(i)})},f.remove=function(){return new Promise(function(e,t){r.ajax(Object.assign({},m,{type:"DELETE",url:w(),headers:v,success:e,error:b(t)}))})},f.status=function(e){return new Promise(function(t,n){r.ajax(Object.assign({},m,{type:"POST",url:"".concat(c.sync,"/items/fetch_status"),contentType:"application/json; charset=UTF-8",data:JSON.stringify(e),headers:v,success:t,error:b(n)}))})},p.list=function(){return new Promise(function(e,t){var n=s.data.hash,i=Object.assign(g,{sha256:n});r.ajax(Object.assign({},m,{type:"GET",url:"".concat(x(),"?").concat(o.stringify(i)),success:e,error:b(t)}))})},p.add=function(e){return new Promise(function(t,n){(e=Object.assign({annotation:{}},e)).annotation.sha256=s.data.hash;var i=Object.assign({},m,{type:"POST",url:x(),contentType:"application/json; charset=UTF-8",data:JSON.stringify(e),headers:v,success:t,error:b(n)});a.isPublic&&(i.headers["X-Readcube-Public"]="true"),r.ajax(i)})},p.update=function(e,t){return new Promise(function(n,i){var o=Object.assign({},m,{type:"PATCH",url:x(e),contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),headers:v,success:n,error:b(i)});a.isPublic&&(o.headers["X-Readcube-Public"]="true"),r.ajax(o)})},p.remove=function(e){return new Promise(function(t,n){r.ajax(Object.assign({},m,{type:"DELETE",url:x(e),headers:v,success:t,error:b(n)}))})},h.get=function(e){return new Promise(function(t,n){r.ajax(Object.assign({},m,{type:"GET",url:"".concat(k(e),"?").concat(o.stringify(g)),success:t,error:b(n)}))})},h.subscribe=function(e){return l.subscribe(l.collectionChannel(),e)},t.exports={user:d,item:f,annots:p,collection:h}},{"../article":455,"../common/util":482,"../endpoint":523,"../router":567,"../sync/sync_item":573,"./client":617,"./faye_client":627,"core-js/modules/es6.function.name":292,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400,"query-string":413,underscore:432}],648:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.promise.finally"),e("promise.prototype.finally").shim();e("../user");var r=e("../status"),i=e("../article"),o=e("../notifications/toast"),a=e("../sync/sync_item"),s=e("../modals/auth_modal"),c=e("../modals/basic_modal"),l=e("../modals/offline_modal"),u=e("../tracking/tracker"),d={};d.add=function(e){r.onLine?s.login(e).then(function(){var e;e=a.add().catch(function(){}),i.data.non_hosted&&(o.show("sync-non-hosted"),e.finally(function(){return o.hide("sync-non-hosted")})),u.saveCloud()}):l.open()},d.remove=function(){if(r.onLine){var e=c({title:"Are you sure?",content:"<p>Are you sure you want to permanently remove this reference from your library?</p>",buttons:[{text:"No",handler:function(){return e.close()}},{text:"Yes",primary:!0,handler:function(){e.close(),a.remove().catch(function(){})}}]});e.open()}else l.open()},t.exports=d},{"../article":455,"../modals/auth_modal":550,"../modals/basic_modal":551,"../modals/offline_modal":555,"../notifications/toast":564,"../status":569,"../sync/sync_item":573,"../tracking/tracker":585,"../user":586,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es7.promise.finally":319,"promise.prototype.finally":409}],649:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.object.assign");var r=e("underscore"),i=e("../../router"),o=e("../../evtbus"),a=e("../../article"),s=e("../../user"),c=e("../access"),l=e("../access/access_token"),u=e("../receiver");function d(e){i.parent&&window.parent.postMessage(e,i.parent)}function f(e,t){d(Object.assign({},t,{type:e,user:s.get()||{},access:r.pick(Object.assign({share_token:c.hasSharingToken&&l.get().val,share_type:c.hasSharingToken&&l.get().key.replace("_access_token","")},a.data),["access_method","purchase_tier","share_token","share_type","referrer"])}))}c.on("preview",function(){return f("access:preview")}),c.on("cloudview fullview",function(){return f("access:fulltext")}),c.on("sharelink",function(e,t){return f("create_sharing_link",{share:{token:t.token}})}),o.on("article-export:downlaod",function(){return f("download_pdf")}),u.readcube.on(["auth:new","auth:success","checkout:new","checkout:auth","checkout:auth-screen","checkout:billing-screen","checkout:purchase-screen","checkout:success","checkout:failure"].join(" "),function(e,t){return d(t)})},{"../../article":455,"../../evtbus":525,"../../router":567,"../../user":586,"../access":604,"../access/access_token":607,"../receiver":642,"core-js/modules/es6.object.assign":295,"core-js/modules/es6.regexp.replace":305,underscore:432}],650:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("jquery"),i=e("../endpoint"),o=e("../environment");t.exports={available:function(){var e=window.reader_version||{};return new Promise(function(t){r.ajax({url:i.version,cache:o.development}).done(function(n){e.hash!=n.hash&&new Date(e.timestamp)<new Date(n.timestamp)&&t()})})}}},{"../endpoint":523,"../environment":524,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,jquery:400}],651:[function(e,t,n){"use strict";e("core-js/modules/es6.object.assign");var r=e("../main"),i=e("../router"),o=e("../common/browser"),a=e("../tracking/track_error"),s=e("./web_helper");t.exports=Object.assign(r,{get _forceHTML(){return!(!i.isPublic||!o.IEish)||(!!(i.isPublic&&o.Safari&&parseFloat(o.info.version)<11)||!!i.params.force_html)},_canRenderWith:function(e){return e.viewer_pdf&&!this._forceHTML||e.stylesheet||e.png},_mustUseHTML:function(e){return this._forceHTML||e.png||!e.viewer_pdf},renderPdf:function(e){var t=this;r.setPdf(e).catch(function(n){"pdf_parse_error"==n?e.stylesheet?t.renderHtml(e):s.showPdfParseError(e.download_url):(a(n),s.show500())})},renderHtml:function(e,t){r.setHtml(e,t).catch(function(e){a(e),s.show500()})},renderData:function(e,t){this._canRenderWith(e)&&(this._mustUseHTML(e)?this.renderHtml(e,t):this.renderPdf(e))}})},{"../common/browser":461,"../main":542,"../router":567,"../tracking/track_error":583,"./web_helper":653,"core-js/modules/es6.object.assign":295}],652:[function(e,t,n){"use strict";e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string"),e("core-js/modules/es7.promise.finally"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.regexp.split"),e("core-js/modules/es6.array.map");var r=e("jquery"),i=e("underscore"),o=e("file-saver"),a=e("../user"),s=e("../router"),c=e("../evtbus"),l=e("../article"),u=e("../viewer/viewer"),d=e("../common/browser"),f=e("../common/util"),p=e("../common/export_helper"),h=e("../notifications/toast"),m=e("../sync/sync"),g=e("../sync/sync_item"),v=e("./services/article_export"),y=e("./sync_helper"),b={bib:e("./export/bib"),ris:e("./export/ris")};t.exports={bindUtility:function(){c.on("open-url",function(e,t){window.open(t,"_blank")}),c.on("open-in-library",function(e,t){window.open(s.libraryItemUrl(t),"_blank")}),c.on("read-in-library",function(e,t){window.open(s.generate("personal_article",{library_id:"".concat(t.collection_id,":").concat(t.id)}),"_blank")}),c.on("open-library-tag",function(e,t){var n=l.data.sync_collection_id||a.id;n&&t&&window.open(s.libraryTagUrl(n,t),"_blank")}),c.on("download",function(e,t,n,r){r&&n?o.saveAs(r,n):window.open(t,"_blank")}),s.params.lightbox&&u.on("background-click",function(){return f.notifyParent("close")}),c.on("copy-to-clipboard",function(e,t){return function(e){var t=document.createElement("div");t.setAttribute("contentEditable",!0),t.innerHTML=e,document.body.appendChild(t),window.getSelection().selectAllChildren(t),document.execCommand("copy"),document.body.removeChild(t)}(t)}),c.on("search-google",function(e,t){var n=t.split(/\s/g).map(encodeURIComponent).join("+");window.open("https://www.google.com/search?q=".concat(n))}),"mac"==d.OS&&c.on("look-up",function(e,t){return location.href="dict://".concat(t)})},bindExport:function(){c.on("export-citation",function(e,t){var n=new Blob([b[t](l.data.meta,!0)],{type:"text/plain;charset=UTF-8"}),r=encodeURIComponent(p.getKey(l.data.meta))+"."+t;o.saveAs(n,r)})},bindSync:function(){function e(e){return"created"==e.action&&e.doi===s.doi}u.isDiscover||(c.on("add-to-library",function(e,t){y.add(t)}),c.on("remove-from-library",y.remove),c.on("prompt-sync-changes",function(){h.show("prompt-sync-changes")}),g.on("added",function(){h.hide("prompt-sync-changes")}),m.notifications.on("collection",function(t,n){n.changes.find(e)&&g.sync()}))},bindBase:function(){c.on("download-pdf",function(e,t){r("html").addClass("downloading"),v.download(t).catch(i.noop).finally(function(){return r("html").removeClass("downloading")})}),c.on("print-pdf",function(e,t){r("html").addClass("printing"),v.print(t).catch(i.noop).finally(function(){return r("html").removeClass("printing")})}),this.bindUtility()},bindMeta:function(){c.on("read-supplement",function(e,t){var n={index:t.index};"anywhere_access"==l.accessMethod&&(n.anywhere_access=1),s.params.theme&&(n.theme=s.params.theme),t.personal?window.open(s.generate("personal_supplement",n)):(l.doi&&(n.doi=l.doi),window.open(s.generate("public_supplement",n)))}),c.on("open-supplement",function(e,t){window.open(t.download_url||t.source_url,"_blank")}),this.bindExport()}}},{"../article":455,"../common/browser":461,"../common/export_helper":467,"../common/util":482,"../evtbus":525,"../notifications/toast":564,"../router":567,"../sync/sync":571,"../sync/sync_item":573,"../user":586,"../viewer/viewer":602,"./export/bib":625,"./export/ris":626,"./services/article_export":644,"./sync_helper":648,"core-js/modules/es6.array.find":279,"core-js/modules/es6.array.map":285,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.split":307,"core-js/modules/es7.promise.finally":319,"file-saver":387,jquery:400,underscore:432}],653:[function(e,t,n){"use strict";e("core-js/modules/es6.regexp.replace"),e("core-js/modules/es6.promise"),e("core-js/modules/es6.object.to-string");var r=e("jquery"),i=e("../router"),o=e("../endpoint"),a=e("../settings"),s=e("../viewer/viewer"),c=e("../common/util"),l=e("../common/getkey"),u=e("../modals/redirect_prompt"),d=e("../modals/no_preview"),f=e("../modals/parse_error"),p=e("./access/access_token");t.exports={get isNonHosted(){return!1===l("reader_data.institution_access.hosted")},get hasAnywhereAccess(){return"subscription"==l("reader_data.institution_access.access")},get skipVerifyAA(){return"verified"===i.params.anywhere_access},get hasAccessApi(){return!!i.params.access_api},container:function(){return new Promise(function(e){r(function(){return e(document.getElementById("viewer"))})})},setFontFace:function(e){e&&c.addCSS("\n        @import url('https://fonts.googleapis.com/css?family=".concat(e,"');\n        .wrfont { font-family: ").concat(e.replace(/\+/g," "),"; }\n      "))},setPublisherClass:function(e){r("html").addClass("publisher-".concat(e))},gotoUnsupported:function(e){var t=p.get()?"http://authors.springernature.com":o.web;this.redirect("".concat(t,"/unsupported/").concat(i.doi),e)},gotoLinkResolver:function(e){if(i.params.anywhere_access_autoload)c.notifyParent("close");else{var t=l("reader_data.institution_access.link_resolver_url");this.redirect(t||"https://doi.org/".concat(i.doi),e)}},redirect:function(e,t){t&&a.redirectNotice?this.showRedirectPrompt(e,t):c.redirectOrPost(e)},showRedirectPrompt:function(e,t){this.container().then(function(){u.open(e,t),s.destroy(),c.notifyParent("initialized")})},showPreviewUnavailable:function(e){this.container().then(function(){d.open(e),s.destroy()})},showPdfParseError:function(e){this.container().then(function(){f.open(e),s.destroy()})},showProcessing:function(){this.container().then(function(t){e("./pages/processing").show(t),s.destroy()})},show404:function(){this.container().then(function(t){e("./pages/404").show(t),s.destroy()})},show500:function(){i.parent?c.notifyParent("html_unavailable"):this.container().then(function(t){e("./pages/500").show(t),s.destroy()})}}},{"../common/getkey":469,"../common/util":482,"../endpoint":523,"../modals/no_preview":554,"../modals/parse_error":556,"../modals/redirect_prompt":558,"../router":567,"../settings":568,"../viewer/viewer":602,"./access/access_token":607,"./pages/404":631,"./pages/500":632,"./pages/processing":636,"core-js/modules/es6.object.to-string":299,"core-js/modules/es6.promise":300,"core-js/modules/es6.regexp.replace":305,jquery:400}]},{},[628]);